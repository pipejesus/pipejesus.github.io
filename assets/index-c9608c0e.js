(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();const style="",instagram="";var Template={render(e,t){return"".concat(this.css(e,t),`
            `).concat(this.html())},map(e){return{canvas:e.querySelector("canvas")}},html(e){return"<canvas></canvas>"},css(e,t){return`<style>
      :host {
        position: relative;
        display: inline-block;
        width: `.concat(e||250,`px;
        height: `).concat(t||250,`px;
      }
      :host > canvas {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        border-radius: inherit;
      }
    </style>`)}};function AudioContextResume(e){const t=new Set,r=new Set,n=[];function o(d){e.state==="running"?(console.log("already"),d()):n.push(d)}function a(d){console.log(d),t.add(d.targetElement)}function s(d){t.has(d.targetElement)?t.delete(d.targetElement):c()}function l(){n.forEach(d=>{d()})}function c(){const d=e.createBufferSource();d.buffer=e.createBuffer(1,1,e.sampleRate),d.connect(e.destination),d.start(0),typeof e.resume=="function"&&e.resume().then(l),f()}function u(d){d.addEventListener("touchstart",s),d.addEventListener("touchmove",a),d.addEventListener("touchend",s),d.addEventListener("mouseup",s),r.add(d)}function f(){r.forEach(d=>{d.removeEventListener("touchstart",s),d.removeEventListener("touchmove",a),d.removeEventListener("touchend",s),d.removeEventListener("mouseup",s)}),r.clear(),t.clear()}return{onStart:o,register:u,dispose:f}}const TIME=0,DELTA=1,DATE=2,FRAME=3,GLOBAL_UNIFORMS=[{name:"u_time",toyname:"iTime",type:"float",value:0},{name:"u_delta",toyname:"iTimeDelta",type:"float",value:0},{name:"u_date",toyname:"iDate",type:"vec4",value:[0,0,0,0]},{name:"u_frame",toyname:"iFrame",type:"int",value:0}],RESOLUTION=0,MOUSE=1,MOUSEDRAG=2,SURFACE_UNIFORMS=[{name:"u_resolution",toyname:"iResolution",type:"vec2",value:[0,0]},{name:"u_mouse",toyname:"iCurrentMouse",type:"vec2",value:[0,0]},{name:"u_mousedrag",toyname:"iMouse",type:"vec4",value:[0,0,0,0]}],ORIENTATION=0,ORIENTATION_UNIFORMS=[{name:"u_orientation",toyname:"iOrientation",type:"vec3",value:[0,0,0]}],BASE_UNIFORM_ARRAY=[...GLOBAL_UNIFORMS,...ORIENTATION_UNIFORMS,...SURFACE_UNIFORMS],SHADERTOY_IO=/\(\s*out\s+vec4\s+(\S+)\s*,\s*in\s+vec2\s+(\S+)\s*\)/;var cheapClone=e=>JSON.parse(JSON.stringify(e));function DeviceOrientation(){let e=!1;const t=cheapClone(ORIENTATION_UNIFORMS);function r(){e||(e=!0,typeof DeviceOrientationEvent=="object"&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&window.addEventListener("deviceorientation",n)}).catch(console.error):window.addEventListener("deviceorientation",n))}function n(a){t[ORIENTATION].value[0]=a.alpha,t[ORIENTATION].value[1]=a.beta,t[ORIENTATION].value[2]=a.gamma}function o(){window.removeEventListener("deviceorientation",n)}return{get ustate(){return t},setup:r,dispose:o}}function Extensions(e){const t={},r=e.getExtension.bind(e);return{get:function(o){if(t[o]!==void 0)return t[o];const a=r(o)||r("MOZ_".concat(o))||r("WEBKIT_".concat(o));return a===null&&console.warn("<shader-doodle /> ".concat(o," extension not supported.")),t[o]=a,a}}}function Renderer(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),r=DeviceOrientation(),n=new(window.AudioContext||window.webkitAudioContext),o=new AudioContextResume(n);n.onStart=o.onStart,t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND);let a=0,s=0,l=1,c,u,f=new Set;const d=cheapClone(GLOBAL_UNIFORMS),m=Extensions(t);m.get("OES_texture_float"),m.get("OES_texture_float_linear"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear");function _(S,w){S!==a&&(a=S,e.width=Math.floor(a*l)),w!==s&&(s=w,e.height=Math.floor(s*l))}function v(S,w){(S>a||w>s)&&_(Math.max(S,a),Math.max(w,s))}function E(S){const w=u?(S-u)/1e3:0;u=S,d[TIME].value+=w,d[DELTA].value=w,d[FRAME].value++;const A=new Date;d[DATE].value[0]=A.getFullYear(),d[DATE].value[1]=A.getMonth()+1,d[DATE].value[2]=A.getDate(),d[DATE].value[3]=A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()+A.getMilliseconds()*.001}function p(S){if(!f.size){c=void 0;return}E(S);const w=[...d,...r.ustate];f.forEach(A=>A.render(e,v,a,s,l,w)),c=requestAnimationFrame(p)}function g(S){o.register(S.dom),S.addClick(r.setup),f.add(S),c||(c=requestAnimationFrame(p))}function h(S){f.delete(S)}function y(S,w,A){for(let T=0;T<d.length;T++)if(d[T].name===S){d[T].value=w,d[T].type=A;return}d.push({name:S,value:w,type:A,toyname:S})}function b(S,w){for(let A=0;A<d.length;A++)if(d[A].name===S){d[A].value=w;break}}function F(){f.forEach(S=>S.dispose()),f.clear(),f=void 0,cancelAnimationFrame(c),r.dispose(),o.dispose()}return t.clearColor(0,0,0,0),Object.freeze({get gl(){return t},get wa(){return n},addSurface:g,removeSurface:h,addUniform:y,setUniform:b,dispose:F})}let singletonRenderer;Renderer.singleton=function(){return singletonRenderer||(singletonRenderer=Renderer()),singletonRenderer};Renderer.resetSingleton=function(){singletonRenderer&&singletonRenderer.dispose(),singletonRenderer=Renderer()};class SDBaseElement extends HTMLElement{get renderer(){return Renderer.singleton()}get name(){return this.getAttribute("name")}set name(t){this.setAttribute("name",t)}}function Attributes(e,t){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let o=0;o<n;o++){const{name:a}=e.getActiveAttrib(t,o);r[a]=e.getAttribLocation(t,a)}return r}function Framebuffer(e){let t,r;const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);const o=e.createTexture();if(!o)throw new Error("createTexture returned null");e.bindTexture(e.TEXTURE_2D,o),s(!0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0);function a(){e.bindFramebuffer(e.FRAMEBUFFER,n),e.viewport(0,0,t,r)}function s(u){e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,u?e.NEAREST:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,u?e.NEAREST:e.LINEAR)}function l(u,f){(u!==t||f!==r)&&(t=u,r=f,e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,u,f,0,e.RGBA,e.FLOAT,null))}function c(){e.deleteFramebuffer(n),e.deleteTexture(o)}return{get handle(){return n},get texture(){return o},updateTexture:s,bind:a,updateResolution:l,dispose:c}}function Shader(e,t,r){const n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){const o=e.getShaderInfoLog(n);e.deleteShader(n),console.warn(o,`
in shader:
`,r)}return n}function arraysEqual(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function copyArray(e,t){for(let r=0,n=t.length;r<n;r++)e[r]=t[r]}function setValueV1f(e,t,r,n){e[0]!==n&&(r.uniform1f(t,n),e[0]=n)}function setValueV2f(e,t,r,n){arraysEqual(e,n)||(r.uniform2fv(t,n),copyArray(e,n))}function setValueV3f(e,t,r,n){arraysEqual(e,n)||(r.uniform3fv(t,n),copyArray(e,n))}function setValueV4f(e,t,r,n){arraysEqual(e,n)||(r.uniform4fv(t,n),copyArray(e,n))}function setValueT1(e,t,r,n){e[0]!==n&&(r.uniform1i(t,n),e[0]=n)}function getUniformSetter(e){switch(e){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35678:case 36198:return setValueT1}}function Uniform(e,t,r){const n=[],o=getUniformSetter(t.type);function a(...s){o(n,r,e,...s)}return{get location(){return r},get name(){return t.name},setValue:a}}function Uniforms(e,t){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let o=0;o<n;o++){const a=e.getActiveUniform(t,o),s=e.getUniformLocation(t,a.name),l=Uniform(e,a,s);r[l.name]=l}return r}var resolveToy=(e,t,r)=>{if(!t)return e[r];const n="toy".concat(r);return e.hasOwnProperty(n)?e[n]:e[r]},createUniformString=(e,t)=>Object.values(e).reduce((r,n)=>r+"uniform ".concat(resolveToy(n,t,"type")," ").concat(resolveToy(n,t,"name"),`;
`),"");let currentProgramId=0;function prepareFragShader(e,t){if(t){const r=e.match(SHADERTOY_IO);e=e.replace("mainImage","main"),e=e.replace(SHADERTOY_IO,"()"),e=(r?"#define ".concat(r[1],` gl_FragColor
#define `).concat(r[2],` gl_FragCoord.xy
`):"")+e}return e=createUniformString(BASE_UNIFORM_ARRAY,t)+e,e=`precision highp float;
`+e,e}function Program(e,t,r,n,o=!1){const a=currentProgramId++,s=e.createProgram(),l=e.createBuffer(),c=Shader(e,e.VERTEX_SHADER,t),u=Shader(e,e.FRAGMENT_SHADER,prepareFragShader(r,o));e.attachShader(s,c),e.attachShader(s,u),e.linkProgram(s);let f,d,m,_,v;const E=Attributes(e,s),p=Uniforms(e,s),g=new Set,h=new Set;let y=0;if(!e.getProgramParameter(s,e.LINK_STATUS)){const L=e.getProgramInfoLog(s);console.warn(L)}e.detachShader(s,c),e.detachShader(s,u),e.deleteShader(c),e.deleteShader(u);const b=E.position;e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),e.enableVertexAttribArray(b),e.vertexAttribPointer(b,2,e.FLOAT,!1,0,0);function F(L,x,k){L.toFbo(x,T(),k),g.add(L)}function S(L){g.delete(L)}function w(L){h.add(L)}function A(L){h.delete(L)}function T(){return y++}function P(L,x,k){f=L,d=x,m=Framebuffer(e),k&&(_=Framebuffer(e),v=T())}function M(L){const x=p[resolveToy(L,o,"name")];x&&x.setValue(resolveToy(L,o,"value"))}function G(L){if(L.forEach(M),h.forEach(x=>x.update(M)),_&&p.u_prevbuffer){const x=p.u_prevbuffer;x&&(x.setValue(v),e.activeTexture(e["TEXTURE".concat(v)]),e.bindTexture(e.TEXTURE_2D,_.texture),_.updateTexture())}g.forEach(x=>{p[x.name].setValue(x.u),e.activeTexture(e["TEXTURE".concat(x.u)]),e.bindTexture(e.TEXTURE_2D,x.fbo.texture),x.fbo.updateTexture()})}function R(L,x,k){if(g.size&&g.forEach(D=>D.render(L,x,k)),m){if(_){const D=m;m=_,_=D,_.bind(),_.updateResolution(L,x)}m.updateResolution(L,x),m.bind()}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,L,x);e.clear(e.COLOR_BUFFER_BIT),e.useProgram(s),G(k),e.drawArrays(e.TRIANGLES,0,6)}function C(){h.forEach(L=>L.dispose()),h.clear(),e.deleteProgram(s)}return{get id(){return a},get nodes(){return g},get fbo(){return m},get name(){return f},get u(){return d},render:R,addNode:F,removeNode:S,addTexture:w,removeTexture:A,getTexUnit:T,update:G,toFbo:P,dispose:C}}var asyncLoadTextFromUrl=e=>new Promise((t,r)=>{const n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&(n.status===200?t(n.responseText):r(n.status))},n.send()}),asyncGetScriptContent=async e=>e.src?asyncLoadTextFromUrl(e.src):e.text;const DEFAULT_VS=`attribute vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}`,DEFAULT_VERTICES=new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),UNNAMED_NODE_PREFIX="u_node";let unnamedNodeIndex=0;class SDNodeElement extends SDBaseElement{disconnectedCallback(){this.program.dispose(),this.program=void 0}get shadertoy(){return this.hasAttribute("shadertoy")}set shadertoy(t){t?this.setAttribute("shadertoy",""):this.removeAttribute("shadertoy")}get prevbuffer(){return this.hasAttribute("prevbuffer")}set prevbuffer(t){t?this.setAttribute("prevbuffer",""):this.removeAttribute("prevbuffer")}get vertices(){let t=this.getAttribute("vertices");return!t||(t=JSON.parse(t),!Array.isArray(t))?DEFAULT_VERTICES:new Float32Array(t)}set vertices(t){!t||!Array.isArray(t)||this.setAttribute("vertices",JSON.stringify(t))}async init(t){t&&!this.name&&(this.name="".concat(UNNAMED_NODE_PREFIX).concat(unnamedNodeIndex++));const r=[];let n,o;for(let a=0;a<this.children.length;a++){const s=this.children[a];if(s instanceof SDBaseElement)r.push(s);else switch(s.getAttribute("type")){case"x-shader/x-fragment":o=await asyncGetScriptContent(s);break;case"x-shader/x-vertex":n=await asyncGetScriptContent(s);break}}n=n||DEFAULT_VS,this.program=Program(this.renderer.gl,n,o,this.vertices,this.shadertoy),r.forEach(a=>{a.init(this.program)}),t&&t.addNode(this.program,this.name,this.prevbuffer)}}customElements.get("sd-node")||customElements.define("sd-node",SDNodeElement);function getSourceDimensions(e){if(!e)return[0,0];const t=(e.tagName||"").toLowerCase();return t==="video"?[e.videoWidth,e.videoHeight]:t==="img"?[e.naturalWidth,e.naturalHeight]:[e.width,e.height]}const PIXEL=new Uint8Array([0,0,0,255]),isPow2=e=>!(e&e-1)&&!!e,floorPowerOfTwo=e=>2**Math.floor(Math.log(e)/Math.LN2);function Texture(e,t,r={}){const n=e.TEXTURE_2D,o=e.createTexture(),a={},s=[];let l,c;function u(){e.getParameter(e.ACTIVE_TEXTURE)!==t&&e.activeTexture(e["TEXTURE".concat(t)])}function f(){u(),e.bindTexture(n,o)}function d(){const{pixels:g}=a,h=e.getTexParameter(n,e.TEXTURE_WRAP_S),y=e.getTexParameter(n,e.TEXTURE_WRAP_T),b=e.getTexParameter(n,e.TEXTURE_MIN_FILTER),F=isPow2(g.width)&&isPow2(g.height),S=h!==e.CLAMP_TO_EDGE||y!==e.CLAMP_TO_EDGE||b!==e.LINEAR&&b!==e.NEAREST;S&&!F&&(c||(c=document.createElement("canvas"),c.width=floorPowerOfTwo(g.width),c.height=floorPowerOfTwo(g.height),console.warn("Texture is not power of two ".concat(g.width," x ").concat(g.height,". Resized to ").concat(c.width," x ").concat(c.height,";"))),c.getContext("2d").drawImage(g,0,0,c.width,c.height)),l=S&&c||g}function m(g){u(),s.length=0,g.forEach(h=>{s.push(h),e.texParameteri(n,h[0],h[1])})}function _(){s.forEach(g=>{e.texParameteri(n,g[0],g[1])})}function v(){f(),_()}function E(g){if(typeof g!="object")return;Object.assign(a,g),f();const{level:h,internalFormat:y,offsetX:b,offsetY:F,width:S,height:w,border:A,format:T,type:P,flipY:M,buffer:G,pixels:R}=a;if(_(),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,M),R){const[C,L]=getSourceDimensions(R);if(C===0||L===0){console.warn("Texture size is invalid ".concat(C," x ").concat(L,". Update is skipped;"));return}d()}if(typeof b=="number"&&typeof F=="number"?l?e.texSubImage2D(n,h,b,F,T,P,l):e.texSubImage2D(n,h,b,F,S,w,T,P,G):l?e.texImage2D(n,h,y,T,P,l):e.texImage2D(n,h,y,S,w,A,T,P,G),l&&isPow2(l.width)&&isPow2(l.height)){const C=e.getTexParameter(n,e.TEXTURE_MIN_FILTER);C!==e.LINEAR&&C!==e.NEAREST&&e.generateMipmap(n)}}function p(){e.deleteTexture(o)}return E(Object.assign({level:0,internalFormat:e.RGBA,offsetX:null,offsetY:null,width:1,height:1,border:0,format:e.RGBA,type:e.UNSIGNED_BYTE,flipY:!0,buffer:PIXEL,pixels:null},typeof r=="object"?r:{})),{setParameters:m,shallow:v,update:E,dispose:p}}function asyncFetchAudioBuffer(e){return new Promise((t,r)=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&(n.status===200||n.status===206?t(n.response):(console.log(n),r(n.status)))},n.send()})}function asyncDecodeAudioBuffer(e,t){return new Promise((r,n)=>{t.decodeAudioData(e,r,n)})}function AudioTexture(e,t,r,n,o,a,s,l){const c=e.gl,u=e.wa,f=u.createAnalyser();f.fftSize=1024;const d=new Uint8Array(f.frequencyBinCount),m=new Uint8Array(f.frequencyBinCount),_=Texture(c,t,{internalFormat:c.LUMINANCE,width:m.length,height:2,format:c.LUMINANCE,buffer:null});_.setParameters([[c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE],[c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE],[c.TEXTURE_MIN_FILTER,c.NEAREST]]);let v,E,p=!1;const g=[{name:r,value:t}];async function h(){E=u.createBufferSource(),E.buffer=await asyncDecodeAudioBuffer(await asyncFetchAudioBuffer(n),u),E.loop=a,E.start(),p=!0}function y(){const A=document.querySelector(n);A&&A instanceof HTMLAudioElement&&(v=A,E=u.createMediaElementSource(A))}function b(A,T){A.connect(f),f.connect(T)}function F(){return p||v&&v.readyState>2&&!v.paused&&!v.ended&&v.currentTime}function S(A){g.forEach(A),F()&&(f.getByteFrequencyData(d),f.getByteTimeDomainData(m),_.update({offsetX:0,offsetY:0,height:1,buffer:d}),_.update({offsetX:0,offsetY:1,height:1,buffer:m}))}function w(){_.dispose()}return n[0]==="#"?y():n&&h(),E&&b(E,u.destination),{dispose:w,update:S}}const UNNAMED_AUDIO_PREFIX="u_audio";let unnamedAudioIndex=0;class SDAudioElement extends SDBaseElement{disconnectedCallback(){this.program.removeTexture(this.texture),this.texture.dispose()}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",t)}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(t){t?this.setAttribute("autoplay",""):this.removeAttribute("autoplay")}get loop(){return this.hasAttribute("loop")}set loop(t){t?this.setAttribute("loop",""):this.removeAttribute("loop")}get crossOrigin(){return this.getAttribute("crossorigin")}set crossOrigin(t){this.setAttribute("crossorigin",t)}get mic(){return this.hasAttribute("mic")}set mic(t){t?this.setAttribute("mic",""):this.removeAttribute("mic")}init(t){this.name||(this.name="".concat(UNNAMED_AUDIO_PREFIX).concat(unnamedAudioIndex++)),this.src&&(this.program=t,this.texture=AudioTexture(this.renderer,t.getTexUnit(),this.name,this.src,this.mic,this.loop,this.autoplay,this.crossOrigin),t.addTexture(this.texture))}}customElements.get("sd-audio")||customElements.define("sd-audio",SDAudioElement);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(r,!0).forEach(function(n){_defineProperty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const IMAGE=0,VIDEO=1,CAMERA=2,CANVAS=3,IMG_REG=/\w+\.(jpg|jpeg|png|gif|bmp)(?=\?|$)/i,isImage=e=>IMG_REG.test(e),VID_REG=/\w+\.(mp4|3gp|webm|ogv)(?=\?|$)/i,isVideo=e=>VID_REG.test(e);function addHiddenInDOM(e){const t=document.createElement("div");t.style.width=t.style.height="1px",t.style.overflow="hidden",t.style.position="absolute",t.style.opacity="0",t.style.pointerEvents="none",t.style.zIndex="-1000",t.appendChild(e),document.body.appendChild(t)}function GeneralTexture(e,t,r,n,o,a,s,l,c,u){const f=e.gl,d=Texture(f,t);let m,_;const v=[{name:r,value:t},{name:r+"_resolution",value:[0,0]}];function E(){try{m=document.querySelector(n)}catch{console.warn("src: ".concat(n,": invalid selector"))}if(!m){console.warn("src: ".concat(n,": no element could be selected"));return}m instanceof HTMLImageElement?(_=IMAGE,m.complete?g():m.addEventListener("load",g)):m instanceof HTMLVideoElement?_=VIDEO:m instanceof HTMLCanvasElement?(_=CANVAS,g()):m instanceof ShaderDoodleElement?(m=m.surface.dom,_=CANVAS,g()):console.warn("src: ".concat(n,": element is not a valid texture source"))}function p(){_=IMAGE,m=new Image,m.crossOrigin="anonymous",m.onload=g,m.onerror=()=>{console.warn("failed loading src: ".concat(n))},m.src=n}function g(){S(),d.setParameters([[f.TEXTURE_WRAP_S,a],[f.TEXTURE_WRAP_T,s],[f.TEXTURE_MIN_FILTER,l],[f.TEXTURE_MAG_FILTER,c]]),d.update({pixels:m})}function h(){_=VIDEO,m=document.createElement("video"),m.autoplay=!0,m.muted=!0,m.loop=!0,m.playsInline=!0,m.crossOrigin="anonymous",m.src=n,addHiddenInDOM(m),m.play()}let y=!1;function b(){y||(y=!0,S(),d.setParameters([[f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE],[f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE],[f.TEXTURE_MIN_FILTER,f.LINEAR]]))}function F(){_=CAMERA;const M=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,G=L=>{m=document.createElement("video"),m.width=320,m.height=240,m.autoplay=!0,m.srcObject=L,addHiddenInDOM(m)},R=()=>{navigator.mediaDevices.getUserMedia({video:!0}).then(G).catch(L=>console.log(L.name+": "+L.message))},C=()=>{M({video:!0},G,L=>L)};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?R():M&&C()}function S(){if(m){const[M,G]=getSourceDimensions(m);v[1].value[0]=M,v[1].value[1]=G}}function w(){return(_===CAMERA||_===VIDEO)&&m instanceof HTMLVideoElement}function A(){return u||w()&&m.readyState===m.HAVE_ENOUGH_DATA}function T(M){v.forEach(M),A()?(w()&&b(),d.update({pixels:m})):d.shallow()}function P(){d.dispose()}return o?F():isVideo(n)?h():isImage(n)?p():E(),{dispose:P,update:T}}const REPEAT=10497,CLAMP_TO_EDGE=33071,MIRRORED_REPEAT=33648,NEAREST=9728,LINEAR=9729,NEAREST_MIPMAP_NEAREST=9984,LINEAR_MIPMAP_NEAREST=9985,NEAREST_MIPMAP_LINEAR=9986,LINEAR_MIPMAP_LINEAR=9987,MAG_OPTIONS={NEAREST,LINEAR},MIN_OPTIONS=_objectSpread2({},MAG_OPTIONS,{NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR}),WRAP_OPTIONS={REPEAT,MIRRORED_REPEAT,CLAMP_TO_EDGE},UNNAMED_TEXTURE_PREFIX="u_texture";let unnamedTextureIndex=0;class TextureElement extends SDBaseElement{static get observedAttributes(){return["mag-filter","min-filter","name","src","wrap-s","wrap-t"]}disconnectedCallback(){this.program.removeTexture(this.texture),this.texture.dispose()}get forceUpdate(){return this.hasAttribute("force-update")}set forceUpdate(t){t?this.setAttribute("force-update",""):this.removeAttribute("force-update")}get magFilter(){return MAG_OPTIONS[this.getAttribute("mag-filter")]||LINEAR}get minFilter(){return MIN_OPTIONS[this.getAttribute("min-filter")]||LINEAR_MIPMAP_LINEAR}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",t)}get webcam(){return this.hasAttribute("webcam")}set webcam(t){t?this.setAttribute("webcam",""):this.removeAttribute("webcam")}get wrapS(){return WRAP_OPTIONS[this.getAttribute("wrap-s")]||REPEAT}get wrapT(){return WRAP_OPTIONS[this.getAttribute("wrap-t")]||REPEAT}init(t){this.name||(this.name="".concat(UNNAMED_TEXTURE_PREFIX).concat(unnamedTextureIndex++)),!(!this.src&&!this.webcam)&&(this.program=t,this.texture=GeneralTexture(this.renderer,t.getTexUnit(),this.name,this.src,this.webcam,this.wrapS,this.wrapT,this.minFilter,this.magFilter,this.forceUpdate),t.addTexture(this.texture))}}customElements.get("sd-texture")||customElements.define("sd-texture",TextureElement);class SDUniformElement extends SDBaseElement{disconnectedCallback(){}get x(){return parseFloat(this.getAttribute("x"))}set x(t){t!=null?this.setAttribute("x",t):this.removeAttribute("x")}get y(){return parseFloat(this.getAttribute("y"))}set y(t){t!=null?this.setAttribute("y",t):this.removeAttribute("y")}get z(){return parseFloat(this.getAttribute("z"))}set z(t){t!=null?this.setAttribute("z",t):this.removeAttribute("z")}get w(){return parseFloat(this.getAttribute("w"))}set w(t){t!=null?this.setAttribute("w",t):this.removeAttribute("w")}getValue(){switch(this.type){case"vec2":return[this.x,this.y];case"vec3":return[this.x,this.y,this.z];case"vec4":return[this.x,this.y,this.z,this.w];default:return this.x}}get type(){return this.getAttribute("type")}set type(t){t!=null?this.setAttribute("type",t):this.removeAttribute("type")}static get observedAttributes(){return["x","y","z","w"]}attributeChangedCallback(t,r,n){switch(t){case"x":case"y":case"z":case"w":n!=null&&this.renderer.setUniform(this.name,this.getValue());break}}init(t){if(!this.name){console.warn("sd-uniform created without a name.");return}this.program=t,this.renderer.addUniform(this.name,this.getValue(),this.type)}}customElements.get("sd-uniform")||customElements.define("sd-uniform",SDUniformElement);const TOUCH_EVENTS=new Set(["touchstart","touchmove","touchend"]),mouseOrTouch=e=>TOUCH_EVENTS.has(e.type)&&typeof e.touches[0]=="object"?e.touches[0]:e;var getMouseOrTouch=e=>{const t=mouseOrTouch(e);return[t.clientX||0,t.clientY||0]};function Surface(e){const t=e.canvas instanceof HTMLCanvasElement?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=t.getContext("2d"),n=e.program,o=new Set,a=cheapClone(SURFACE_UNIFORMS);let s={},l,c,u;function f(h){o.forEach(w=>typeof w=="function"&&w()),u=!0;const y=getMouseOrTouch(h),{top:b,left:F,height:S}=s;a[MOUSEDRAG].value[0]=a[MOUSEDRAG].value[2]=y[0]-Math.floor(F),a[MOUSEDRAG].value[1]=a[MOUSEDRAG].value[3]=Math.floor(S)-(y[1]-Math.floor(b))}function d(h){if(!c){const y=getMouseOrTouch(h),{top:b,left:F,height:S}=s;a[MOUSE].value[0]=y[0]-Math.floor(F),a[MOUSE].value[1]=Math.floor(S)-(y[1]-Math.floor(b)),u&&(a[MOUSEDRAG].value[0]=a[MOUSE].value[0],a[MOUSEDRAG].value[1]=a[MOUSE].value[1]),c=!0}}function m(h){u=!1,Math.sign(a[MOUSEDRAG].value[2])===1&&(a[MOUSEDRAG].value[2]*=-1),Math.sign(a[MOUSEDRAG].value[3])===1&&(a[MOUSEDRAG].value[3]*=-1)}function _(){v(),c=!1}function v(){const h=t.getBoundingClientRect();l=h.top+h.height>=0&&h.left+h.width>=0&&h.bottom-h.height<=(window.innerHeight||document.documentElement.clientHeight)&&h.right-h.width<=(window.innerWidth||document.documentElement.clientWidth);const y=e.height>0?e.height:h.height,b=e.width>0?e.width:h.width;b!==a[RESOLUTION].value[0]&&(t.width=a[RESOLUTION].value[0]=b),y!==a[RESOLUTION].value[1]&&(t.height=a[RESOLUTION].value[1]=y),s=h}function E(h,y,b,F,S,w){if(_(),!l||!n)return;const A=a[RESOLUTION].value[0]||0,T=a[RESOLUTION].value[1]||0;y(A,T),n.render(A,T,[...w,...a]);const P=A*S,M=T*S;r.clearRect(0,0,P,M),r.drawImage(h,0,F-M,P,M,0,0,P,M)}function p(h){o.add(h)}function g(){o.clear(),t.removeEventListener("mousedown",f),t.removeEventListener("mousemove",d),t.removeEventListener("mouseup",m),t.removeEventListener("mouseout",m),t.removeEventListener("touchstart",f),t.removeEventListener("touchmove",d),t.removeEventListener("touchend",m)}return t.addEventListener("mousedown",f),t.addEventListener("mousemove",d),t.addEventListener("mouseup",m),t.addEventListener("mouseout",m),t.addEventListener("touchstart",f),t.addEventListener("touchmove",d),t.addEventListener("touchend",m),v(),Object.freeze({get dom(){return t},render:E,addClick:p,dispose:g})}class ShaderDoodleElement extends SDNodeElement{static get observedAttributes(){return["height","width"]}constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.shadow.innerHTML=Template.render(this.width,this.height),this.canvas=Template.map(this.shadow).canvas,setTimeout(()=>{try{this.init()}catch(t){console.error(t&&t.message||"Error in shader-doodle.")}})}disconnectedCallback(){super.disconnectedCallback(),this.renderer.removeSurface(this.surface),this.surface.dispose(),this.surface=void 0}attributeChangedCallback(t){const r=this.shadow.styleSheets;if((t==="height"||t==="width")&&r.length>0){const n=this[t];r[0].cssRules[0].style[t]=Number.isInteger(n)?"".concat(n,"px"):"250px"}}get height(){const t=parseInt(this.getAttribute("height"));return Number.isInteger(t)?t:void 0}set height(t){const r=parseInt(t);Number.isInteger(r)&&this.setAttribute("height",t)}get width(){const t=parseInt(this.getAttribute("width"));return Number.isInteger(t)?t:void 0}set width(t){const r=parseInt(t);Number.isInteger(r)&&this.setAttribute("width",r)}async init(){await super.init(),this.surface=Surface(this),this.renderer.addSurface(this.surface)}}customElements.get("shader-doodle")||customElements.define("shader-doodle",ShaderDoodleElement);const shaderString=`precision mediump float;

//  Function from Iñigo Quiles
//  https://www.shadertoy.com/view/MsS3Wc
vec3 hsb2rgb( in vec3 c ) {
    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),
                            6.0)-3.0)-1.0,
                    0.0,
                    1.0 );
    rgb = rgb*rgb*(3.0-2.0*rgb);
    return c.z * mix(vec3(1.0), rgb, c.y);
}

vec3 createCircular(vec2 uvc, vec3 initial, float radius, vec3 color, float seed) {    
    vec2 dist = uvc;
    vec2 dist2 = uvc;

    float a = atan(uvc.y, uvc.x) / 1.0;
    float c = cos((iTime + seed + uvc.y) / 1.2);    
    float s = sin((iTime + seed + uvc.x * a) / 1.2);

    // Why? I used pow(c, 8.0) but the results were buggy on one hardware
    // and correct on another one... no clue, missing something big here.
    float addX = (c * c * c * c * c * c * c * c) / 8.0;
    float addY = (s * s * s * s * s * s * s * s) / 8.0;

    dist2 += vec2(0.9 * addX, 0.7 * addY);        
    radius += (0.05) * (radius / 0.5) *  (sin(iTime) + 1.0);

    float z = 1.0 - smoothstep(radius-(radius*0.300),
                         radius+(radius*0.891),
                         dot(dist, dist2)*5.0);
    
    vec3 colorRGB= hsb2rgb(color);
    vec3 r = mix(initial, colorRGB, z);     
    
    return mix(initial, r, z);
}

void main() {
    vec2 uv = 1.0 - (gl_FragCoord.xy / iResolution.xy);
    vec2 uvc = uv - vec2(0.5,0.5);    
    uvc.x *= iResolution.x / iResolution.y;
    // vec3 initial = hsb2rgb(vec3(1.0, 0.0, 0.9));
    vec3 initial = hsb2rgb(vec3(1.0, 0.0, 1.0));

    float hue = 1.0; //0.113; // 0.583;

    vec3 c = createCircular(uvc, initial, 0.52, vec3(hue, 0.03, 0.899), 3.14 / 16.0);     
    c = createCircular(uvc, c, 0.5, vec3(hue, 0.6, 1.0), 0.0);
    c = createCircular(uvc, c, 0.25, vec3(0.554, 0.5, 0.7), 3.14 / 2.0);
    c = createCircular(uvc, c, 0.05, vec3(hue, 0.0, 0.88), 3.14 / 2.0);
    gl_FragColor = vec4(c, 1.0);
}`,falkaShaderString=`precision mediump float;

float blendScreen(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen(vec3 base, vec3 blend) {
	return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
}

vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
	return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
}

float blendColorDodge(float base, float blend) {
	return (blend==1.0)?blend:min(base/(1.0-blend),1.0);
}

vec3 blendColorDodge(vec3 base, vec3 blend) {
	return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));
}

vec3 blendColorDodge(vec3 base, vec3 blend, float opacity) {
	return (blendColorDodge(base, blend) * opacity + base * (1.0 - opacity));
}

//  Function from Iñigo Quiles
//  https://www.shadertoy.com/view/MsS3Wc
vec3 hsb2rgb( in vec3 c ) {
    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),
                            6.0)-3.0)-1.0,
                    0.0,
                    1.0 );
    rgb = rgb*rgb*(3.0-2.0*rgb);
    return c.z * mix(vec3(1.0), rgb, c.y);
}

vec3 createPhase(vec3 colorRGB, vec3 backgroundRGB, vec2 uvc, float uvyOffset, float twoWidth) {
    float s = sin(2.0 * uvc.x + mod(iTime,3.14*2.0)) / 4.0 * cos(iTime);

    float top = step(-twoWidth - s, uvc.y + uvyOffset);
    float bottom = step(twoWidth - s , uvc.y + uvyOffset);

    // float top = smoothstep(-twoWidth - s, -s, uvc.y + uvyOffset);
    // float bottom = smoothstep(-s, twoWidth - s, uvc.y + uvyOffset);

    float z = abs(top - bottom);
    
    return mix(backgroundRGB, colorRGB, z);     
}

bool isBlack(vec3 color) {
    return dot(color, color) == 0.0;
}

void main() {
    vec2 uv = (gl_FragCoord.xy / iResolution.xy);
    uv.y = 1.0 - uv.y;

    vec2 uvc = uv - vec2(0.5,0.5);    
    uvc.x *= iResolution.x / iResolution.y;

    vec3 c = vec3(0.0, 0.69, 0.89);
    vec3 backgroundRGB = vec3(0.0, 0.0, 0.0);
    vec3 colorRGB= hsb2rgb(c);

    float fWidth = 0.01; // 0.03 0.01
    vec3 cRGB = createPhase(colorRGB, backgroundRGB, uvc, 0.0, fWidth);
    cRGB = createPhase(colorRGB, cRGB, uvc, -0.05, fWidth);
    cRGB = createPhase(colorRGB, cRGB, uvc, -0.1, fWidth);
    cRGB = createPhase(colorRGB, cRGB, uvc, -0.15, fWidth);

    if (isBlack(cRGB)) {
        discard;
    }    

    gl_FragColor = vec4(cRGB, 1.0);
}`,scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,r,n){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=assetsURL(a),a in seen)return;seen[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!n)for(let f=o.length-1;f>=0;f--){const d=o[f];if(d.href===a&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":scriptRel,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};var PtackModule=(()=>{var _scriptDir=import.meta.url;return async function(PtackModule={}){var Module=typeof PtackModule<"u"?PtackModule:{},readyPromiseResolve,readyPromiseReject;Module.ready=new Promise(function(e,t){readyPromiseResolve=e,readyPromiseReject=t}),["_free","_malloc","_main","_onResize","_onActivate","_onDeactivate","_fflush","onRuntimeInitialized"].forEach(e=>{Object.getOwnPropertyDescriptor(Module.ready,e)||Object.defineProperty(Module.ready,e,{get:()=>abort("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>abort("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})}),Module.expectedDataFileDownloads||(Module.expectedDataFileDownloads=0),Module.expectedDataFileDownloads++,function(){if(!(Module.ENVIRONMENT_IS_PTHREAD||Module.$ww)){var e=function(t){typeof window=="object"?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/"):typeof process>"u"&&typeof location<"u"&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");var r="web/index.data",n="index.data";typeof Module.locateFilePackage=="function"&&!Module.locateFile&&(Module.locateFile=Module.locateFilePackage,err("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var o=Module.locateFile?Module.locateFile(n,""):n,a=t.remote_package_size;function s(d,m,_,v){if(typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"){require("fs").readFile(d,function(p,g){p?v(p):_(g.buffer)});return}var E=new XMLHttpRequest;E.open("GET",d,!0),E.responseType="arraybuffer",E.onprogress=function(p){var g=d,h=m;if(p.total&&(h=p.total),p.loaded){E.addedTotal?Module.dataFileDownloads[g].loaded=p.loaded:(E.addedTotal=!0,Module.dataFileDownloads||(Module.dataFileDownloads={}),Module.dataFileDownloads[g]={loaded:p.loaded,total:h});var y=0,b=0,F=0;for(var S in Module.dataFileDownloads){var w=Module.dataFileDownloads[S];y+=w.total,b+=w.loaded,F++}y=Math.ceil(y*Module.expectedDataFileDownloads/F),Module.setStatus&&Module.setStatus("Downloading data... ("+b+"/"+y+")")}else Module.dataFileDownloads||Module.setStatus&&Module.setStatus("Downloading data...")},E.onerror=function(p){throw new Error("NetworkError for: "+d)},E.onload=function(p){if(E.status==200||E.status==304||E.status==206||E.status==0&&E.response){var g=E.response;_(g)}else throw new Error(E.statusText+" : "+E.responseURL)},E.send(null)}function l(d){console.error("package error:",d)}var c=null,u=Module.getPreloadedPackage?Module.getPreloadedPackage(o,a):null;u||s(o,a,function(d){c?(c(d),c=null):u=d},l);function f(){function d(p,g){if(!p)throw g+new Error().stack}Module.FS_createPath("/","models-final",!0,!0),Module.FS_createPath("/","shaders",!0,!0),Module.FS_createPath("/shaders","glsl100",!0,!0),Module.FS_createPath("/shaders","glsl330",!0,!0);function m(p,g,h){this.start=p,this.end=g,this.audio=h}m.prototype={requests:{},open:function(p,g){this.name=g,this.requests[g]=this,Module.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var p=this.byteArray.subarray(this.start,this.end);this.finish(p)},finish:function(p){var g=this;Module.FS_createDataFile(this.name,null,p,!0,!0,!0),Module.removeRunDependency("fp "+g.name),this.requests[this.name]=null}};for(var _=t.files,v=0;v<_.length;++v)new m(_[v].start,_[v].end,_[v].audio||0).open("GET",_[v].filename);function E(p){d(p,"Loading data file failed."),d(p.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var g=new Uint8Array(p);m.prototype.byteArray=g;for(var h=t.files,y=0;y<h.length;++y)m.prototype.requests[h[y].filename].onload();Module.removeRunDependency("datafile_web/index.data")}Module.addRunDependency("datafile_web/index.data"),Module.preloadResults||(Module.preloadResults={}),Module.preloadResults[r]={fromCache:!1},u?(E(u),u=null):c=E}Module.calledRun?f():(Module.preRun||(Module.preRun=[]),Module.preRun.push(f))};e({files:[{filename:"/models-final/birdy-animate-007_35.m3d",start:0,end:8580294},{filename:"/shaders/bloomlight-cgpt.glsl",start:8580294,end:8581912},{filename:"/shaders/bloomlight.fs.glsl",start:8581912,end:8582971},{filename:"/shaders/clay.fs.glsl",start:8582971,end:8584816},{filename:"/shaders/glsl100/lighting.fs",start:8584816,end:8586826},{filename:"/shaders/glsl100/lighting.vs",start:8586826,end:8588404},{filename:"/shaders/glsl100/starfield.fs.glsl",start:8588404,end:8593591},{filename:"/shaders/glsl330/lighting.fs",start:8593591,end:8595606},{filename:"/shaders/glsl330/lighting.vs",start:8595606,end:8596355},{filename:"/shaders/glsl330/starfield.fs.glsl",start:8596355,end:8600728},{filename:"/shaders/rlights.h",start:8600728,end:8607240},{filename:"/shaders/simple_noise.fs.glsl",start:8607240,end:8608213},{filename:"/shaders/simple_noise.vs.glsl",start:8608213,end:8608740},{filename:"/shaders/starfield.fs.glsl",start:8608740,end:8608859}],remote_package_size:8608859})}}(),(Module.ENVIRONMENT_IS_PTHREAD||Module.$ww)&&(Module.preRun=[]);var necessaryPreJSTasks=Module.preRun.slice();if(!Module.preRun)throw"Module.preRun should exist because file support used it; did a pre-js delete it?";necessaryPreJSTasks.forEach(function(e){if(Module.preRun.indexOf(e)<0)throw"All preRun tasks that exist before user pre-js code should remain after; did you replace Module or modify Module.preRun?"});var moduleOverrides=Object.assign({},Module),quit_=(e,t)=>{throw t},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var scriptDirectory="";function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}var read_,readAsync,readBinary;if(ENVIRONMENT_IS_NODE){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var nodeVersion=process.versions.node,numericVersion=nodeVersion.split(".").slice(0,3);if(numericVersion=numericVersion[0]*1e4+numericVersion[1]*100+numericVersion[2].split("-")[0]*1,numericVersion<101900)throw new Error("This emscripten-generated code requires node v10.19.19.0 (detected v"+nodeVersion+")");const{createRequire:e}=await __vitePreload(()=>import("./__vite-browser-external-b25bb000.js"),[]);var require=e(import.meta.url),fs=require("fs"),nodePath=require("path");ENVIRONMENT_IS_WORKER?scriptDirectory=nodePath.dirname(scriptDirectory)+"/":scriptDirectory=require("url").fileURLToPath(new URL("./",self.location)),read_=(t,r)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,r?void 0:"utf8")),readBinary=t=>{var r=read_(t,!0);return r.buffer||(r=new Uint8Array(r)),assert(r.buffer),r},readAsync=(t,r,n)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(o,a){o?n(o):r(a.buffer)})},!Module.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),quit_=(t,r)=>{throw process.exitCode=t,r},Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(read_=function(t){return read(t)}),readBinary=function(t){let r;return typeof readbuffer=="function"?new Uint8Array(readbuffer(t)):(r=read(t,"binary"),assert(typeof r=="object"),r)},readAsync=function(t,r,n){setTimeout(()=>r(readBinary(t)),0)},typeof clearTimeout>"u"&&(globalThis.clearTimeout=e=>{}),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(quit_=(e,t)=>{throw setTimeout(()=>{if(!(t instanceof ExitStatus)){let r=t;t&&typeof t=="object"&&t.stack&&(r=[t,t.stack]),err("exiting due to exception: "+r)}quit(e)}),t}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),_scriptDir&&(scriptDirectory=_scriptDir),scriptDirectory.indexOf("blob:")!==0?scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):scriptDirectory="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");read_=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),readAsync=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){t(n.response);return}r()},n.onerror=r,n.send(null)}}else throw new Error("environment detection error");var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,checkIncomingModuleAPI(),Module.arguments&&Module.arguments,legacyModuleProp("arguments","arguments_"),Module.thisProgram&&Module.thisProgram,legacyModuleProp("thisProgram","thisProgram"),Module.quit&&(quit_=Module.quit),legacyModuleProp("quit","quit_"),assert(typeof Module.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(typeof Module.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),assert(typeof Module.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(typeof Module.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),assert(typeof Module.read>"u","Module.read option was removed (modify read_ in JS)"),assert(typeof Module.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),assert(typeof Module.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),assert(typeof Module.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),assert(typeof Module.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),legacyModuleProp("read","read_"),legacyModuleProp("readAsync","readAsync"),legacyModuleProp("readBinary","readBinary"),legacyModuleProp("setWindowTitle","setWindowTitle"),assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary),legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module.noExitRuntime||!0;legacyModuleProp("noExitRuntime","noExitRuntime"),typeof WebAssembly!="object"&&abort("no native wasm support detected");var wasmMemory,ABORT=!1,EXITSTATUS;function assert(e,t){e||abort("Assertion failed"+(t?": "+t:""))}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var e=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}assert(!Module.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),assert(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),assert(!Module.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),assert(!Module.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var e=_emscripten_stack_get_end();assert((e&3)==0),e==0&&(e+=4),HEAPU32[e>>2]=34821223,HEAPU32[e+4>>2]=2310721022,HEAPU32[0]=1668509029}function checkStackCookie(){if(!ABORT){var e=_emscripten_stack_get_end();e==0&&(e+=4);var t=HEAPU32[e>>2],r=HEAPU32[e+4>>2];(t!=34821223||r!=2310721022)&&abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(e)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(r)+" "+ptrToString(t)),HEAPU32[0]!==1668509029&&abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeKeepaliveCounter=0;function keepRuntimeAlive(){return noExitRuntime||runtimeKeepaliveCounter>0}function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){assert(!runtimeInitialized),runtimeInitialized=!0,checkStackCookie(),!Module.noFSInit&&!FS.init.initialized&&FS.init(),FS.ignorePermissions=!1,callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie(),callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(checkStackCookie(),Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null,runDependencyTracking={};function getUniqueRunDependency(e){for(var t=e;;){if(!runDependencyTracking[e])return e;e=t+Math.random()}}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),e?(assert(!runDependencyTracking[e]),runDependencyTracking[e]=1,runDependencyWatcher===null&&typeof setInterval<"u"&&(runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher),runDependencyWatcher=null;return}var t=!1;for(var r in runDependencyTracking)t||(t=!0,err("still waiting on run dependencies:")),err("dependency: "+r);t&&err("(end of list)")},1e4))):err("warning: run dependency added without ID")}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),e?(assert(runDependencyTracking[e]),delete runDependencyTracking[e]):err("warning: run dependency removed without ID"),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function abort(e){Module.onAbort&&Module.onAbort(e),e="Aborted("+e+")",err(e),ABORT=!0,EXITSTATUS=1,e.indexOf("RuntimeError: unreachable")>=0&&(e+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var t=new WebAssembly.RuntimeError(e);throw readyPromiseReject(t),t}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return e.startsWith(dataURIPrefix)}function isFileURI(e){return e.startsWith("file://")}function createExportWrapper(e,t){return function(){var r=e,n=t;return t||(n=Module.asm),assert(runtimeInitialized,"native function `"+r+"` called before runtime initialization"),n[e]||assert(n[e],"exported native function `"+r+"` not found"),n[e].apply(null,arguments)}}var wasmBinaryFile;Module.locateFile?(wasmBinaryFile="index.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile))):wasmBinaryFile=new URL("/assets/index-1d05e5dd.wasm",self.location).href;function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}function getBinaryPromise(e){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(e))return fetch(e,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(function(){return getBinary(e)});if(readAsync)return new Promise(function(t,r){readAsync(e,function(n){t(new Uint8Array(n))},r)})}return Promise.resolve().then(function(){return getBinary(e)})}function instantiateArrayBuffer(e,t,r){return getBinaryPromise(e).then(function(n){return WebAssembly.instantiate(n,t)}).then(function(n){return n}).then(r,function(n){err("failed to asynchronously prepare wasm: "+n),isFileURI(wasmBinaryFile)&&err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),abort(n)})}function instantiateAsync(e,t,r,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(t)&&!isFileURI(t)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(function(o){var a=WebAssembly.instantiateStreaming(o,r);return a.then(n,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(t,r,n)})}):instantiateArrayBuffer(t,r,n)}function createWasm(){var e={env:wasmImports,wasi_snapshot_preview1:wasmImports};function t(o,a){var s=o.exports;return s=Asyncify.instrumentWasmExports(s),Module.asm=s,wasmMemory=Module.asm.memory,assert(wasmMemory,"memory not found in wasm exports"),updateMemoryViews(),wasmTable=Module.asm.__indirect_function_table,assert(wasmTable,"table not found in wasm exports"),addOnInit(Module.asm.__wasm_call_ctors),removeRunDependency("wasm-instantiate"),s}addRunDependency("wasm-instantiate");var r=Module;function n(o){assert(Module===r,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),r=null,t(o.instance)}if(Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(o){err("Module.instantiateWasm callback failed with error: "+o),readyPromiseReject(o)}return instantiateAsync(wasmBinary,wasmBinaryFile,e,n).catch(readyPromiseReject),{}}var tempDouble,tempI64;function legacyModuleProp(e,t){Object.getOwnPropertyDescriptor(Module,e)||Object.defineProperty(Module,e,{configurable:!0,get:function(){abort("Module."+e+" has been replaced with plain "+t+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function ignoredModuleProp(e){Object.getOwnPropertyDescriptor(Module,e)&&abort("`Module."+e+"` was supplied but `"+e+"` not included in INCOMING_MODULE_JS_API")}function isExportedByForceFilesystem(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function missingGlobal(e,t){typeof globalThis<"u"&&Object.defineProperty(globalThis,e,{configurable:!0,get:function(){warnOnce("`"+e+"` is not longer defined by emscripten. "+t)}})}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(e){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get:function(){var t="`"+e+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",r=e;r.startsWith("_")||(r="$"+e),t+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE="+r+")",isExportedByForceFilesystem(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),warnOnce(t)}}),unexportedRuntimeSymbol(e)}function unexportedRuntimeSymbol(e){Object.getOwnPropertyDescriptor(Module,e)||Object.defineProperty(Module,e,{configurable:!0,get:function(){var t="'"+e+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";isExportedByForceFilesystem(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),abort(t)}})}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}function ptrToString(e){return assert(typeof e=="number"),"0x"+e.toString(16).padStart(8,"0")}function warnOnce(e){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[e]||(warnOnce.shown[e]=1,ENVIRONMENT_IS_NODE&&(e="warning: "+e),err(e))}var UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,o));for(var a="";t<o;){var s=e[t++];if(!(s&128)){a+=String.fromCharCode(s);continue}var l=e[t++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|l);continue}var c=e[t++]&63;if((s&240)==224?s=(s&15)<<12|l<<6|c:((s&248)!=240&&warnOnce("Invalid UTF-8 leading byte "+ptrToString(s)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),s=(s&7)<<18|l<<12|c<<6|e[t++]&63),s<65536)a+=String.fromCharCode(s);else{var u=s-65536;a+=String.fromCharCode(55296|u>>10,56320|u&1023)}}return a}function UTF8ToString(e,t){return assert(typeof e=="number"),e?UTF8ArrayToString(HEAPU8,e,t):""}function ___assert_fail(e,t,r,n){abort("Assertion failed: "+UTF8ToString(e)+", at: "+[t?UTF8ToString(t):"unknown filename",r,n?UTF8ToString(n):"unknown function"])}function ExceptionInfo(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){HEAPU32[this.ptr+4>>2]=t},this.get_type=function(){return HEAPU32[this.ptr+4>>2]},this.set_destructor=function(t){HEAPU32[this.ptr+8>>2]=t},this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]},this.set_refcount=function(t){HEAP32[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,HEAP8[this.ptr+12>>0]=t},this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,HEAP8[this.ptr+13>>0]=t},this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=HEAP32[this.ptr>>2];HEAP32[this.ptr>>2]=t+1},this.release_ref=function(){var t=HEAP32[this.ptr>>2];return HEAP32[this.ptr>>2]=t-1,assert(t>0),t===1},this.set_adjusted_ptr=function(t){HEAPU32[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=___cxa_is_pointer_type(this.get_type());if(t)return HEAPU32[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}function ___cxa_throw(e,t,r){var n=new ExceptionInfo(e);n.init(t,r),assert(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")}var PATH={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=PATH.isAbs(e),r=e.substr(-1)==="/";return e=PATH.normalizeArray(e.split("/").filter(n=>!!n),!t).join("/"),!e&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=PATH.splitPath(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.substr(0,n.length-1)),r+n)},basename:e=>{if(e==="/")return"/";e=PATH.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return PATH.normalize(e.join("/"))},join2:(e,t)=>PATH.normalize(e+"/"+t)};function initRandomFill(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return n=>crypto.getRandomValues(n);if(ENVIRONMENT_IS_NODE)try{var e=require("crypto"),t=e.randomFillSync;if(t)return n=>e.randomFillSync(n);var r=e.randomBytes;return n=>(n.set(r(n.byteLength)),n)}catch{}abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}function randomFill(e){return(randomFill=initRandomFill())(e)}var PATH_FS={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:FS.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t=PATH.isAbs(n)}return e=PATH.normalizeArray(e.split("/").filter(o=>!!o),!t).join("/"),(t?"/":"")+e||"."},relative:(e,t)=>{e=PATH_FS.resolve(e).substr(1),t=PATH_FS.resolve(t).substr(1);function r(u){for(var f=0;f<u.length&&u[f]==="";f++);for(var d=u.length-1;d>=0&&u[d]==="";d--);return f>d?[]:u.slice(f,d-f+1)}for(var n=r(e.split("/")),o=r(t.split("/")),a=Math.min(n.length,o.length),s=a,l=0;l<a;l++)if(n[l]!==o[l]){s=l;break}for(var c=[],l=s;l<n.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")}};function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var o=r,a=r+n-1,s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l>=55296&&l<=57343){var c=e.charCodeAt(++s);l=65536+((l&1023)<<10)|c&1023}if(l<=127){if(r>=a)break;t[r++]=l}else if(l<=2047){if(r+1>=a)break;t[r++]=192|l>>6,t[r++]=128|l&63}else if(l<=65535){if(r+2>=a)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|l&63}else{if(r+3>=a)break;l>1114111&&warnOnce("Invalid Unicode code point "+ptrToString(l)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|l&63}}return t[r]=0,r-o}function intArrayFromString(e,t,r){var n=r>0?r:lengthBytesUTF8(e)+1,o=new Array(n),a=stringToUTF8Array(e,o,0,o.length);return t&&(o.length=a),o}var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(60);for(var a=0,s=0;s<n;s++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new FS.ErrnoError(29)}if(l===void 0&&a===0)throw new FS.ErrnoError(6);if(l==null)break;a++,t[r+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch{throw new FS.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var r=256,n=Buffer.alloc(r),o=0;try{o=fs.readSync(process.stdin.fd,n,0,r,-1)}catch(a){if(a.toString().includes("EOF"))o=0;else throw a}o>0?t=n.slice(0,o).toString("utf-8"):t=null}else typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`));if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){t===null||t===10?(out(UTF8ArrayToString(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(out(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){t===null||t===10?(err(UTF8ArrayToString(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(err(UTF8ArrayToString(e.output,0)),e.output=[])}}};function mmapAlloc(e){abort("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")}var MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(FS.isBlkdev(r)||FS.isFIFO(r))throw new FS.ErrnoError(63);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var o=FS.createNode(e,t,r,n);return FS.isDir(o.mode)?(o.node_ops=MEMFS.ops_table.dir.node,o.stream_ops=MEMFS.ops_table.dir.stream,o.contents={}):FS.isFile(o.mode)?(o.node_ops=MEMFS.ops_table.file.node,o.stream_ops=MEMFS.ops_table.file.stream,o.usedBytes=0,o.contents=null):FS.isLink(o.mode)?(o.node_ops=MEMFS.ops_table.link.node,o.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(o.mode)&&(o.node_ops=MEMFS.ops_table.chrdev.node,o.stream_ops=MEMFS.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){var n=1024*1024;t=Math.max(t,r*(r<n?2:1.125)>>>0),r!=0&&(t=Math.max(t,256));var o=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[44]},mknod:function(e,t,r,n){return MEMFS.createNode(e,t,r,n)},rename:function(e,t,r){if(FS.isDir(e.mode)){var n;try{n=FS.lookupNode(t,r)}catch{}if(n)for(var o in n.contents)throw new FS.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=FS.lookupNode(e,t);for(var n in r.contents)throw new FS.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=MEMFS.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-o,n);if(assert(s>=0),s>8&&a.subarray)t.set(a.subarray(o,o+s),r);else for(var l=0;l<s;l++)t[r+l]=a[o+l];return s},write:function(e,t,r,n,o,a){if(assert(!(t instanceof ArrayBuffer)),t.buffer===HEAP8.buffer&&(a=!1),!n)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(a)return assert(o===0,"canOwn must imply no weird position inside the file"),s.contents=t.subarray(r,r+n),s.usedBytes=n,n;if(s.usedBytes===0&&o===0)return s.contents=t.slice(r,r+n),s.usedBytes=n,n;if(o+n<=s.usedBytes)return s.contents.set(t.subarray(r,r+n),o),n}if(MEMFS.expandFileStorage(s,o+n),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+n),o);else for(var l=0;l<n;l++)s.contents[o+l]=t[r+l];return s.usedBytes=Math.max(s.usedBytes,o+n),n},llseek:function(e,t,r){var n=t;if(r===1?n+=e.position:r===2&&FS.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new FS.ErrnoError(28);return n},allocate:function(e,t,r){MEMFS.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);var a,s,l=e.node.contents;if(!(o&2)&&l.buffer===HEAP8.buffer)s=!1,a=l.byteOffset;else{if((r>0||r+t<l.length)&&(l.subarray?l=l.subarray(r,r+t):l=Array.prototype.slice.call(l,r,r+t)),s=!0,a=mmapAlloc(),!a)throw new FS.ErrnoError(48);HEAP8.set(l,a)}return{ptr:a,allocated:s}},msync:function(e,t,r,n,o){return MEMFS.stream_ops.write(e,t,0,n,r,!1),0}}};function asyncLoad(e,t,r,n){var o=n?"":getUniqueRunDependency("al "+e);readAsync(e,a=>{assert(a,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(a)),o&&removeRunDependency(o)},a=>{if(r)r();else throw'Loading data file "'+e+'" failed.'}),o&&addRunDependency(o)}var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},ERRNO_CODES={};function demangle(e){return warnOnce("warning: build with -sDEMANGLE_SUPPORT to link in libcxxabi demangling"),e}function demangleAll(e){var t=/\b_Z[\w\d_]+/g;return e.replace(t,function(r){var n=demangle(r);return r===n?r:n+" ["+r+"]"})}var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,t={})=>{if(e=PATH_FS.resolve(e),!e)return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};if(t=Object.assign(r,t),t.recurse_count>8)throw new FS.ErrnoError(32);for(var n=e.split("/").filter(d=>!!d),o=FS.root,a="/",s=0;s<n.length;s++){var l=s===n.length-1;if(l&&t.parent)break;if(o=FS.lookupNode(o,n[s]),a=PATH.join2(a,n[s]),FS.isMountpoint(o)&&(!l||l&&t.follow_mount)&&(o=o.mounted.root),!l||t.follow)for(var c=0;FS.isLink(o.mode);){var u=FS.readlink(a);a=PATH_FS.resolve(PATH.dirname(a),u);var f=FS.lookupPath(a,{recurse_count:t.recurse_count+1});if(o=f.node,c++>40)throw new FS.ErrnoError(32)}}return{path:a,node:o}},getPath:e=>{for(var t;;){if(FS.isRoot(e)){var r=e.mount.mountpoint;return t?r[r.length-1]!=="/"?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:(e,t)=>{for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%FS.nameTable.length},hashAddNode:e=>{var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:e=>{var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var r=FS.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:(e,t)=>{var r=FS.mayLookup(e);if(r)throw new FS.ErrnoError(r,e);for(var n=FS.hashName(e.id,t),o=FS.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===t)return o}return FS.lookup(e,t)},createNode:(e,t,r,n)=>{assert(typeof e=="object");var o=new FS.FSNode(e,t,r,n);return FS.hashAddNode(o),o},destroyNode:e=>{FS.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(e&61440)===32768,isDir:e=>(e&61440)===16384,isLink:e=>(e&61440)===40960,isChrdev:e=>(e&61440)===8192,isBlkdev:e=>(e&61440)===24576,isFIFO:e=>(e&61440)===4096,isSocket:e=>(e&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var t=FS.flagModes[e];if(typeof t>"u")throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions:(e,t)=>FS.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0,mayLookup:e=>{var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:(e,t)=>{try{var r=FS.lookupNode(e,t);return 20}catch{}return FS.nodePermissions(e,"wx")},mayDelete:(e,t,r)=>{var n;try{n=FS.lookupNode(e,t)}catch(a){return a.errno}var o=FS.nodePermissions(e,"wx");if(o)return o;if(r){if(!FS.isDir(n.mode))return 54;if(FS.isRoot(n)||FS.getPath(n)===FS.cwd())return 10}else if(FS.isDir(n.mode))return 31;return 0},mayOpen:(e,t)=>e?FS.isLink(e.mode)?32:FS.isDir(e.mode)&&(FS.flagsToPermissionString(t)!=="r"||t&512)?31:FS.nodePermissions(e,FS.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,t=FS.MAX_OPEN_FDS)=>{for(var r=e;r<=t;r++)if(!FS.streams[r])return r;throw new FS.ErrnoError(33)},getStream:e=>FS.streams[e],createStream:(e,t,r)=>{FS.FSStream||(FS.FSStream=function(){this.shared={}},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(o){this.node=o}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(o){this.shared.flags=o}},position:{get:function(){return this.shared.position},set:function(o){this.shared.position=o}}})),e=Object.assign(new FS.FSStream,e);var n=FS.nextfd(t,r);return e.fd=n,FS.streams[n]=e,e},closeStream:e=>{FS.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new FS.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{FS.devices[e]={stream_ops:t}},getDevice:e=>FS.devices[e],getMounts:e=>{for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:(e,t)=>{typeof e=="function"&&(t=e,e=!1),FS.syncFSRequests++,FS.syncFSRequests>1&&err("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=FS.getMounts(FS.root.mount),n=0;function o(s){return assert(FS.syncFSRequests>0),FS.syncFSRequests--,t(s)}function a(s){if(s)return a.errored?void 0:(a.errored=!0,o(s));++n>=r.length&&o(null)}r.forEach(s=>{if(!s.type.syncfs)return a(null);s.type.syncfs(s,e,a)})},mount:(e,t,r)=>{if(typeof e=="string")throw e;var n=r==="/",o=!r,a;if(n&&FS.root)throw new FS.ErrnoError(10);if(!n&&!o){var s=FS.lookupPath(r,{follow_mount:!1});if(r=s.path,a=s.node,FS.isMountpoint(a))throw new FS.ErrnoError(10);if(!FS.isDir(a.mode))throw new FS.ErrnoError(54)}var l={type:e,opts:t,mountpoint:r,mounts:[]},c=e.mount(l);return c.mount=l,l.root=c,n?FS.root=c:a&&(a.mounted=l,a.mount&&a.mount.mounts.push(l)),c},unmount:e=>{var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(28);var r=t.node,n=r.mounted,o=FS.getMounts(n);Object.keys(FS.nameTable).forEach(s=>{for(var l=FS.nameTable[s];l;){var c=l.name_next;o.includes(l.mount)&&FS.destroyNode(l),l=c}}),r.mounted=null;var a=r.mount.mounts.indexOf(n);assert(a!==-1),r.mount.mounts.splice(a,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,r)=>{var n=FS.lookupPath(e,{parent:!0}),o=n.node,a=PATH.basename(e);if(!a||a==="."||a==="..")throw new FS.ErrnoError(28);var s=FS.mayCreate(o,a);if(s)throw new FS.ErrnoError(s);if(!o.node_ops.mknod)throw new FS.ErrnoError(63);return o.node_ops.mknod(o,a,t,r)},create:(e,t)=>(t=t!==void 0?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)),mkdir:(e,t)=>(t=t!==void 0?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)),mkdirTree:(e,t)=>{for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{FS.mkdir(n,t)}catch(a){if(a.errno!=20)throw a}}},mkdev:(e,t,r)=>(typeof r>"u"&&(r=t,t=438),t|=8192,FS.mknod(e,t,r)),symlink:(e,t)=>{if(!PATH_FS.resolve(e))throw new FS.ErrnoError(44);var r=FS.lookupPath(t,{parent:!0}),n=r.node;if(!n)throw new FS.ErrnoError(44);var o=PATH.basename(t),a=FS.mayCreate(n,o);if(a)throw new FS.ErrnoError(a);if(!n.node_ops.symlink)throw new FS.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename:(e,t)=>{var r=PATH.dirname(e),n=PATH.dirname(t),o=PATH.basename(e),a=PATH.basename(t),s,l,c;if(s=FS.lookupPath(e,{parent:!0}),l=s.node,s=FS.lookupPath(t,{parent:!0}),c=s.node,!l||!c)throw new FS.ErrnoError(44);if(l.mount!==c.mount)throw new FS.ErrnoError(75);var u=FS.lookupNode(l,o),f=PATH_FS.relative(e,n);if(f.charAt(0)!==".")throw new FS.ErrnoError(28);if(f=PATH_FS.relative(t,r),f.charAt(0)!==".")throw new FS.ErrnoError(55);var d;try{d=FS.lookupNode(c,a)}catch{}if(u!==d){var m=FS.isDir(u.mode),_=FS.mayDelete(l,o,m);if(_)throw new FS.ErrnoError(_);if(_=d?FS.mayDelete(c,a,m):FS.mayCreate(c,a),_)throw new FS.ErrnoError(_);if(!l.node_ops.rename)throw new FS.ErrnoError(63);if(FS.isMountpoint(u)||d&&FS.isMountpoint(d))throw new FS.ErrnoError(10);if(c!==l&&(_=FS.nodePermissions(l,"w"),_))throw new FS.ErrnoError(_);FS.hashRemoveNode(u);try{l.node_ops.rename(u,c,a)}catch(v){throw v}finally{FS.hashAddNode(u)}}},rmdir:e=>{var t=FS.lookupPath(e,{parent:!0}),r=t.node,n=PATH.basename(e),o=FS.lookupNode(r,n),a=FS.mayDelete(r,n,!0);if(a)throw new FS.ErrnoError(a);if(!r.node_ops.rmdir)throw new FS.ErrnoError(63);if(FS.isMountpoint(o))throw new FS.ErrnoError(10);r.node_ops.rmdir(r,n),FS.destroyNode(o)},readdir:e=>{var t=FS.lookupPath(e,{follow:!0}),r=t.node;if(!r.node_ops.readdir)throw new FS.ErrnoError(54);return r.node_ops.readdir(r)},unlink:e=>{var t=FS.lookupPath(e,{parent:!0}),r=t.node;if(!r)throw new FS.ErrnoError(44);var n=PATH.basename(e),o=FS.lookupNode(r,n),a=FS.mayDelete(r,n,!1);if(a)throw new FS.ErrnoError(a);if(!r.node_ops.unlink)throw new FS.ErrnoError(63);if(FS.isMountpoint(o))throw new FS.ErrnoError(10);r.node_ops.unlink(r,n),FS.destroyNode(o)},readlink:e=>{var t=FS.lookupPath(e),r=t.node;if(!r)throw new FS.ErrnoError(44);if(!r.node_ops.readlink)throw new FS.ErrnoError(28);return PATH_FS.resolve(FS.getPath(r.parent),r.node_ops.readlink(r))},stat:(e,t)=>{var r=FS.lookupPath(e,{follow:!t}),n=r.node;if(!n)throw new FS.ErrnoError(44);if(!n.node_ops.getattr)throw new FS.ErrnoError(63);return n.node_ops.getattr(n)},lstat:e=>FS.stat(e,!0),chmod:(e,t,r)=>{var n;if(typeof e=="string"){var o=FS.lookupPath(e,{follow:!r});n=o.node}else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(63);n.node_ops.setattr(n,{mode:t&4095|n.mode&-4096,timestamp:Date.now()})},lchmod:(e,t)=>{FS.chmod(e,t,!0)},fchmod:(e,t)=>{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(8);FS.chmod(r.node,t)},chown:(e,t,r,n)=>{var o;if(typeof e=="string"){var a=FS.lookupPath(e,{follow:!n});o=a.node}else o=e;if(!o.node_ops.setattr)throw new FS.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(e,t,r)=>{FS.chown(e,t,r,!0)},fchown:(e,t,r)=>{var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(8);FS.chown(n.node,t,r)},truncate:(e,t)=>{if(t<0)throw new FS.ErrnoError(28);var r;if(typeof e=="string"){var n=FS.lookupPath(e,{follow:!0});r=n.node}else r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(63);if(FS.isDir(r.mode))throw new FS.ErrnoError(31);if(!FS.isFile(r.mode))throw new FS.ErrnoError(28);var o=FS.nodePermissions(r,"w");if(o)throw new FS.ErrnoError(o);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(8);if(!(r.flags&2097155))throw new FS.ErrnoError(28);FS.truncate(r.node,t)},utime:(e,t,r)=>{var n=FS.lookupPath(e,{follow:!0}),o=n.node;o.node_ops.setattr(o,{timestamp:Math.max(t,r)})},open:(e,t,r)=>{if(e==="")throw new FS.ErrnoError(44);t=typeof t=="string"?FS.modeStringToFlags(t):t,r=typeof r>"u"?438:r,t&64?r=r&4095|32768:r=0;var n;if(typeof e=="object")n=e;else{e=PATH.normalize(e);try{var o=FS.lookupPath(e,{follow:!(t&131072)});n=o.node}catch{}}var a=!1;if(t&64)if(n){if(t&128)throw new FS.ErrnoError(20)}else n=FS.mknod(e,r,0),a=!0;if(!n)throw new FS.ErrnoError(44);if(FS.isChrdev(n.mode)&&(t&=-513),t&65536&&!FS.isDir(n.mode))throw new FS.ErrnoError(54);if(!a){var s=FS.mayOpen(n,t);if(s)throw new FS.ErrnoError(s)}t&512&&!a&&FS.truncate(n,0),t&=-131713;var l=FS.createStream({node:n,path:FS.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return l.stream_ops.open&&l.stream_ops.open(l),Module.logReadFiles&&!(t&1)&&(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1)),l},close:e=>{if(FS.isClosed(e))throw new FS.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{FS.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,t,r)=>{if(FS.isClosed(e))throw new FS.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new FS.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:(e,t,r,n,o)=>{if(n<0||o<0)throw new FS.ErrnoError(28);if(FS.isClosed(e))throw new FS.ErrnoError(8);if((e.flags&2097155)===1)throw new FS.ErrnoError(8);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(31);if(!e.stream_ops.read)throw new FS.ErrnoError(28);var a=typeof o<"u";if(!a)o=e.position;else if(!e.seekable)throw new FS.ErrnoError(70);var s=e.stream_ops.read(e,t,r,n,o);return a||(e.position+=s),s},write:(e,t,r,n,o,a)=>{if(n<0||o<0)throw new FS.ErrnoError(28);if(FS.isClosed(e))throw new FS.ErrnoError(8);if(!(e.flags&2097155))throw new FS.ErrnoError(8);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(31);if(!e.stream_ops.write)throw new FS.ErrnoError(28);e.seekable&&e.flags&1024&&FS.llseek(e,0,2);var s=typeof o<"u";if(!s)o=e.position;else if(!e.seekable)throw new FS.ErrnoError(70);var l=e.stream_ops.write(e,t,r,n,o,a);return s||(e.position+=l),l},allocate:(e,t,r)=>{if(FS.isClosed(e))throw new FS.ErrnoError(8);if(t<0||r<=0)throw new FS.ErrnoError(28);if(!(e.flags&2097155))throw new FS.ErrnoError(8);if(!FS.isFile(e.node.mode)&&!FS.isDir(e.node.mode))throw new FS.ErrnoError(43);if(!e.stream_ops.allocate)throw new FS.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:(e,t,r,n,o)=>{if(n&2&&!(o&2)&&(e.flags&2097155)!==2)throw new FS.ErrnoError(2);if((e.flags&2097155)===1)throw new FS.ErrnoError(2);if(!e.stream_ops.mmap)throw new FS.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o)},msync:(e,t,r,n,o)=>e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0,munmap:e=>0,ioctl:(e,t,r)=>{if(!e.stream_ops.ioctl)throw new FS.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:(e,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=FS.open(e,t.flags),o=FS.stat(e),a=o.size,s=new Uint8Array(a);return FS.read(n,s,0,a,0),t.encoding==="utf8"?r=UTF8ArrayToString(s,0):t.encoding==="binary"&&(r=s),FS.close(n),r},writeFile:(e,t,r={})=>{r.flags=r.flags||577;var n=FS.open(e,r.flags,r.mode);if(typeof t=="string"){var o=new Uint8Array(lengthBytesUTF8(t)+1),a=stringToUTF8Array(t,o,0,o.length);FS.write(n,o,0,a,void 0,r.canOwn)}else if(ArrayBuffer.isView(t))FS.write(n,t,0,t.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");FS.close(n)},cwd:()=>FS.currentPath,chdir:e=>{var t=FS.lookupPath(e,{follow:!0});if(t.node===null)throw new FS.ErrnoError(44);if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(54);var r=FS.nodePermissions(t.node,"x");if(r)throw new FS.ErrnoError(r);FS.currentPath=t.path},createDefaultDirectories:()=>{FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:()=>{FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(n,o,a,s,l)=>s}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=randomFill(e).byteLength),e[--t]);FS.createDevice("/dev","random",r),FS.createDevice("/dev","urandom",r),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{FS.mkdir("/proc");var e=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd"),FS.mount({mount:()=>{var t=FS.createNode(e,"fd",16895,73);return t.node_ops={lookup:(r,n)=>{var o=+n,a=FS.getStream(o);if(!a)throw new FS.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return s.parent=s,s}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin",0),t=FS.open("/dev/stdout",1),r=FS.open("/dev/stderr",1);assert(e.fd===0,"invalid handle for stdin ("+e.fd+")"),assert(t.fd===1,"invalid handle for stdout ("+t.fd+")"),assert(r.fd===2,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:()=>{FS.ErrnoError||(FS.ErrnoError=function(t,r){this.name="ErrnoError",this.node=r,this.setErrno=function(n){this.errno=n;for(var o in ERRNO_CODES)if(ERRNO_CODES[o]===n){this.code=o;break}},this.setErrno(t),this.message=ERRNO_MESSAGES[t],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=demangleAll(this.stack))},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[44].forEach(e=>{FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS}},init:(e,t,r)=>{assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=r||Module.stderr,FS.createStandardStreams()},quit:()=>{FS.init.initialized=!1,_fflush(0);for(var e=0;e<FS.streams.length;e++){var t=FS.streams[e];t&&FS.close(t)}},getMode:(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:(e,t)=>{var r=FS.analyzePath(e,t);return r.exists?r.object:null},analyzePath:(e,t)=>{try{var r=FS.lookupPath(e,{follow:!t});e=r.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=FS.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=PATH.basename(e),r=FS.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot=r.path==="/"}catch(o){n.error=o.errno}return n},createPath:(e,t,r,n)=>{e=typeof e=="string"?e:FS.getPath(e);for(var o=t.split("/").reverse();o.length;){var a=o.pop();if(a){var s=PATH.join2(e,a);try{FS.mkdir(s)}catch{}e=s}}return s},createFile:(e,t,r,n,o)=>{var a=PATH.join2(typeof e=="string"?e:FS.getPath(e),t),s=FS.getMode(n,o);return FS.create(a,s)},createDataFile:(e,t,r,n,o,a)=>{var s=t;e&&(e=typeof e=="string"?e:FS.getPath(e),s=t?PATH.join2(e,t):e);var l=FS.getMode(n,o),c=FS.create(s,l);if(r){if(typeof r=="string"){for(var u=new Array(r.length),f=0,d=r.length;f<d;++f)u[f]=r.charCodeAt(f);r=u}FS.chmod(c,l|146);var m=FS.open(c,577);FS.write(m,r,0,r.length,0,a),FS.close(m),FS.chmod(c,l)}return c},createDevice:(e,t,r,n)=>{var o=PATH.join2(typeof e=="string"?e:FS.getPath(e),t),a=FS.getMode(!!r,!!n);FS.createDevice.major||(FS.createDevice.major=64);var s=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(s,{open:l=>{l.seekable=!1},close:l=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(l,c,u,f,d)=>{for(var m=0,_=0;_<f;_++){var v;try{v=r()}catch{throw new FS.ErrnoError(29)}if(v===void 0&&m===0)throw new FS.ErrnoError(6);if(v==null)break;m++,c[u+_]=v}return m&&(l.node.timestamp=Date.now()),m},write:(l,c,u,f,d)=>{for(var m=0;m<f;m++)try{n(c[u+m])}catch{throw new FS.ErrnoError(29)}return f&&(l.node.timestamp=Date.now()),m}}),FS.mkdev(o,a,s)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(read_)try{e.contents=intArrayFromString(read_(e.url),!0),e.usedBytes=e.contents.length}catch{throw new FS.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(e,t,r,n,o)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(_){if(!(_>this.length-1||_<0)){var v=_%this.chunkSize,E=_/this.chunkSize|0;return this.getter(E)[v]}},a.prototype.setDataGetter=function(_){this.getter=_},a.prototype.cacheLength=function(){var _=new XMLHttpRequest;if(_.open("HEAD",r,!1),_.send(null),!(_.status>=200&&_.status<300||_.status===304))throw new Error("Couldn't load "+r+". Status: "+_.status);var v=Number(_.getResponseHeader("Content-length")),E,p=(E=_.getResponseHeader("Accept-Ranges"))&&E==="bytes",g=(E=_.getResponseHeader("Content-Encoding"))&&E==="gzip",h=1024*1024;p||(h=v);var y=(F,S)=>{if(F>S)throw new Error("invalid range ("+F+", "+S+") or no bytes requested!");if(S>v-1)throw new Error("only "+v+" bytes available! programmer error!");var w=new XMLHttpRequest;if(w.open("GET",r,!1),v!==h&&w.setRequestHeader("Range","bytes="+F+"-"+S),w.responseType="arraybuffer",w.overrideMimeType&&w.overrideMimeType("text/plain; charset=x-user-defined"),w.send(null),!(w.status>=200&&w.status<300||w.status===304))throw new Error("Couldn't load "+r+". Status: "+w.status);return w.response!==void 0?new Uint8Array(w.response||[]):intArrayFromString(w.responseText||"",!0)},b=this;b.setDataGetter(F=>{var S=F*h,w=(F+1)*h-1;if(w=Math.min(w,v-1),typeof b.chunks[F]>"u"&&(b.chunks[F]=y(S,w)),typeof b.chunks[F]>"u")throw new Error("doXHR failed!");return b.chunks[F]}),(g||!v)&&(h=v=1,v=this.getter(0).length,h=v,out("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=v,this._chunkSize=h,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:s}}else var l={isDevice:!1,url:r};var c=FS.createFile(e,t,l,n,o);l.contents?c.contents=l.contents:l.url&&(c.contents=null,c.url=l.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var u={},f=Object.keys(c.stream_ops);f.forEach(m=>{var _=c.stream_ops[m];u[m]=function(){return FS.forceLoadFile(c),_.apply(null,arguments)}});function d(m,_,v,E,p){var g=m.node.contents;if(p>=g.length)return 0;var h=Math.min(g.length-p,E);if(assert(h>=0),g.slice)for(var y=0;y<h;y++)_[v+y]=g[p+y];else for(var y=0;y<h;y++)_[v+y]=g.get(p+y);return h}return u.read=(m,_,v,E,p)=>(FS.forceLoadFile(c),d(m,_,v,E,p)),u.mmap=(m,_,v,E,p)=>{FS.forceLoadFile(c);var g=mmapAlloc();if(!g)throw new FS.ErrnoError(48);return d(m,HEAP8,g,_,v),{ptr:g,allocated:!0}},c.stream_ops=u,c},createPreloadedFile:(e,t,r,n,o,a,s,l,c,u)=>{var f=t?PATH_FS.resolve(PATH.join2(e,t)):e,d=getUniqueRunDependency("cp "+f);function m(_){function v(E){u&&u(),l||FS.createDataFile(e,t,E,n,o,c),a&&a(),removeRunDependency(d)}Browser.handledByPreloadPlugin(_,f,v,()=>{s&&s(),removeRunDependency(d)})||v(_)}addRunDependency(d),typeof r=="string"?asyncLoad(r,_=>m(_),s):m(r)},absolutePath:()=>{abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:()=>{abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink:()=>{abort("FS.createLink has been removed; use FS.symlink instead")},joinPath:()=>{abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:()=>{abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:()=>{abort("FS.standardizePath has been removed; use PATH.normalize instead")}},SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100)n=FS.cwd();else{var o=SYSCALLS.getStreamFromFD(e);n=o.path}if(t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var o=n.atime.getTime(),a=n.mtime.getTime(),s=n.ctime.getTime();return tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=o%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=a%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=s%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},doMsync:function(e,t,r,n,o){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(n&2)return 0;var a=HEAPU8.slice(e,e+r);FS.msync(t,a,o,r,n)},varargs:void 0,get:function(){assert(SYSCALLS.varargs!=null),SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(e){var t=UTF8ToString(e);return t},getStreamFromFD:function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t}};function ___syscall_chdir(e){try{return e=SYSCALLS.getStr(e),FS.chdir(e),0}catch(t){if(typeof FS>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function setErrNo(e){return HEAP32[___errno_location()>>2]=e,e}function ___syscall_fcntl64(e,t,r){SYSCALLS.varargs=r;try{var n=SYSCALLS.getStreamFromFD(e);switch(t){case 0:{var o=SYSCALLS.get();if(o<0)return-28;var a;return a=FS.createStream(n,o),a.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var o=SYSCALLS.get();return n.flags|=o,0}case 5:{var o=SYSCALLS.get(),s=0;return HEAP16[o+s>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return setErrNo(28),-1;default:return-28}}catch(l){if(typeof FS>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function stringToUTF8(e,t,r){return assert(typeof r=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),stringToUTF8Array(e,HEAPU8,t,r)}function ___syscall_getcwd(e,t){try{if(t===0)return-28;var r=FS.cwd(),n=lengthBytesUTF8(r)+1;return t<n?-68:(stringToUTF8(r,e,t),n)}catch(o){if(typeof FS>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function ___syscall_ioctl(e,t,r){SYSCALLS.varargs=r;try{var n=SYSCALLS.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:{if(!n.tty)return-59;var o=SYSCALLS.get();return HEAP32[o>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var o=SYSCALLS.get();return FS.ioctl(n,t,o)}case 21523:return n.tty?0:-59;case 21524:return n.tty?0:-59;default:return-28}}catch(a){if(typeof FS>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function ___syscall_openat(e,t,r,n){SYSCALLS.varargs=n;try{t=SYSCALLS.getStr(t),t=SYSCALLS.calculateAt(e,t);var o=n?SYSCALLS.get():0;return FS.open(t,r,o).fd}catch(a){if(typeof FS>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}var nowIsMonotonic=!0;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort("native code called abort()")}function _emscripten_date_now(){return Date.now()}var JSEvents={inEventHandler:0,removeAllEventListeners:function(){for(var e=JSEvents.eventHandlers.length-1;e>=0;--e)JSEvents._removeHandler(e);JSEvents.eventHandlers=[],JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){JSEvents.removeEventListenersRegistered||(JSEvents.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){function n(s,l){if(s.length!=l.length)return!1;for(var c in s)if(s[c]!=l[c])return!1;return!0}for(var o in JSEvents.deferredCalls){var a=JSEvents.deferredCalls[o];if(a.targetFunction==e&&n(a.argsList,r))return}JSEvents.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),JSEvents.deferredCalls.sort(function(s,l){return s.precedence<l.precedence})},removeDeferredCalls:function(e){for(var t=0;t<JSEvents.deferredCalls.length;++t)JSEvents.deferredCalls[t].targetFunction==e&&(JSEvents.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(JSEvents.canPerformEventHandlerRequests())for(var e=0;e<JSEvents.deferredCalls.length;++e){var t=JSEvents.deferredCalls[e];JSEvents.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<JSEvents.eventHandlers.length;++r)JSEvents.eventHandlers[r].target==e&&(!t||t==JSEvents.eventHandlers[r].eventTypeString)&&JSEvents._removeHandler(r--)},_removeHandler:function(e){var t=JSEvents.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),JSEvents.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(o){++JSEvents.inEventHandler,JSEvents.currentEventHandler=e,JSEvents.runDeferredCalls(),e.handlerFunc(o),JSEvents.runDeferredCalls(),--JSEvents.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),JSEvents.eventHandlers.push(e),JSEvents.registerRemoveEventListeners();else for(var r=0;r<JSEvents.eventHandlers.length;++r)JSEvents.eventHandlers[r].target==e.target&&JSEvents.eventHandlers[r].eventTypeString==e.eventTypeString&&JSEvents._removeHandler(r--)},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function maybeCStringToJsString(e){return e>2?UTF8ToString(e):e}var specialHTMLTargets=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function findEventTarget(e){e=maybeCStringToJsString(e);var t=specialHTMLTargets[e]||(typeof document<"u"?document.querySelector(e):void 0);return t}function getBoundingClientRect(e){return specialHTMLTargets.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0}}function _emscripten_get_element_css_size(e,t,r){if(e=findEventTarget(e),!e)return-4;var n=getBoundingClientRect(e);return HEAPF64[t>>3]=n.width,HEAPF64[r>>3]=n.height,0}function fillGamepadEventData(e,t){HEAPF64[e>>3]=t.timestamp;for(var r=0;r<t.axes.length;++r)HEAPF64[e+r*8+16>>3]=t.axes[r];for(var r=0;r<t.buttons.length;++r)typeof t.buttons[r]=="object"?HEAPF64[e+r*8+528>>3]=t.buttons[r].value:HEAPF64[e+r*8+528>>3]=t.buttons[r];for(var r=0;r<t.buttons.length;++r)typeof t.buttons[r]=="object"?HEAP32[e+r*4+1040>>2]=t.buttons[r].pressed:HEAP32[e+r*4+1040>>2]=t.buttons[r]==1;HEAP32[e+1296>>2]=t.connected,HEAP32[e+1300>>2]=t.index,HEAP32[e+8>>2]=t.axes.length,HEAP32[e+12>>2]=t.buttons.length,stringToUTF8(t.id,e+1304,64),stringToUTF8(t.mapping,e+1368,64)}function _emscripten_get_gamepad_status(e,t){if(!JSEvents.lastGamepadState)throw"emscripten_get_gamepad_status() can only be called after having first called emscripten_sample_gamepad_data() and that function has returned EMSCRIPTEN_RESULT_SUCCESS!";return e<0||e>=JSEvents.lastGamepadState.length?-5:JSEvents.lastGamepadState[e]?(fillGamepadEventData(t,JSEvents.lastGamepadState[e]),0):-7}var _emscripten_get_now;ENVIRONMENT_IS_NODE?_emscripten_get_now=()=>{var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:_emscripten_get_now=()=>performance.now();function _emscripten_get_num_gamepads(){if(!JSEvents.lastGamepadState)throw"emscripten_get_num_gamepads() can only be called after having first called emscripten_sample_gamepad_data() and that function has returned EMSCRIPTEN_RESULT_SUCCESS!";return JSEvents.lastGamepadState.length}function webgl_enable_ANGLE_instanced_arrays(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)return e.vertexAttribDivisor=function(r,n){t.vertexAttribDivisorANGLE(r,n)},e.drawArraysInstanced=function(r,n,o,a){t.drawArraysInstancedANGLE(r,n,o,a)},e.drawElementsInstanced=function(r,n,o,a,s){t.drawElementsInstancedANGLE(r,n,o,a,s)},1}function webgl_enable_OES_vertex_array_object(e){var t=e.getExtension("OES_vertex_array_object");if(t)return e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(r){t.deleteVertexArrayOES(r)},e.bindVertexArray=function(r){t.bindVertexArrayOES(r)},e.isVertexArray=function(r){return t.isVertexArrayOES(r)},1}function webgl_enable_WEBGL_draw_buffers(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)return e.drawBuffers=function(r,n){t.drawBuffersWEBGL(r,n)},1}function webgl_enable_WEBGL_multi_draw(e){return!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw"))}var GL={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(t){GL.lastError||(GL.lastError=t)},getNewId:function(e){for(var t=GL.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,n){for(var o="",a=0;a<t;++a){var s=n?HEAP32[n+a*4>>2]:-1;o+=UTF8ToString(HEAP32[r+a*4>>2],s<0?void 0:s)}return o},createContext:function(e,t){if(!e.getContextSafariWebGL2Fixed){let o=function(a,s){var l=e.getContextSafariWebGL2Fixed(a,s);return a=="webgl"==l instanceof WebGLRenderingContext?l:null};e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=o}var r=e.getContext("webgl",t);if(!r)return 0;var n=GL.registerContext(r,t);return n},registerContext:function(e,t){var r=GL.getNewId(GL.contexts),n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),GL.contexts[r]=n,(typeof t.enableExtensionsByDefault>"u"||t.enableExtensionsByDefault)&&GL.initExtensions(n),r},makeContextCurrent:function(e){return GL.currentContext=GL.contexts[e],Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx,!(e&&!GLctx)},getContext:function(e){return GL.contexts[e]},deleteContext:function(e){GL.currentContext===GL.contexts[e]&&(GL.currentContext=null),typeof JSEvents=="object"&&JSEvents.removeAllHandlersOnTarget(GL.contexts[e].GLctx.canvas),GL.contexts[e]&&GL.contexts[e].GLctx.canvas&&(GL.contexts[e].GLctx.canvas.GLctxObject=void 0),GL.contexts[e]=null},initExtensions:function(e){if(e||(e=GL.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;webgl_enable_ANGLE_instanced_arrays(t),webgl_enable_OES_vertex_array_object(t),webgl_enable_WEBGL_draw_buffers(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),webgl_enable_WEBGL_multi_draw(t);var r=t.getSupportedExtensions()||[];r.forEach(function(n){!n.includes("lose_context")&&!n.includes("debug")&&t.getExtension(n)})}}};function _glActiveTexture(e){GLctx.activeTexture(e)}var _emscripten_glActiveTexture=_glActiveTexture;function _glAttachShader(e,t){GLctx.attachShader(GL.programs[e],GL.shaders[t])}var _emscripten_glAttachShader=_glAttachShader;function _glBeginQueryEXT(e,t){GLctx.disjointTimerQueryExt.beginQueryEXT(e,GL.queries[t])}var _emscripten_glBeginQueryEXT=_glBeginQueryEXT;function _glBindAttribLocation(e,t,r){GLctx.bindAttribLocation(GL.programs[e],t,UTF8ToString(r))}var _emscripten_glBindAttribLocation=_glBindAttribLocation;function _glBindBuffer(e,t){GLctx.bindBuffer(e,GL.buffers[t])}var _emscripten_glBindBuffer=_glBindBuffer;function _glBindFramebuffer(e,t){GLctx.bindFramebuffer(e,GL.framebuffers[t])}var _emscripten_glBindFramebuffer=_glBindFramebuffer;function _glBindRenderbuffer(e,t){GLctx.bindRenderbuffer(e,GL.renderbuffers[t])}var _emscripten_glBindRenderbuffer=_glBindRenderbuffer;function _glBindTexture(e,t){GLctx.bindTexture(e,GL.textures[t])}var _emscripten_glBindTexture=_glBindTexture;function _glBindVertexArray(e){GLctx.bindVertexArray(GL.vaos[e])}var _glBindVertexArrayOES=_glBindVertexArray,_emscripten_glBindVertexArrayOES=_glBindVertexArrayOES;function _glBlendColor(e,t,r,n){GLctx.blendColor(e,t,r,n)}var _emscripten_glBlendColor=_glBlendColor;function _glBlendEquation(e){GLctx.blendEquation(e)}var _emscripten_glBlendEquation=_glBlendEquation;function _glBlendEquationSeparate(e,t){GLctx.blendEquationSeparate(e,t)}var _emscripten_glBlendEquationSeparate=_glBlendEquationSeparate;function _glBlendFunc(e,t){GLctx.blendFunc(e,t)}var _emscripten_glBlendFunc=_glBlendFunc;function _glBlendFuncSeparate(e,t,r,n){GLctx.blendFuncSeparate(e,t,r,n)}var _emscripten_glBlendFuncSeparate=_glBlendFuncSeparate;function _glBufferData(e,t,r,n){GLctx.bufferData(e,r?HEAPU8.subarray(r,r+t):t,n)}var _emscripten_glBufferData=_glBufferData;function _glBufferSubData(e,t,r,n){GLctx.bufferSubData(e,t,HEAPU8.subarray(n,n+r))}var _emscripten_glBufferSubData=_glBufferSubData;function _glCheckFramebufferStatus(e){return GLctx.checkFramebufferStatus(e)}var _emscripten_glCheckFramebufferStatus=_glCheckFramebufferStatus;function _glClear(e){GLctx.clear(e)}var _emscripten_glClear=_glClear;function _glClearColor(e,t,r,n){GLctx.clearColor(e,t,r,n)}var _emscripten_glClearColor=_glClearColor;function _glClearDepthf(e){GLctx.clearDepth(e)}var _emscripten_glClearDepthf=_glClearDepthf;function _glClearStencil(e){GLctx.clearStencil(e)}var _emscripten_glClearStencil=_glClearStencil;function _glColorMask(e,t,r,n){GLctx.colorMask(!!e,!!t,!!r,!!n)}var _emscripten_glColorMask=_glColorMask;function _glCompileShader(e){GLctx.compileShader(GL.shaders[e])}var _emscripten_glCompileShader=_glCompileShader;function _glCompressedTexImage2D(e,t,r,n,o,a,s,l){GLctx.compressedTexImage2D(e,t,r,n,o,a,l?HEAPU8.subarray(l,l+s):null)}var _emscripten_glCompressedTexImage2D=_glCompressedTexImage2D;function _glCompressedTexSubImage2D(e,t,r,n,o,a,s,l,c){GLctx.compressedTexSubImage2D(e,t,r,n,o,a,s,c?HEAPU8.subarray(c,c+l):null)}var _emscripten_glCompressedTexSubImage2D=_glCompressedTexSubImage2D;function _glCopyTexImage2D(e,t,r,n,o,a,s,l){GLctx.copyTexImage2D(e,t,r,n,o,a,s,l)}var _emscripten_glCopyTexImage2D=_glCopyTexImage2D;function _glCopyTexSubImage2D(e,t,r,n,o,a,s,l){GLctx.copyTexSubImage2D(e,t,r,n,o,a,s,l)}var _emscripten_glCopyTexSubImage2D=_glCopyTexSubImage2D;function _glCreateProgram(){var e=GL.getNewId(GL.programs),t=GLctx.createProgram();return t.name=e,t.maxUniformLength=t.maxAttributeLength=t.maxUniformBlockNameLength=0,t.uniformIdCounter=1,GL.programs[e]=t,e}var _emscripten_glCreateProgram=_glCreateProgram;function _glCreateShader(e){var t=GL.getNewId(GL.shaders);return GL.shaders[t]=GLctx.createShader(e),t}var _emscripten_glCreateShader=_glCreateShader;function _glCullFace(e){GLctx.cullFace(e)}var _emscripten_glCullFace=_glCullFace;function _glDeleteBuffers(e,t){for(var r=0;r<e;r++){var n=HEAP32[t+r*4>>2],o=GL.buffers[n];o&&(GLctx.deleteBuffer(o),o.name=0,GL.buffers[n]=null)}}var _emscripten_glDeleteBuffers=_glDeleteBuffers;function _glDeleteFramebuffers(e,t){for(var r=0;r<e;++r){var n=HEAP32[t+r*4>>2],o=GL.framebuffers[n];o&&(GLctx.deleteFramebuffer(o),o.name=0,GL.framebuffers[n]=null)}}var _emscripten_glDeleteFramebuffers=_glDeleteFramebuffers;function _glDeleteProgram(e){if(e){var t=GL.programs[e];if(!t){GL.recordError(1281);return}GLctx.deleteProgram(t),t.name=0,GL.programs[e]=null}}var _emscripten_glDeleteProgram=_glDeleteProgram;function _glDeleteQueriesEXT(e,t){for(var r=0;r<e;r++){var n=HEAP32[t+r*4>>2],o=GL.queries[n];o&&(GLctx.disjointTimerQueryExt.deleteQueryEXT(o),GL.queries[n]=null)}}var _emscripten_glDeleteQueriesEXT=_glDeleteQueriesEXT;function _glDeleteRenderbuffers(e,t){for(var r=0;r<e;r++){var n=HEAP32[t+r*4>>2],o=GL.renderbuffers[n];o&&(GLctx.deleteRenderbuffer(o),o.name=0,GL.renderbuffers[n]=null)}}var _emscripten_glDeleteRenderbuffers=_glDeleteRenderbuffers;function _glDeleteShader(e){if(e){var t=GL.shaders[e];if(!t){GL.recordError(1281);return}GLctx.deleteShader(t),GL.shaders[e]=null}}var _emscripten_glDeleteShader=_glDeleteShader;function _glDeleteTextures(e,t){for(var r=0;r<e;r++){var n=HEAP32[t+r*4>>2],o=GL.textures[n];o&&(GLctx.deleteTexture(o),o.name=0,GL.textures[n]=null)}}var _emscripten_glDeleteTextures=_glDeleteTextures;function _glDeleteVertexArrays(e,t){for(var r=0;r<e;r++){var n=HEAP32[t+r*4>>2];GLctx.deleteVertexArray(GL.vaos[n]),GL.vaos[n]=null}}var _glDeleteVertexArraysOES=_glDeleteVertexArrays,_emscripten_glDeleteVertexArraysOES=_glDeleteVertexArraysOES;function _glDepthFunc(e){GLctx.depthFunc(e)}var _emscripten_glDepthFunc=_glDepthFunc;function _glDepthMask(e){GLctx.depthMask(!!e)}var _emscripten_glDepthMask=_glDepthMask;function _glDepthRangef(e,t){GLctx.depthRange(e,t)}var _emscripten_glDepthRangef=_glDepthRangef;function _glDetachShader(e,t){GLctx.detachShader(GL.programs[e],GL.shaders[t])}var _emscripten_glDetachShader=_glDetachShader;function _glDisable(e){GLctx.disable(e)}var _emscripten_glDisable=_glDisable;function _glDisableVertexAttribArray(e){GLctx.disableVertexAttribArray(e)}var _emscripten_glDisableVertexAttribArray=_glDisableVertexAttribArray;function _glDrawArrays(e,t,r){GLctx.drawArrays(e,t,r)}var _emscripten_glDrawArrays=_glDrawArrays;function _glDrawArraysInstanced(e,t,r,n){GLctx.drawArraysInstanced(e,t,r,n)}var _glDrawArraysInstancedANGLE=_glDrawArraysInstanced,_emscripten_glDrawArraysInstancedANGLE=_glDrawArraysInstancedANGLE,tempFixedLengthArray=[];function _glDrawBuffers(e,t){for(var r=tempFixedLengthArray[e],n=0;n<e;n++)r[n]=HEAP32[t+n*4>>2];GLctx.drawBuffers(r)}var _glDrawBuffersWEBGL=_glDrawBuffers,_emscripten_glDrawBuffersWEBGL=_glDrawBuffersWEBGL;function _glDrawElements(e,t,r,n){GLctx.drawElements(e,t,r,n)}var _emscripten_glDrawElements=_glDrawElements;function _glDrawElementsInstanced(e,t,r,n,o){GLctx.drawElementsInstanced(e,t,r,n,o)}var _glDrawElementsInstancedANGLE=_glDrawElementsInstanced,_emscripten_glDrawElementsInstancedANGLE=_glDrawElementsInstancedANGLE;function _glEnable(e){GLctx.enable(e)}var _emscripten_glEnable=_glEnable;function _glEnableVertexAttribArray(e){GLctx.enableVertexAttribArray(e)}var _emscripten_glEnableVertexAttribArray=_glEnableVertexAttribArray;function _glEndQueryEXT(e){GLctx.disjointTimerQueryExt.endQueryEXT(e)}var _emscripten_glEndQueryEXT=_glEndQueryEXT;function _glFinish(){GLctx.finish()}var _emscripten_glFinish=_glFinish;function _glFlush(){GLctx.flush()}var _emscripten_glFlush=_glFlush;function _glFramebufferRenderbuffer(e,t,r,n){GLctx.framebufferRenderbuffer(e,t,r,GL.renderbuffers[n])}var _emscripten_glFramebufferRenderbuffer=_glFramebufferRenderbuffer;function _glFramebufferTexture2D(e,t,r,n,o){GLctx.framebufferTexture2D(e,t,r,GL.textures[n],o)}var _emscripten_glFramebufferTexture2D=_glFramebufferTexture2D;function _glFrontFace(e){GLctx.frontFace(e)}var _emscripten_glFrontFace=_glFrontFace;function __glGenObject(e,t,r,n){for(var o=0;o<e;o++){var a=GLctx[r](),s=a&&GL.getNewId(n);a?(a.name=s,n[s]=a):GL.recordError(1282),HEAP32[t+o*4>>2]=s}}function _glGenBuffers(e,t){__glGenObject(e,t,"createBuffer",GL.buffers)}var _emscripten_glGenBuffers=_glGenBuffers;function _glGenFramebuffers(e,t){__glGenObject(e,t,"createFramebuffer",GL.framebuffers)}var _emscripten_glGenFramebuffers=_glGenFramebuffers;function _glGenQueriesEXT(e,t){for(var r=0;r<e;r++){var n=GLctx.disjointTimerQueryExt.createQueryEXT();if(!n){for(GL.recordError(1282);r<e;)HEAP32[t+r++*4>>2]=0;return}var o=GL.getNewId(GL.queries);n.name=o,GL.queries[o]=n,HEAP32[t+r*4>>2]=o}}var _emscripten_glGenQueriesEXT=_glGenQueriesEXT;function _glGenRenderbuffers(e,t){__glGenObject(e,t,"createRenderbuffer",GL.renderbuffers)}var _emscripten_glGenRenderbuffers=_glGenRenderbuffers;function _glGenTextures(e,t){__glGenObject(e,t,"createTexture",GL.textures)}var _emscripten_glGenTextures=_glGenTextures;function _glGenVertexArrays(e,t){__glGenObject(e,t,"createVertexArray",GL.vaos)}var _glGenVertexArraysOES=_glGenVertexArrays,_emscripten_glGenVertexArraysOES=_glGenVertexArraysOES;function _glGenerateMipmap(e){GLctx.generateMipmap(e)}var _emscripten_glGenerateMipmap=_glGenerateMipmap;function __glGetActiveAttribOrUniform(e,t,r,n,o,a,s,l){t=GL.programs[t];var c=GLctx[e](t,r);if(c){var u=l&&stringToUTF8(c.name,l,n);o&&(HEAP32[o>>2]=u),a&&(HEAP32[a>>2]=c.size),s&&(HEAP32[s>>2]=c.type)}}function _glGetActiveAttrib(e,t,r,n,o,a,s){__glGetActiveAttribOrUniform("getActiveAttrib",e,t,r,n,o,a,s)}var _emscripten_glGetActiveAttrib=_glGetActiveAttrib;function _glGetActiveUniform(e,t,r,n,o,a,s){__glGetActiveAttribOrUniform("getActiveUniform",e,t,r,n,o,a,s)}var _emscripten_glGetActiveUniform=_glGetActiveUniform;function _glGetAttachedShaders(e,t,r,n){var o=GLctx.getAttachedShaders(GL.programs[e]),a=o.length;a>t&&(a=t),HEAP32[r>>2]=a;for(var s=0;s<a;++s){var l=GL.shaders.indexOf(o[s]);HEAP32[n+s*4>>2]=l}}var _emscripten_glGetAttachedShaders=_glGetAttachedShaders;function _glGetAttribLocation(e,t){return GLctx.getAttribLocation(GL.programs[e],UTF8ToString(t))}var _emscripten_glGetAttribLocation=_glGetAttribLocation;function readI53FromI64(e){return HEAPU32[e>>2]+HEAP32[e+4>>2]*4294967296}function readI53FromU64(e){return HEAPU32[e>>2]+HEAPU32[e+4>>2]*4294967296}function writeI53ToI64(e,t){HEAPU32[e>>2]=t,HEAPU32[e+4>>2]=(t-HEAPU32[e>>2])/4294967296;var r=t>=0?readI53FromU64(e):readI53FromI64(e);r!=t&&warnOnce("writeI53ToI64() out of range: serialized JS Number "+t+" to Wasm heap as bytes lo="+ptrToString(HEAPU32[e>>2])+", hi="+ptrToString(HEAPU32[e+4>>2])+", which deserializes back to "+r+" instead!")}function emscriptenWebGLGet(e,t,r){if(!t){GL.recordError(1281);return}var n=void 0;switch(e){case 36346:n=1;break;case 36344:r!=0&&r!=1&&GL.recordError(1280);return;case 36345:n=0;break;case 34466:var o=GLctx.getParameter(34467);n=o?o.length:0;break}if(n===void 0){var a=GLctx.getParameter(e);switch(typeof a){case"number":n=a;break;case"boolean":n=a?1:0;break;case"string":GL.recordError(1280);return;case"object":if(a===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:{n=0;break}default:{GL.recordError(1280);return}}else if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(var s=0;s<a.length;++s)switch(r){case 0:HEAP32[t+s*4>>2]=a[s];break;case 2:HEAPF32[t+s*4>>2]=a[s];break;case 4:HEAP8[t+s>>0]=a[s]?1:0;break}return}else try{n=a.name|0}catch(l){GL.recordError(1280),err("GL_INVALID_ENUM in glGet"+r+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+l+")");return}break;default:GL.recordError(1280),err("GL_INVALID_ENUM in glGet"+r+"v: Native code calling glGet"+r+"v("+e+") and it returns "+a+" of type "+typeof a+"!");return}}switch(r){case 1:writeI53ToI64(t,n);break;case 0:HEAP32[t>>2]=n;break;case 2:HEAPF32[t>>2]=n;break;case 4:HEAP8[t>>0]=n?1:0;break}}function _glGetBooleanv(e,t){emscriptenWebGLGet(e,t,4)}var _emscripten_glGetBooleanv=_glGetBooleanv;function _glGetBufferParameteriv(e,t,r){if(!r){GL.recordError(1281);return}HEAP32[r>>2]=GLctx.getBufferParameter(e,t)}var _emscripten_glGetBufferParameteriv=_glGetBufferParameteriv;function _glGetError(){var e=GLctx.getError()||GL.lastError;return GL.lastError=0,e}var _emscripten_glGetError=_glGetError;function _glGetFloatv(e,t){emscriptenWebGLGet(e,t,2)}var _emscripten_glGetFloatv=_glGetFloatv;function _glGetFramebufferAttachmentParameteriv(e,t,r,n){var o=GLctx.getFramebufferAttachmentParameter(e,t,r);(o instanceof WebGLRenderbuffer||o instanceof WebGLTexture)&&(o=o.name|0),HEAP32[n>>2]=o}var _emscripten_glGetFramebufferAttachmentParameteriv=_glGetFramebufferAttachmentParameteriv;function _glGetIntegerv(e,t){emscriptenWebGLGet(e,t,0)}var _emscripten_glGetIntegerv=_glGetIntegerv;function _glGetProgramInfoLog(e,t,r,n){var o=GLctx.getProgramInfoLog(GL.programs[e]);o===null&&(o="(unknown error)");var a=t>0&&n?stringToUTF8(o,n,t):0;r&&(HEAP32[r>>2]=a)}var _emscripten_glGetProgramInfoLog=_glGetProgramInfoLog;function _glGetProgramiv(e,t,r){if(!r){GL.recordError(1281);return}if(e>=GL.counter){GL.recordError(1281);return}if(e=GL.programs[e],t==35716){var n=GLctx.getProgramInfoLog(e);n===null&&(n="(unknown error)"),HEAP32[r>>2]=n.length+1}else if(t==35719){if(!e.maxUniformLength)for(var o=0;o<GLctx.getProgramParameter(e,35718);++o)e.maxUniformLength=Math.max(e.maxUniformLength,GLctx.getActiveUniform(e,o).name.length+1);HEAP32[r>>2]=e.maxUniformLength}else if(t==35722){if(!e.maxAttributeLength)for(var o=0;o<GLctx.getProgramParameter(e,35721);++o)e.maxAttributeLength=Math.max(e.maxAttributeLength,GLctx.getActiveAttrib(e,o).name.length+1);HEAP32[r>>2]=e.maxAttributeLength}else if(t==35381){if(!e.maxUniformBlockNameLength)for(var o=0;o<GLctx.getProgramParameter(e,35382);++o)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,GLctx.getActiveUniformBlockName(e,o).length+1);HEAP32[r>>2]=e.maxUniformBlockNameLength}else HEAP32[r>>2]=GLctx.getProgramParameter(e,t)}var _emscripten_glGetProgramiv=_glGetProgramiv;function _glGetQueryObjecti64vEXT(e,t,r){if(!r){GL.recordError(1281);return}var n=GL.queries[e],o;o=GLctx.disjointTimerQueryExt.getQueryObjectEXT(n,t);var a;typeof o=="boolean"?a=o?1:0:a=o,writeI53ToI64(r,a)}var _emscripten_glGetQueryObjecti64vEXT=_glGetQueryObjecti64vEXT;function _glGetQueryObjectivEXT(e,t,r){if(!r){GL.recordError(1281);return}var n=GL.queries[e],o=GLctx.disjointTimerQueryExt.getQueryObjectEXT(n,t),a;typeof o=="boolean"?a=o?1:0:a=o,HEAP32[r>>2]=a}var _emscripten_glGetQueryObjectivEXT=_glGetQueryObjectivEXT,_glGetQueryObjectui64vEXT=_glGetQueryObjecti64vEXT,_emscripten_glGetQueryObjectui64vEXT=_glGetQueryObjectui64vEXT,_glGetQueryObjectuivEXT=_glGetQueryObjectivEXT,_emscripten_glGetQueryObjectuivEXT=_glGetQueryObjectuivEXT;function _glGetQueryivEXT(e,t,r){if(!r){GL.recordError(1281);return}HEAP32[r>>2]=GLctx.disjointTimerQueryExt.getQueryEXT(e,t)}var _emscripten_glGetQueryivEXT=_glGetQueryivEXT;function _glGetRenderbufferParameteriv(e,t,r){if(!r){GL.recordError(1281);return}HEAP32[r>>2]=GLctx.getRenderbufferParameter(e,t)}var _emscripten_glGetRenderbufferParameteriv=_glGetRenderbufferParameteriv;function _glGetShaderInfoLog(e,t,r,n){var o=GLctx.getShaderInfoLog(GL.shaders[e]);o===null&&(o="(unknown error)");var a=t>0&&n?stringToUTF8(o,n,t):0;r&&(HEAP32[r>>2]=a)}var _emscripten_glGetShaderInfoLog=_glGetShaderInfoLog;function _glGetShaderPrecisionFormat(e,t,r,n){var o=GLctx.getShaderPrecisionFormat(e,t);HEAP32[r>>2]=o.rangeMin,HEAP32[r+4>>2]=o.rangeMax,HEAP32[n>>2]=o.precision}var _emscripten_glGetShaderPrecisionFormat=_glGetShaderPrecisionFormat;function _glGetShaderSource(e,t,r,n){var o=GLctx.getShaderSource(GL.shaders[e]);if(o){var a=t>0&&n?stringToUTF8(o,n,t):0;r&&(HEAP32[r>>2]=a)}}var _emscripten_glGetShaderSource=_glGetShaderSource;function _glGetShaderiv(e,t,r){if(!r){GL.recordError(1281);return}if(t==35716){var n=GLctx.getShaderInfoLog(GL.shaders[e]);n===null&&(n="(unknown error)");var o=n?n.length+1:0;HEAP32[r>>2]=o}else if(t==35720){var a=GLctx.getShaderSource(GL.shaders[e]),s=a?a.length+1:0;HEAP32[r>>2]=s}else HEAP32[r>>2]=GLctx.getShaderParameter(GL.shaders[e],t)}var _emscripten_glGetShaderiv=_glGetShaderiv;function stringToNewUTF8(e){var t=lengthBytesUTF8(e)+1,r=_malloc(t);return r&&stringToUTF8(e,r,t),r}function _glGetString(e){var t=GL.stringCache[e];if(!t){switch(e){case 7939:var r=GLctx.getSupportedExtensions()||[];r=r.concat(r.map(function(c){return"GL_"+c})),t=stringToNewUTF8(r.join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=GLctx.getParameter(e);n||GL.recordError(1280),t=n&&stringToNewUTF8(n);break;case 7938:var o=GLctx.getParameter(7938);o="OpenGL ES 2.0 ("+o+")",t=stringToNewUTF8(o);break;case 35724:var a=GLctx.getParameter(35724),s=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/,l=a.match(s);l!==null&&(l[1].length==3&&(l[1]=l[1]+"0"),a="OpenGL ES GLSL ES "+l[1]+" ("+a+")"),t=stringToNewUTF8(a);break;default:GL.recordError(1280)}GL.stringCache[e]=t}return t}var _emscripten_glGetString=_glGetString;function _glGetTexParameterfv(e,t,r){if(!r){GL.recordError(1281);return}HEAPF32[r>>2]=GLctx.getTexParameter(e,t)}var _emscripten_glGetTexParameterfv=_glGetTexParameterfv;function _glGetTexParameteriv(e,t,r){if(!r){GL.recordError(1281);return}HEAP32[r>>2]=GLctx.getTexParameter(e,t)}var _emscripten_glGetTexParameteriv=_glGetTexParameteriv;function jstoi_q(e){return parseInt(e)}function webglGetLeftBracePos(e){return e.slice(-1)=="]"&&e.lastIndexOf("[")}function webglPrepareUniformLocationsBeforeFirstUse(e){var t=e.uniformLocsById,r=e.uniformSizeAndIdsByName,n,o;if(!t)for(e.uniformLocsById=t={},e.uniformArrayNamesById={},n=0;n<GLctx.getProgramParameter(e,35718);++n){var a=GLctx.getActiveUniform(e,n),s=a.name,l=a.size,c=webglGetLeftBracePos(s),u=c>0?s.slice(0,c):s,f=e.uniformIdCounter;for(e.uniformIdCounter+=l,r[u]=[l,f],o=0;o<l;++o)t[f]=o,e.uniformArrayNamesById[f++]=u}}function _glGetUniformLocation(e,t){if(t=UTF8ToString(t),e=GL.programs[e]){webglPrepareUniformLocationsBeforeFirstUse(e);var r=e.uniformLocsById,n=0,o=t,a=webglGetLeftBracePos(t);a>0&&(n=jstoi_q(t.slice(a+1))>>>0,o=t.slice(0,a));var s=e.uniformSizeAndIdsByName[o];if(s&&n<s[0]&&(n+=s[1],r[n]=r[n]||GLctx.getUniformLocation(e,t)))return n}else GL.recordError(1281);return-1}var _emscripten_glGetUniformLocation=_glGetUniformLocation;function webglGetUniformLocation(e){var t=GLctx.currentProgram;if(t){var r=t.uniformLocsById[e];return typeof r=="number"&&(t.uniformLocsById[e]=r=GLctx.getUniformLocation(t,t.uniformArrayNamesById[e]+(r>0?"["+r+"]":""))),r}else GL.recordError(1282)}function emscriptenWebGLGetUniform(e,t,r,n){if(!r){GL.recordError(1281);return}e=GL.programs[e],webglPrepareUniformLocationsBeforeFirstUse(e);var o=GLctx.getUniform(e,webglGetUniformLocation(t));if(typeof o=="number"||typeof o=="boolean")switch(n){case 0:HEAP32[r>>2]=o;break;case 2:HEAPF32[r>>2]=o;break}else for(var a=0;a<o.length;a++)switch(n){case 0:HEAP32[r+a*4>>2]=o[a];break;case 2:HEAPF32[r+a*4>>2]=o[a];break}}function _glGetUniformfv(e,t,r){emscriptenWebGLGetUniform(e,t,r,2)}var _emscripten_glGetUniformfv=_glGetUniformfv;function _glGetUniformiv(e,t,r){emscriptenWebGLGetUniform(e,t,r,0)}var _emscripten_glGetUniformiv=_glGetUniformiv;function _glGetVertexAttribPointerv(e,t,r){if(!r){GL.recordError(1281);return}HEAP32[r>>2]=GLctx.getVertexAttribOffset(e,t)}var _emscripten_glGetVertexAttribPointerv=_glGetVertexAttribPointerv;function emscriptenWebGLGetVertexAttrib(e,t,r,n){if(!r){GL.recordError(1281);return}var o=GLctx.getVertexAttrib(e,t);if(t==34975)HEAP32[r>>2]=o&&o.name;else if(typeof o=="number"||typeof o=="boolean")switch(n){case 0:HEAP32[r>>2]=o;break;case 2:HEAPF32[r>>2]=o;break;case 5:HEAP32[r>>2]=Math.fround(o);break}else for(var a=0;a<o.length;a++)switch(n){case 0:HEAP32[r+a*4>>2]=o[a];break;case 2:HEAPF32[r+a*4>>2]=o[a];break;case 5:HEAP32[r+a*4>>2]=Math.fround(o[a]);break}}function _glGetVertexAttribfv(e,t,r){emscriptenWebGLGetVertexAttrib(e,t,r,2)}var _emscripten_glGetVertexAttribfv=_glGetVertexAttribfv;function _glGetVertexAttribiv(e,t,r){emscriptenWebGLGetVertexAttrib(e,t,r,5)}var _emscripten_glGetVertexAttribiv=_glGetVertexAttribiv;function _glHint(e,t){GLctx.hint(e,t)}var _emscripten_glHint=_glHint;function _glIsBuffer(e){var t=GL.buffers[e];return t?GLctx.isBuffer(t):0}var _emscripten_glIsBuffer=_glIsBuffer;function _glIsEnabled(e){return GLctx.isEnabled(e)}var _emscripten_glIsEnabled=_glIsEnabled;function _glIsFramebuffer(e){var t=GL.framebuffers[e];return t?GLctx.isFramebuffer(t):0}var _emscripten_glIsFramebuffer=_glIsFramebuffer;function _glIsProgram(e){return e=GL.programs[e],e?GLctx.isProgram(e):0}var _emscripten_glIsProgram=_glIsProgram;function _glIsQueryEXT(e){var t=GL.queries[e];return t?GLctx.disjointTimerQueryExt.isQueryEXT(t):0}var _emscripten_glIsQueryEXT=_glIsQueryEXT;function _glIsRenderbuffer(e){var t=GL.renderbuffers[e];return t?GLctx.isRenderbuffer(t):0}var _emscripten_glIsRenderbuffer=_glIsRenderbuffer;function _glIsShader(e){var t=GL.shaders[e];return t?GLctx.isShader(t):0}var _emscripten_glIsShader=_glIsShader;function _glIsTexture(e){var t=GL.textures[e];return t?GLctx.isTexture(t):0}var _emscripten_glIsTexture=_glIsTexture;function _glIsVertexArray(e){var t=GL.vaos[e];return t?GLctx.isVertexArray(t):0}var _glIsVertexArrayOES=_glIsVertexArray,_emscripten_glIsVertexArrayOES=_glIsVertexArrayOES;function _glLineWidth(e){GLctx.lineWidth(e)}var _emscripten_glLineWidth=_glLineWidth;function _glLinkProgram(e){e=GL.programs[e],GLctx.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}}var _emscripten_glLinkProgram=_glLinkProgram;function _glPixelStorei(e,t){e==3317&&(GL.unpackAlignment=t),GLctx.pixelStorei(e,t)}var _emscripten_glPixelStorei=_glPixelStorei;function _glPolygonOffset(e,t){GLctx.polygonOffset(e,t)}var _emscripten_glPolygonOffset=_glPolygonOffset;function _glQueryCounterEXT(e,t){GLctx.disjointTimerQueryExt.queryCounterEXT(GL.queries[e],t)}var _emscripten_glQueryCounterEXT=_glQueryCounterEXT;function computeUnpackAlignedImageSize(e,t,r,n){function o(l,c){return l+c-1&-c}var a=e*r,s=o(a,n);return t*s}function colorChannelsInGlTextureFormat(e){var t={5:3,6:4,8:2,29502:3,29504:4};return t[e-6402]||1}function heapObjectForWebGLType(e){return e-=5120,e==1?HEAPU8:e==4?HEAP32:e==6?HEAPF32:e==5||e==28922?HEAPU32:HEAPU16}function heapAccessShiftForWebGLHeap(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(e,t,r,n,o,a){var s=heapObjectForWebGLType(e),l=heapAccessShiftForWebGLHeap(s),c=1<<l,u=colorChannelsInGlTextureFormat(t)*c,f=computeUnpackAlignedImageSize(r,n,u,GL.unpackAlignment);return s.subarray(o>>l,o+f>>l)}function _glReadPixels(e,t,r,n,o,a,s){var l=emscriptenWebGLGetTexPixelData(a,o,r,n,s);if(!l){GL.recordError(1280);return}GLctx.readPixels(e,t,r,n,o,a,l)}var _emscripten_glReadPixels=_glReadPixels;function _glReleaseShaderCompiler(){}var _emscripten_glReleaseShaderCompiler=_glReleaseShaderCompiler;function _glRenderbufferStorage(e,t,r,n){GLctx.renderbufferStorage(e,t,r,n)}var _emscripten_glRenderbufferStorage=_glRenderbufferStorage;function _glSampleCoverage(e,t){GLctx.sampleCoverage(e,!!t)}var _emscripten_glSampleCoverage=_glSampleCoverage;function _glScissor(e,t,r,n){GLctx.scissor(e,t,r,n)}var _emscripten_glScissor=_glScissor;function _glShaderBinary(e,t,r,n,o){GL.recordError(1280)}var _emscripten_glShaderBinary=_glShaderBinary;function _glShaderSource(e,t,r,n){var o=GL.getSource(e,t,r,n);GLctx.shaderSource(GL.shaders[e],o)}var _emscripten_glShaderSource=_glShaderSource;function _glStencilFunc(e,t,r){GLctx.stencilFunc(e,t,r)}var _emscripten_glStencilFunc=_glStencilFunc;function _glStencilFuncSeparate(e,t,r,n){GLctx.stencilFuncSeparate(e,t,r,n)}var _emscripten_glStencilFuncSeparate=_glStencilFuncSeparate;function _glStencilMask(e){GLctx.stencilMask(e)}var _emscripten_glStencilMask=_glStencilMask;function _glStencilMaskSeparate(e,t){GLctx.stencilMaskSeparate(e,t)}var _emscripten_glStencilMaskSeparate=_glStencilMaskSeparate;function _glStencilOp(e,t,r){GLctx.stencilOp(e,t,r)}var _emscripten_glStencilOp=_glStencilOp;function _glStencilOpSeparate(e,t,r,n){GLctx.stencilOpSeparate(e,t,r,n)}var _emscripten_glStencilOpSeparate=_glStencilOpSeparate;function _glTexImage2D(e,t,r,n,o,a,s,l,c){GLctx.texImage2D(e,t,r,n,o,a,s,l,c?emscriptenWebGLGetTexPixelData(l,s,n,o,c):null)}var _emscripten_glTexImage2D=_glTexImage2D;function _glTexParameterf(e,t,r){GLctx.texParameterf(e,t,r)}var _emscripten_glTexParameterf=_glTexParameterf;function _glTexParameterfv(e,t,r){var n=HEAPF32[r>>2];GLctx.texParameterf(e,t,n)}var _emscripten_glTexParameterfv=_glTexParameterfv;function _glTexParameteri(e,t,r){GLctx.texParameteri(e,t,r)}var _emscripten_glTexParameteri=_glTexParameteri;function _glTexParameteriv(e,t,r){var n=HEAP32[r>>2];GLctx.texParameteri(e,t,n)}var _emscripten_glTexParameteriv=_glTexParameteriv;function _glTexSubImage2D(e,t,r,n,o,a,s,l,c){var u=null;c&&(u=emscriptenWebGLGetTexPixelData(l,s,o,a,c)),GLctx.texSubImage2D(e,t,r,n,o,a,s,l,u)}var _emscripten_glTexSubImage2D=_glTexSubImage2D;function _glUniform1f(e,t){GLctx.uniform1f(webglGetUniformLocation(e),t)}var _emscripten_glUniform1f=_glUniform1f,miniTempWebGLFloatBuffers=[];function _glUniform1fv(e,t,r){if(t<=288)for(var n=miniTempWebGLFloatBuffers[t-1],o=0;o<t;++o)n[o]=HEAPF32[r+4*o>>2];else var n=HEAPF32.subarray(r>>2,r+t*4>>2);GLctx.uniform1fv(webglGetUniformLocation(e),n)}var _emscripten_glUniform1fv=_glUniform1fv;function _glUniform1i(e,t){GLctx.uniform1i(webglGetUniformLocation(e),t)}var _emscripten_glUniform1i=_glUniform1i,miniTempWebGLIntBuffers=[];function _glUniform1iv(e,t,r){if(t<=288)for(var n=miniTempWebGLIntBuffers[t-1],o=0;o<t;++o)n[o]=HEAP32[r+4*o>>2];else var n=HEAP32.subarray(r>>2,r+t*4>>2);GLctx.uniform1iv(webglGetUniformLocation(e),n)}var _emscripten_glUniform1iv=_glUniform1iv;function _glUniform2f(e,t,r){GLctx.uniform2f(webglGetUniformLocation(e),t,r)}var _emscripten_glUniform2f=_glUniform2f;function _glUniform2fv(e,t,r){if(t<=144)for(var n=miniTempWebGLFloatBuffers[2*t-1],o=0;o<2*t;o+=2)n[o]=HEAPF32[r+4*o>>2],n[o+1]=HEAPF32[r+(4*o+4)>>2];else var n=HEAPF32.subarray(r>>2,r+t*8>>2);GLctx.uniform2fv(webglGetUniformLocation(e),n)}var _emscripten_glUniform2fv=_glUniform2fv;function _glUniform2i(e,t,r){GLctx.uniform2i(webglGetUniformLocation(e),t,r)}var _emscripten_glUniform2i=_glUniform2i;function _glUniform2iv(e,t,r){if(t<=144)for(var n=miniTempWebGLIntBuffers[2*t-1],o=0;o<2*t;o+=2)n[o]=HEAP32[r+4*o>>2],n[o+1]=HEAP32[r+(4*o+4)>>2];else var n=HEAP32.subarray(r>>2,r+t*8>>2);GLctx.uniform2iv(webglGetUniformLocation(e),n)}var _emscripten_glUniform2iv=_glUniform2iv;function _glUniform3f(e,t,r,n){GLctx.uniform3f(webglGetUniformLocation(e),t,r,n)}var _emscripten_glUniform3f=_glUniform3f;function _glUniform3fv(e,t,r){if(t<=96)for(var n=miniTempWebGLFloatBuffers[3*t-1],o=0;o<3*t;o+=3)n[o]=HEAPF32[r+4*o>>2],n[o+1]=HEAPF32[r+(4*o+4)>>2],n[o+2]=HEAPF32[r+(4*o+8)>>2];else var n=HEAPF32.subarray(r>>2,r+t*12>>2);GLctx.uniform3fv(webglGetUniformLocation(e),n)}var _emscripten_glUniform3fv=_glUniform3fv;function _glUniform3i(e,t,r,n){GLctx.uniform3i(webglGetUniformLocation(e),t,r,n)}var _emscripten_glUniform3i=_glUniform3i;function _glUniform3iv(e,t,r){if(t<=96)for(var n=miniTempWebGLIntBuffers[3*t-1],o=0;o<3*t;o+=3)n[o]=HEAP32[r+4*o>>2],n[o+1]=HEAP32[r+(4*o+4)>>2],n[o+2]=HEAP32[r+(4*o+8)>>2];else var n=HEAP32.subarray(r>>2,r+t*12>>2);GLctx.uniform3iv(webglGetUniformLocation(e),n)}var _emscripten_glUniform3iv=_glUniform3iv;function _glUniform4f(e,t,r,n,o){GLctx.uniform4f(webglGetUniformLocation(e),t,r,n,o)}var _emscripten_glUniform4f=_glUniform4f;function _glUniform4fv(e,t,r){if(t<=72){var n=miniTempWebGLFloatBuffers[4*t-1],o=HEAPF32;r>>=2;for(var a=0;a<4*t;a+=4){var s=r+a;n[a]=o[s],n[a+1]=o[s+1],n[a+2]=o[s+2],n[a+3]=o[s+3]}}else var n=HEAPF32.subarray(r>>2,r+t*16>>2);GLctx.uniform4fv(webglGetUniformLocation(e),n)}var _emscripten_glUniform4fv=_glUniform4fv;function _glUniform4i(e,t,r,n,o){GLctx.uniform4i(webglGetUniformLocation(e),t,r,n,o)}var _emscripten_glUniform4i=_glUniform4i;function _glUniform4iv(e,t,r){if(t<=72)for(var n=miniTempWebGLIntBuffers[4*t-1],o=0;o<4*t;o+=4)n[o]=HEAP32[r+4*o>>2],n[o+1]=HEAP32[r+(4*o+4)>>2],n[o+2]=HEAP32[r+(4*o+8)>>2],n[o+3]=HEAP32[r+(4*o+12)>>2];else var n=HEAP32.subarray(r>>2,r+t*16>>2);GLctx.uniform4iv(webglGetUniformLocation(e),n)}var _emscripten_glUniform4iv=_glUniform4iv;function _glUniformMatrix2fv(e,t,r,n){if(t<=72)for(var o=miniTempWebGLFloatBuffers[4*t-1],a=0;a<4*t;a+=4)o[a]=HEAPF32[n+4*a>>2],o[a+1]=HEAPF32[n+(4*a+4)>>2],o[a+2]=HEAPF32[n+(4*a+8)>>2],o[a+3]=HEAPF32[n+(4*a+12)>>2];else var o=HEAPF32.subarray(n>>2,n+t*16>>2);GLctx.uniformMatrix2fv(webglGetUniformLocation(e),!!r,o)}var _emscripten_glUniformMatrix2fv=_glUniformMatrix2fv;function _glUniformMatrix3fv(e,t,r,n){if(t<=32)for(var o=miniTempWebGLFloatBuffers[9*t-1],a=0;a<9*t;a+=9)o[a]=HEAPF32[n+4*a>>2],o[a+1]=HEAPF32[n+(4*a+4)>>2],o[a+2]=HEAPF32[n+(4*a+8)>>2],o[a+3]=HEAPF32[n+(4*a+12)>>2],o[a+4]=HEAPF32[n+(4*a+16)>>2],o[a+5]=HEAPF32[n+(4*a+20)>>2],o[a+6]=HEAPF32[n+(4*a+24)>>2],o[a+7]=HEAPF32[n+(4*a+28)>>2],o[a+8]=HEAPF32[n+(4*a+32)>>2];else var o=HEAPF32.subarray(n>>2,n+t*36>>2);GLctx.uniformMatrix3fv(webglGetUniformLocation(e),!!r,o)}var _emscripten_glUniformMatrix3fv=_glUniformMatrix3fv;function _glUniformMatrix4fv(e,t,r,n){if(t<=18){var o=miniTempWebGLFloatBuffers[16*t-1],a=HEAPF32;n>>=2;for(var s=0;s<16*t;s+=16){var l=n+s;o[s]=a[l],o[s+1]=a[l+1],o[s+2]=a[l+2],o[s+3]=a[l+3],o[s+4]=a[l+4],o[s+5]=a[l+5],o[s+6]=a[l+6],o[s+7]=a[l+7],o[s+8]=a[l+8],o[s+9]=a[l+9],o[s+10]=a[l+10],o[s+11]=a[l+11],o[s+12]=a[l+12],o[s+13]=a[l+13],o[s+14]=a[l+14],o[s+15]=a[l+15]}}else var o=HEAPF32.subarray(n>>2,n+t*64>>2);GLctx.uniformMatrix4fv(webglGetUniformLocation(e),!!r,o)}var _emscripten_glUniformMatrix4fv=_glUniformMatrix4fv;function _glUseProgram(e){e=GL.programs[e],GLctx.useProgram(e),GLctx.currentProgram=e}var _emscripten_glUseProgram=_glUseProgram;function _glValidateProgram(e){GLctx.validateProgram(GL.programs[e])}var _emscripten_glValidateProgram=_glValidateProgram;function _glVertexAttrib1f(e,t){GLctx.vertexAttrib1f(e,t)}var _emscripten_glVertexAttrib1f=_glVertexAttrib1f;function _glVertexAttrib1fv(e,t){GLctx.vertexAttrib1f(e,HEAPF32[t>>2])}var _emscripten_glVertexAttrib1fv=_glVertexAttrib1fv;function _glVertexAttrib2f(e,t,r){GLctx.vertexAttrib2f(e,t,r)}var _emscripten_glVertexAttrib2f=_glVertexAttrib2f;function _glVertexAttrib2fv(e,t){GLctx.vertexAttrib2f(e,HEAPF32[t>>2],HEAPF32[t+4>>2])}var _emscripten_glVertexAttrib2fv=_glVertexAttrib2fv;function _glVertexAttrib3f(e,t,r,n){GLctx.vertexAttrib3f(e,t,r,n)}var _emscripten_glVertexAttrib3f=_glVertexAttrib3f;function _glVertexAttrib3fv(e,t){GLctx.vertexAttrib3f(e,HEAPF32[t>>2],HEAPF32[t+4>>2],HEAPF32[t+8>>2])}var _emscripten_glVertexAttrib3fv=_glVertexAttrib3fv;function _glVertexAttrib4f(e,t,r,n,o){GLctx.vertexAttrib4f(e,t,r,n,o)}var _emscripten_glVertexAttrib4f=_glVertexAttrib4f;function _glVertexAttrib4fv(e,t){GLctx.vertexAttrib4f(e,HEAPF32[t>>2],HEAPF32[t+4>>2],HEAPF32[t+8>>2],HEAPF32[t+12>>2])}var _emscripten_glVertexAttrib4fv=_glVertexAttrib4fv;function _glVertexAttribDivisor(e,t){GLctx.vertexAttribDivisor(e,t)}var _glVertexAttribDivisorANGLE=_glVertexAttribDivisor,_emscripten_glVertexAttribDivisorANGLE=_glVertexAttribDivisorANGLE;function _glVertexAttribPointer(e,t,r,n,o,a){GLctx.vertexAttribPointer(e,t,r,!!n,o,a)}var _emscripten_glVertexAttribPointer=_glVertexAttribPointer;function _glViewport(e,t,r,n){GLctx.viewport(e,t,r,n)}var _emscripten_glViewport=_glViewport;function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(e){var t=wasmMemory.buffer;try{return wasmMemory.grow(e-t.byteLength+65535>>>16),updateMemoryViews(),1}catch(r){err("emscripten_realloc_buffer: Attempted to grow heap from "+t.byteLength+" bytes to "+e+" bytes, but got error: "+r)}}function _emscripten_resize_heap(e){var t=HEAPU8.length;e=e>>>0,assert(e>t);var r=getHeapMax();if(e>r)return err("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+r+" bytes!"),!1;let n=(c,u)=>c+(u-c%u)%u;for(var o=1;o<=4;o*=2){var a=t*(1+.2/o);a=Math.min(a,e+100663296);var s=Math.min(r,n(Math.max(e,a),65536)),l=emscripten_realloc_buffer(s);if(l)return!0}return err("Failed to grow the heap from "+t+" bytes to "+s+" bytes, not enough memory!"),!1}function _emscripten_run_script(ptr){eval(UTF8ToString(ptr))}function _emscripten_sample_gamepad_data(){return(JSEvents.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null)?0:-1}function fillMouseEventData(e,t,r){assert(e%4==0),HEAPF64[e>>3]=t.timeStamp;var n=e>>2;HEAP32[n+2]=t.screenX,HEAP32[n+3]=t.screenY,HEAP32[n+4]=t.clientX,HEAP32[n+5]=t.clientY,HEAP32[n+6]=t.ctrlKey,HEAP32[n+7]=t.shiftKey,HEAP32[n+8]=t.altKey,HEAP32[n+9]=t.metaKey,HEAP16[n*2+20]=t.button,HEAP16[n*2+21]=t.buttons,HEAP32[n+11]=t.movementX,HEAP32[n+12]=t.movementY;var o=getBoundingClientRect(r);HEAP32[n+13]=t.clientX-o.left,HEAP32[n+14]=t.clientY-o.top}function registerMouseEventCallback(e,t,r,n,o,a,s){JSEvents.mouseEvent||(JSEvents.mouseEvent=_malloc(72)),e=findEventTarget(e);var l=function(u=event){fillMouseEventData(JSEvents.mouseEvent,u,e),((f,d,m)=>dynCall_iiii.apply(null,[n,f,d,m]))(o,JSEvents.mouseEvent,t)&&u.preventDefault()},c={target:e,allowsDeferredCalls:a!="mousemove"&&a!="mouseenter"&&a!="mouseleave",eventTypeString:a,callbackfunc:n,handlerFunc:l,useCapture:r};JSEvents.registerOrRemoveHandler(c)}function _emscripten_set_click_callback_on_thread(e,t,r,n,o){return registerMouseEventCallback(e,t,r,n,4,"click"),0}function fillFullscreenChangeEventData(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,r=!!t;HEAP32[e>>2]=r,HEAP32[e+4>>2]=JSEvents.fullscreenEnabled();var n=r?t:JSEvents.previousFullscreenElement,o=JSEvents.getNodeNameForTarget(n),a=n&&n.id?n.id:"";stringToUTF8(o,e+8,128),stringToUTF8(a,e+136,128),HEAP32[e+264>>2]=n?n.clientWidth:0,HEAP32[e+268>>2]=n?n.clientHeight:0,HEAP32[e+272>>2]=screen.width,HEAP32[e+276>>2]=screen.height,r&&(JSEvents.previousFullscreenElement=t)}function registerFullscreenChangeEventCallback(e,t,r,n,o,a,s){JSEvents.fullscreenChangeEvent||(JSEvents.fullscreenChangeEvent=_malloc(280));var l=function(u=event){var f=JSEvents.fullscreenChangeEvent;fillFullscreenChangeEventData(f),((d,m,_)=>dynCall_iiii.apply(null,[n,d,m,_]))(o,f,t)&&u.preventDefault()},c={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:l,useCapture:r};JSEvents.registerOrRemoveHandler(c)}function _emscripten_set_fullscreenchange_callback_on_thread(e,t,r,n,o){return JSEvents.fullscreenEnabled()?(e=findEventTarget(e),e?(registerFullscreenChangeEventCallback(e,t,r,n,19,"fullscreenchange"),registerFullscreenChangeEventCallback(e,t,r,n,19,"webkitfullscreenchange"),0):-4):-1}function registerGamepadEventCallback(e,t,r,n,o,a,s){JSEvents.gamepadEvent||(JSEvents.gamepadEvent=_malloc(1432));var l=function(u=event){var f=JSEvents.gamepadEvent;fillGamepadEventData(f,u.gamepad),((d,m,_)=>dynCall_iiii.apply(null,[n,d,m,_]))(o,f,t)&&u.preventDefault()},c={target:findEventTarget(e),allowsDeferredCalls:!0,eventTypeString:a,callbackfunc:n,handlerFunc:l,useCapture:r};JSEvents.registerOrRemoveHandler(c)}function _emscripten_set_gamepadconnected_callback_on_thread(e,t,r,n){return!navigator.getGamepads&&!navigator.webkitGetGamepads?-1:(registerGamepadEventCallback(2,e,t,r,26,"gamepadconnected"),0)}function _emscripten_set_gamepaddisconnected_callback_on_thread(e,t,r,n){return!navigator.getGamepads&&!navigator.webkitGetGamepads?-1:(registerGamepadEventCallback(2,e,t,r,27,"gamepaddisconnected"),0)}function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;checkStackCookie(),e instanceof WebAssembly.RuntimeError&&_emscripten_stack_get_current()<=0&&err("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)"),quit_(1,e)}function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}function exitJS(e,t){if(EXITSTATUS=e,checkUnflushedContent(),keepRuntimeAlive()&&!t){var r="program exited (with status: "+e+"), but keepRuntimeAlive() is set (counter="+runtimeKeepaliveCounter+") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)";readyPromiseReject(r),err(r)}_proc_exit(e)}var _exit=exitJS;function maybeExit(){if(!keepRuntimeAlive())try{_exit(EXITSTATUS)}catch(e){handleException(e)}}function callUserCallback(e){if(ABORT){err("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{e(),maybeExit()}catch(t){handleException(t)}}function safeSetTimeout(e,t){return setTimeout(function(){callUserCallback(e)},t)}var Browser={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,t=Browser.mainLoop.timingValue,r=Browser.mainLoop.func;Browser.mainLoop.func=null,setMainLoop(r,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,t),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,r=Browser.mainLoop.expectedBlockers;t?t<r?Module.setStatus(e+" ("+(r-t)+"/"+r+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(e){if(!ABORT){if(Module.preMainLoop){var t=Module.preMainLoop();if(t===!1)return}callUserCallback(e),Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,err("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:err("warning: no BlobBuilder"),Browser.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>"u"&&(err("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var e={};e.canHandle=function(a){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(a)},e.handle=function(a,s,l,c){var u=null;if(Browser.hasBlobConstructor)try{u=new Blob([a],{type:Browser.getMimetype(s)}),u.size!==a.length&&(u=new Blob([new Uint8Array(a).buffer],{type:Browser.getMimetype(s)}))}catch(_){warnOnce("Blob constructor present but fails: "+_+"; falling back to blob builder")}if(!u){var f=new Browser.BlobBuilder;f.append(new Uint8Array(a).buffer),u=f.getBlob()}var d=Browser.URLObject.createObjectURL(u);assert(typeof d=="string","createObjectURL must return a url as a string");var m=new Image;m.onload=()=>{assert(m.complete,"Image "+s+" could not be decoded");var _=document.createElement("canvas");_.width=m.width,_.height=m.height;var v=_.getContext("2d");v.drawImage(m,0,0),Browser.URLObject.revokeObjectURL(d),l&&l(a)},m.onerror=_=>{out("Image "+d+" could not be decoded"),c&&c()},m.src=d},Module.preloadPlugins.push(e);var t={};t.canHandle=function(a){return!Module.noAudioDecoding&&a.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},t.handle=function(a,s,l,c){var u=!1;function f(E){u||(u=!0,l&&l(a))}function d(){u||(u=!0,new Audio,c&&c())}if(Browser.hasBlobConstructor){try{var m=new Blob([a],{type:Browser.getMimetype(s)})}catch{return d()}var _=Browser.URLObject.createObjectURL(m);assert(typeof _=="string","createObjectURL must return a url as a string");var v=new Audio;v.addEventListener("canplaythrough",()=>f(),!1),v.onerror=function(p){if(u)return;err("warning: browser could not fully decode audio "+s+", trying slower base64 approach");function g(h){for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="=",F="",S=0,w=0,A=0;A<h.length;A++)for(S=S<<8|h[A],w+=8;w>=6;){var T=S>>w-6&63;w-=6,F+=y[T]}return w==2?(F+=y[(S&3)<<4],F+=b+b):w==4&&(F+=y[(S&15)<<2],F+=b),F}v.src="data:audio/x-"+s.substr(-3)+";base64,"+g(a),f()},v.src=_,safeSetTimeout(function(){f()},1e4)}else return d()},Module.preloadPlugins.push(t);function r(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var n=Module.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",r,!1),document.addEventListener("mozpointerlockchange",r,!1),document.addEventListener("webkitpointerlockchange",r,!1),document.addEventListener("mspointerlockchange",r,!1),Module.elementPointerLock&&n.addEventListener("click",o=>{!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),o.preventDefault())},!1))},handledByPreloadPlugin:function(e,t,r,n){Browser.init();var o=!1;return Module.preloadPlugins.forEach(function(a){o||a.canHandle(t)&&(a.handle(e,t,r,n),o=!0)}),o},createContext:function(e,t,r,n){if(t&&Module.ctx&&e==Module.canvas)return Module.ctx;var o,a;if(t){var s={antialias:!1,alpha:!1,majorVersion:1};if(n)for(var l in n)s[l]=n[l];typeof GL<"u"&&(a=GL.createContext(e,s),a&&(o=GL.getContext(a).GLctx))}else o=e.getContext("2d");return o?(r&&(t||assert(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=o,t&&GL.makeContextCurrent(a),Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach(function(c){c()}),Browser.init()),o):null},destroyContext:function(e,t,r){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t){Browser.lockPointer=e,Browser.resizeCanvas=t,typeof Browser.lockPointer>"u"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>"u"&&(Browser.resizeCanvas=!1);var r=Module.canvas;function n(){Browser.isFullscreen=!1;var a=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===a?(r.exitFullscreen=Browser.exitFullscreen,Browser.lockPointer&&r.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas?Browser.setFullscreenCanvasSize():Browser.updateCanvasDimensions(r)):(a.parentNode.insertBefore(r,a),a.parentNode.removeChild(a),Browser.resizeCanvas?Browser.setWindowedCanvasSize():Browser.updateCanvasDimensions(r)),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var o=document.createElement("div");r.parentNode.insertBefore(o,r),o.appendChild(r),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?()=>o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(o.webkitRequestFullScreen?()=>o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),o.requestFullscreen()},requestFullScreen:function(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!Browser.isFullscreen)return!1;var e=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){};return e.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=t+1e3/60;else for(;t+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var r=Math.max(Browser.nextRAF-t,0);setTimeout(e,r)},requestAnimationFrame:function(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var t=Browser.fakeRequestAnimationFrame;t(e)},safeSetTimeout:function(e,t){return safeSetTimeout(e,t)},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){callUserCallback(e)})},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),typeof SDL<"u"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),r=Module.canvas.width,n=Module.canvas.height,o=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,a=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(assert(typeof o<"u"&&typeof a<"u","Unable to retrieve scroll position, mouse positions likely broken."),e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var s=e.touch;if(s===void 0)return;var l=s.pageX-(o+t.left),c=s.pageY-(a+t.top);l=l*(r/t.width),c=c*(n/t.height);var u={x:l,y:c};if(e.type==="touchstart")Browser.lastTouches[s.identifier]=u,Browser.touches[s.identifier]=u;else if(e.type==="touchend"||e.type==="touchmove"){var f=Browser.touches[s.identifier];f||(f=u),Browser.lastTouches[s.identifier]=f,Browser.touches[s.identifier]=u}return}var d=e.pageX-(o+t.left),m=e.pageY-(a+t.top);d=d*(r/t.width),m=m*(n/t.height),Browser.mouseMovementX=d-Browser.mouseX,Browser.mouseMovementY=m-Browser.mouseY,Browser.mouseX=d,Browser.mouseY=m}},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,r){var n=Module.canvas;Browser.updateCanvasDimensions(n,e,t),r||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var e=HEAPU32[SDL.screen>>2];e=e|8388608,HEAP32[SDL.screen>>2]=e}Browser.updateCanvasDimensions(Module.canvas),Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var e=HEAPU32[SDL.screen>>2];e=e&-8388609,HEAP32[SDL.screen>>2]=e}Browser.updateCanvasDimensions(Module.canvas),Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var n=t,o=r;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(n/o<Module.forcedAspectRatio?n=Math.round(o*Module.forcedAspectRatio):o=Math.round(n/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var a=Math.min(screen.width/n,screen.height/o);n=Math.round(n*a),o=Math.round(o*a)}Browser.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=o&&(e.height=o),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),typeof e.style<"u"&&(n!=t||o!=r?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",o+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}};function _emscripten_set_main_loop_timing(e,t){if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=t,!Browser.mainLoop.func)return err("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(Browser.mainLoop.running||(Browser.mainLoop.running=!0),e==0)Browser.mainLoop.scheduler=function(){var s=Math.max(0,Browser.mainLoop.tickStartTime+t-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,s)},Browser.mainLoop.method="timeout";else if(e==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(e==2){if(typeof setImmediate>"u"){var r=[],n="setimmediate",o=a=>{(a.data===n||a.data.target===n)&&(a.stopPropagation(),r.shift()())};addEventListener("message",o,!0),setImmediate=function(s){r.push(s),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(s),postMessage({target:n})):postMessage(n,"*")}}Browser.mainLoop.scheduler=function(){setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function setMainLoop(e,t,r,n,o){assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=n;var a=Browser.mainLoop.currentlyRunningMainloop;function s(){return!(a<Browser.mainLoop.currentlyRunningMainloop)}if(Browser.mainLoop.running=!1,Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var c=Date.now(),u=Browser.mainLoop.queue.shift();if(u.func(u.arg),Browser.mainLoop.remainingBlockers){var f=Browser.mainLoop.remainingBlockers,d=f%1==0?f-1:Math.floor(f);u.counted?Browser.mainLoop.remainingBlockers=d:(d=d+.5,Browser.mainLoop.remainingBlockers=(8*f+d)/9)}if(out('main loop blocker "'+u.name+'" took '+(Date.now()-c)+" ms"),Browser.mainLoop.updateStatus(),!s())return;setTimeout(Browser.mainLoop.runner,0);return}if(s()){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method==="timeout"&&Module.ctx&&(warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(e),checkStackCookie(),s()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},o||(t&&t>0?_emscripten_set_main_loop_timing(0,1e3/t):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),r)throw"unwind"}function _emscripten_set_main_loop(e,t,r){var n=()=>dynCall_v.call(null,e);setMainLoop(n,t,r)}function registerTouchEventCallback(e,t,r,n,o,a,s){JSEvents.touchEvent||(JSEvents.touchEvent=_malloc(1696)),e=findEventTarget(e);var l=function(u){assert(u);for(var f,d={},m=u.touches,_=0;_<m.length;++_)f=m[_],f.isChanged=f.onTarget=0,d[f.identifier]=f;for(var _=0;_<u.changedTouches.length;++_)f=u.changedTouches[_],f.isChanged=1,d[f.identifier]=f;for(var _=0;_<u.targetTouches.length;++_)d[u.targetTouches[_].identifier].onTarget=1;var v=JSEvents.touchEvent;HEAPF64[v>>3]=u.timeStamp;var E=v>>2;HEAP32[E+3]=u.ctrlKey,HEAP32[E+4]=u.shiftKey,HEAP32[E+5]=u.altKey,HEAP32[E+6]=u.metaKey,E+=7;var p=getBoundingClientRect(e),g=0;for(var _ in d)if(f=d[_],HEAP32[E+0]=f.identifier,HEAP32[E+1]=f.screenX,HEAP32[E+2]=f.screenY,HEAP32[E+3]=f.clientX,HEAP32[E+4]=f.clientY,HEAP32[E+5]=f.pageX,HEAP32[E+6]=f.pageY,HEAP32[E+7]=f.isChanged,HEAP32[E+8]=f.onTarget,HEAP32[E+9]=f.clientX-p.left,HEAP32[E+10]=f.clientY-p.top,E+=13,++g>31)break;HEAP32[v+8>>2]=g,((h,y,b)=>dynCall_iiii.apply(null,[n,h,y,b]))(o,v,t)&&u.preventDefault()},c={target:e,allowsDeferredCalls:a=="touchstart"||a=="touchend",eventTypeString:a,callbackfunc:n,handlerFunc:l,useCapture:r};JSEvents.registerOrRemoveHandler(c)}function _emscripten_set_touchcancel_callback_on_thread(e,t,r,n,o){return registerTouchEventCallback(e,t,r,n,25,"touchcancel"),0}function _emscripten_set_touchend_callback_on_thread(e,t,r,n,o){return registerTouchEventCallback(e,t,r,n,23,"touchend"),0}function _emscripten_set_touchmove_callback_on_thread(e,t,r,n,o){return registerTouchEventCallback(e,t,r,n,24,"touchmove"),0}function _emscripten_set_touchstart_callback_on_thread(e,t,r,n,o){return registerTouchEventCallback(e,t,r,n,22,"touchstart"),0}function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||r.name!=="ErrnoError")throw r;return r.errno}}function doReadv(e,t,r,n){for(var o=0,a=0;a<r;a++){var s=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.read(e,HEAP8,s,l,n);if(c<0)return-1;if(o+=c,c<l)break;typeof n<"u"&&(n+=c)}return o}function _fd_read(e,t,r,n){try{var o=SYSCALLS.getStreamFromFD(e),a=doReadv(o,t,r);return HEAPU32[n>>2]=a,0}catch(s){if(typeof FS>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function convertI32PairToI53Checked(e,t){return assert(e==e>>>0||e==(e|0)),assert(t===(t|0)),t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN}function _fd_seek(e,t,r,n,o){try{var a=convertI32PairToI53Checked(t,r);if(isNaN(a))return 61;var s=SYSCALLS.getStreamFromFD(e);return FS.llseek(s,a,n),tempI64=[s.position>>>0,(tempDouble=s.position,+Math.abs(tempDouble)>=1?tempDouble>0?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1],s.getdents&&a===0&&n===0&&(s.getdents=null),0}catch(l){if(typeof FS>"u"||l.name!=="ErrnoError")throw l;return l.errno}}function doWritev(e,t,r,n){for(var o=0,a=0;a<r;a++){var s=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,s,l,n);if(c<0)return-1;o+=c,typeof n<"u"&&(n+=c)}return o}function _fd_write(e,t,r,n){try{var o=SYSCALLS.getStreamFromFD(e),a=doWritev(o,t,r);return HEAPU32[n>>2]=a,0}catch(s){if(typeof FS>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function GLFW_Window(e,t,r,n,o,a){this.id=e,this.x=0,this.y=0,this.fullscreen=!1,this.storedX=0,this.storedY=0,this.width=t,this.height=r,this.storedWidth=t,this.storedHeight=r,this.title=n,this.monitor=o,this.share=a,this.attributes=GLFW.hints,this.inputModes={208897:212993,208898:0,208899:0},this.buttons=0,this.keys=new Array,this.domKeys=new Array,this.shouldClose=0,this.title=null,this.windowPosFunc=null,this.windowSizeFunc=null,this.windowCloseFunc=null,this.windowRefreshFunc=null,this.windowFocusFunc=null,this.windowIconifyFunc=null,this.windowMaximizeFunc=null,this.framebufferSizeFunc=null,this.windowContentScaleFunc=null,this.mouseButtonFunc=null,this.cursorPosFunc=null,this.cursorEnterFunc=null,this.scrollFunc=null,this.dropFunc=null,this.keyFunc=null,this.charFunc=null,this.userptr=null}var GLFW={WindowFromId:function(e){return e<=0||!GLFW.windows?null:GLFW.windows[e-1]},joystickFunc:null,errorFunc:null,monitorFunc:null,active:null,scale:null,windows:null,monitors:null,monitorString:null,versionString:null,initialTime:null,extensions:null,hints:null,defaultHints:{131073:0,131074:0,131075:1,131076:1,131077:1,131082:0,135169:8,135170:8,135171:8,135172:8,135173:24,135174:8,135175:0,135176:0,135177:0,135178:0,135179:0,135180:0,135181:0,135182:0,135183:0,139265:196609,139266:1,139267:0,139268:0,139269:0,139270:0,139271:0,139272:0,139276:0},DOMToGLFWKeyCode:function(e){switch(e){case 32:return 32;case 222:return 39;case 188:return 44;case 173:return 45;case 189:return 45;case 190:return 46;case 191:return 47;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 59:return 59;case 61:return 61;case 187:return 61;case 65:return 65;case 66:return 66;case 67:return 67;case 68:return 68;case 69:return 69;case 70:return 70;case 71:return 71;case 72:return 72;case 73:return 73;case 74:return 74;case 75:return 75;case 76:return 76;case 77:return 77;case 78:return 78;case 79:return 79;case 80:return 80;case 81:return 81;case 82:return 82;case 83:return 83;case 84:return 84;case 85:return 85;case 86:return 86;case 87:return 87;case 88:return 88;case 89:return 89;case 90:return 90;case 219:return 91;case 220:return 92;case 221:return 93;case 192:return 96;case 27:return 256;case 13:return 257;case 9:return 258;case 8:return 259;case 45:return 260;case 46:return 261;case 39:return 262;case 37:return 263;case 40:return 264;case 38:return 265;case 33:return 266;case 34:return 267;case 36:return 268;case 35:return 269;case 20:return 280;case 145:return 281;case 144:return 282;case 44:return 283;case 19:return 284;case 112:return 290;case 113:return 291;case 114:return 292;case 115:return 293;case 116:return 294;case 117:return 295;case 118:return 296;case 119:return 297;case 120:return 298;case 121:return 299;case 122:return 300;case 123:return 301;case 124:return 302;case 125:return 303;case 126:return 304;case 127:return 305;case 128:return 306;case 129:return 307;case 130:return 308;case 131:return 309;case 132:return 310;case 133:return 311;case 134:return 312;case 135:return 313;case 136:return 314;case 96:return 320;case 97:return 321;case 98:return 322;case 99:return 323;case 100:return 324;case 101:return 325;case 102:return 326;case 103:return 327;case 104:return 328;case 105:return 329;case 110:return 330;case 111:return 331;case 106:return 332;case 109:return 333;case 107:return 334;case 16:return 340;case 17:return 341;case 18:return 342;case 91:return 343;case 93:return 348;default:return-1}},getModBits:function(e){var t=0;return e.keys[340]&&(t|=1),e.keys[341]&&(t|=2),e.keys[342]&&(t|=4),e.keys[343]&&(t|=8),t},onKeyPress:function(e){if(!(!GLFW.active||!GLFW.active.charFunc)&&!(e.ctrlKey||e.metaKey)){var t=e.charCode;t==0||t>=0&&t<=31||((r,n)=>dynCall_vii.apply(null,[GLFW.active.charFunc,r,n]))(GLFW.active.id,t)}},onKeyChanged:function(e,t){if(GLFW.active){var r=GLFW.DOMToGLFWKeyCode(e);if(r!=-1){var n=t&&GLFW.active.keys[r];GLFW.active.keys[r]=t,GLFW.active.domKeys[e]=t,GLFW.active.keyFunc&&(n&&(t=2),((o,a,s,l,c)=>dynCall_viiiii.apply(null,[GLFW.active.keyFunc,o,a,s,l,c]))(GLFW.active.id,r,e,t,GLFW.getModBits(GLFW.active)))}}},onGamepadConnected:function(e){GLFW.refreshJoysticks()},onGamepadDisconnected:function(e){GLFW.refreshJoysticks()},onKeydown:function(e){GLFW.onKeyChanged(e.keyCode,1),(e.keyCode===8||e.keyCode===9)&&e.preventDefault()},onKeyup:function(e){GLFW.onKeyChanged(e.keyCode,0)},onBlur:function(e){if(GLFW.active)for(var t=0;t<GLFW.active.domKeys.length;++t)GLFW.active.domKeys[t]&&GLFW.onKeyChanged(t,0)},onMousemove:function(e){GLFW.active&&(Browser.calculateMouseEvent(e),!(e.target!=Module.canvas||!GLFW.active.cursorPosFunc)&&((t,r,n)=>dynCall_vidd.apply(null,[GLFW.active.cursorPosFunc,t,r,n]))(GLFW.active.id,Browser.mouseX,Browser.mouseY))},DOMToGLFWMouseButton:function(e){var t=e.button;return t>0&&(t==1?t=2:t=1),t},onMouseenter:function(e){GLFW.active&&(e.target!=Module.canvas||!GLFW.active.cursorEnterFunc||((t,r)=>dynCall_vii.apply(null,[GLFW.active.cursorEnterFunc,t,r]))(GLFW.active.id,1))},onMouseleave:function(e){GLFW.active&&(e.target!=Module.canvas||!GLFW.active.cursorEnterFunc||((t,r)=>dynCall_vii.apply(null,[GLFW.active.cursorEnterFunc,t,r]))(GLFW.active.id,0))},onMouseButtonChanged:function(e,t){if(GLFW.active&&(Browser.calculateMouseEvent(e),e.target==Module.canvas)){var r=GLFW.DOMToGLFWMouseButton(e);if(t==1){GLFW.active.buttons|=1<<r;try{e.target.setCapture()}catch{}}else GLFW.active.buttons&=~(1<<r);GLFW.active.mouseButtonFunc&&((n,o,a,s)=>dynCall_viiii.apply(null,[GLFW.active.mouseButtonFunc,n,o,a,s]))(GLFW.active.id,r,t,GLFW.getModBits(GLFW.active))}},onMouseButtonDown:function(e){GLFW.active&&GLFW.onMouseButtonChanged(e,1)},onMouseButtonUp:function(e){GLFW.active&&GLFW.onMouseButtonChanged(e,0)},onMouseWheel:function(e){var t=-Browser.getMouseWheelDelta(e);if(t=t==0?0:t>0?Math.max(t,1):Math.min(t,-1),GLFW.wheelPos+=t,!(!GLFW.active||!GLFW.active.scrollFunc||e.target!=Module.canvas)){var r=0,n=t;e.type=="mousewheel"?r=e.wheelDeltaX:r=e.deltaX,((o,a,s)=>dynCall_vidd.apply(null,[GLFW.active.scrollFunc,o,a,s]))(GLFW.active.id,r,n),e.preventDefault()}},onCanvasResize:function(e,t){if(GLFW.active){var r=!0;document.fullscreen||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?(GLFW.active.storedX=GLFW.active.x,GLFW.active.storedY=GLFW.active.y,GLFW.active.storedWidth=GLFW.active.width,GLFW.active.storedHeight=GLFW.active.height,GLFW.active.x=GLFW.active.y=0,GLFW.active.width=screen.width,GLFW.active.height=screen.height,GLFW.active.fullscreen=!0):GLFW.active.fullscreen==!0?(GLFW.active.x=GLFW.active.storedX,GLFW.active.y=GLFW.active.storedY,GLFW.active.width=GLFW.active.storedWidth,GLFW.active.height=GLFW.active.storedHeight,GLFW.active.fullscreen=!1):GLFW.active.width!=e||GLFW.active.height!=t?(GLFW.active.width=e,GLFW.active.height=t):r=!1,r&&(Browser.setCanvasSize(GLFW.active.width,GLFW.active.height,!0),GLFW.onWindowSizeChanged(),GLFW.onFramebufferSizeChanged())}},onWindowSizeChanged:function(){GLFW.active&&GLFW.active.windowSizeFunc&&((e,t,r)=>dynCall_viii.apply(null,[GLFW.active.windowSizeFunc,e,t,r]))(GLFW.active.id,GLFW.active.width,GLFW.active.height)},onFramebufferSizeChanged:function(){GLFW.active&&GLFW.active.framebufferSizeFunc&&((e,t,r)=>dynCall_viii.apply(null,[GLFW.active.framebufferSizeFunc,e,t,r]))(GLFW.active.id,GLFW.active.width,GLFW.active.height)},onWindowContentScaleChanged:function(e){GLFW.scale=e,GLFW.active&&((t,r,n)=>dynCall_viff.apply(null,[GLFW.active.windowContentScaleFunc,t,r,n]))(GLFW.active.id,GLFW.scale,GLFW.scale)},getTime:function(){return _emscripten_get_now()/1e3},setWindowTitle:function(e,t){var r=GLFW.WindowFromId(e);r&&(r.title=UTF8ToString(t),GLFW.active.id==r.id&&(document.title=r.title))},setJoystickCallback:function(e){GLFW.joystickFunc=e,GLFW.refreshJoysticks()},joys:{},lastGamepadState:[],lastGamepadStateFrame:null,refreshJoysticks:function(){if(Browser.mainLoop.currentFrameNumber!==GLFW.lastGamepadStateFrame||!Browser.mainLoop.currentFrameNumber){GLFW.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads:[],GLFW.lastGamepadStateFrame=Browser.mainLoop.currentFrameNumber;for(var e=0;e<GLFW.lastGamepadState.length;++e){var t=GLFW.lastGamepadState[e];if(t){GLFW.joys[e]||(out("glfw joystick connected:",e),GLFW.joys[e]={id:stringToNewUTF8(t.id),buttonsCount:t.buttons.length,axesCount:t.axes.length,buttons:_malloc(t.buttons.length),axes:_malloc(t.axes.length*4)},GLFW.joystickFunc&&((o,a)=>dynCall_vii.apply(null,[GLFW.joystickFunc,o,a]))(e,262145));for(var r=GLFW.joys[e],n=0;n<t.buttons.length;++n)HEAP8[r.buttons+n>>0]=t.buttons[n].pressed;for(var n=0;n<t.axes.length;++n)HEAPF32[r.axes+n*4>>2]=t.axes[n]}else GLFW.joys[e]&&(out("glfw joystick disconnected",e),GLFW.joystickFunc&&((o,a)=>dynCall_vii.apply(null,[GLFW.joystickFunc,o,a]))(e,262146),_free(GLFW.joys[e].id),_free(GLFW.joys[e].buttons),_free(GLFW.joys[e].axes),delete GLFW.joys[e])}}},setKeyCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.keyFunc;return r.keyFunc=t,n},setCharCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.charFunc;return r.charFunc=t,n},setMouseButtonCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.mouseButtonFunc;return r.mouseButtonFunc=t,n},setCursorPosCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.cursorPosFunc;return r.cursorPosFunc=t,n},setScrollCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.scrollFunc;return r.scrollFunc=t,n},setDropCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.dropFunc;return r.dropFunc=t,n},onDrop:function(e){if(!GLFW.active||!GLFW.active.dropFunc||!e.dataTransfer||!e.dataTransfer.files||e.dataTransfer.files.length==0)return;e.preventDefault();var t=_malloc(e.dataTransfer.files.length*4),r=[],n=e.dataTransfer.files.length,o=0,a=".glfw_dropped_files";FS.createPath("/",a);function s(c){var u="/"+a+"/"+c.name.replace(/\//g,"_"),f=new FileReader;f.onloadend=m=>{if(f.readyState!=2){++o,out("failed to read dropped file: "+c.name+": "+f.error);return}var _=m.target.result;if(FS.writeFile(u,new Uint8Array(_)),++o===n){((E,p,g)=>dynCall_viii.apply(null,[GLFW.active.dropFunc,E,p,g]))(GLFW.active.id,n,t);for(var v=0;v<r.length;++v)_free(r[v]);_free(t)}},f.readAsArrayBuffer(c);var d=stringToNewUTF8(u);r.push(d),HEAPU32[t+l*4>>2]=d}for(var l=0;l<n;++l)s(e.dataTransfer.files[l]);return!1},onDragover:function(e){if(!(!GLFW.active||!GLFW.active.dropFunc))return e.preventDefault(),!1},setWindowSizeCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.windowSizeFunc;return r.windowSizeFunc=t,n},setWindowCloseCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.windowCloseFunc;return r.windowCloseFunc=t,n},setWindowRefreshCallback:function(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.windowRefreshFunc;return r.windowRefreshFunc=t,n},onClickRequestPointerLock:function(e){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),e.preventDefault())},setInputMode:function(e,t,r){var n=GLFW.WindowFromId(e);if(n)switch(t){case 208897:{switch(r){case 212993:{n.inputModes[t]=r,Module.canvas.removeEventListener("click",GLFW.onClickRequestPointerLock,!0),Module.canvas.exitPointerLock();break}case 212994:{out("glfwSetInputMode called with GLFW_CURSOR_HIDDEN value not implemented.");break}case 212995:{n.inputModes[t]=r,Module.canvas.addEventListener("click",GLFW.onClickRequestPointerLock,!0),Module.canvas.requestPointerLock();break}default:{out("glfwSetInputMode called with unknown value parameter value: "+r+".");break}}break}case 208898:{out("glfwSetInputMode called with GLFW_STICKY_KEYS mode not implemented.");break}case 208899:{out("glfwSetInputMode called with GLFW_STICKY_MOUSE_BUTTONS mode not implemented.");break}case 208900:{out("glfwSetInputMode called with GLFW_LOCK_KEY_MODS mode not implemented.");break}case 3342341:{out("glfwSetInputMode called with GLFW_RAW_MOUSE_MOTION mode not implemented.");break}default:{out("glfwSetInputMode called with unknown mode parameter value: "+t+".");break}}},getKey:function(e,t){var r=GLFW.WindowFromId(e);return r?r.keys[t]:0},getMouseButton:function(e,t){var r=GLFW.WindowFromId(e);return r?(r.buttons&1<<t)>0:0},getCursorPos:function(e,t,r){HEAPF64[t>>3]=Browser.mouseX,HEAPF64[r>>3]=Browser.mouseY},getMousePos:function(e,t,r){HEAP32[t>>2]=Browser.mouseX,HEAP32[r>>2]=Browser.mouseY},setCursorPos:function(e,t,r){},getWindowPos:function(e,t,r){var n=0,o=0,a=GLFW.WindowFromId(e);a&&(n=a.x,o=a.y),t&&(HEAP32[t>>2]=n),r&&(HEAP32[r>>2]=o)},setWindowPos:function(e,t,r){var n=GLFW.WindowFromId(e);n&&(n.x=t,n.y=r)},getWindowSize:function(e,t,r){var n=0,o=0,a=GLFW.WindowFromId(e);a&&(n=a.width,o=a.height),t&&(HEAP32[t>>2]=n),r&&(HEAP32[r>>2]=o)},setWindowSize:function(e,t,r){var n=GLFW.WindowFromId(e);n&&(GLFW.active.id==n.id&&(t==screen.width&&r==screen.height?Browser.requestFullscreen():(Browser.exitFullscreen(),Browser.setCanvasSize(t,r),n.width=t,n.height=r)),n.windowSizeFunc&&((o,a,s)=>dynCall_viii.apply(null,[n.windowSizeFunc,o,a,s]))(n.id,t,r))},createWindow:function(e,t,r,n,o){var a,s;for(a=0;a<GLFW.windows.length&&GLFW.windows[a]!==null;a++);if(a>0)throw"glfwCreateWindow only supports one window at time currently";if(s=a+1,e<=0||t<=0)return 0;for(n?Browser.requestFullscreen():Browser.setCanvasSize(e,t),a=0;a<GLFW.windows.length&&GLFW.windows[a]==null;a++);var l=GLFW.hints[139265]>0;if(a==GLFW.windows.length)if(l){var c={antialias:GLFW.hints[135181]>1,depth:GLFW.hints[135173]>0,stencil:GLFW.hints[135174]>0,alpha:GLFW.hints[135172]>0};Module.ctx=Browser.createContext(Module.canvas,!0,!0,c)}else Browser.init();if(!Module.ctx&&l)return 0;var u=new GLFW_Window(s,e,t,r,n,o);return s-1==GLFW.windows.length?GLFW.windows.push(u):GLFW.windows[s-1]=u,GLFW.active=u,u.id},destroyWindow:function(e){var t=GLFW.WindowFromId(e);if(t){t.windowCloseFunc&&(n=>dynCall_vi.apply(null,[t.windowCloseFunc,n]))(t.id),GLFW.windows[t.id-1]=null,GLFW.active.id==t.id&&(GLFW.active=null);for(var r=0;r<GLFW.windows.length;r++)if(GLFW.windows[r]!==null)return;Module.ctx=Browser.destroyContext(Module.canvas,!0,!0)}},swapBuffers:function(e){},GLFW2ParamToGLFW3Param:function(e){var t={196609:0,196610:0,196611:0,196612:0,196613:0,196614:0,131073:0,131074:0,131075:0,131076:0,131077:135169,131078:135170,131079:135171,131080:135172,131081:135173,131082:135174,131083:135183,131084:135175,131085:135176,131086:135177,131087:135178,131088:135179,131089:135180,131090:0,131091:135181,131092:139266,131093:139267,131094:139270,131095:139271,131096:139272};return t[e]}};function _glfwCreateWindow(e,t,r,n,o){return GLFW.createWindow(e,t,r,n,o)}function _glfwDefaultWindowHints(){GLFW.hints=GLFW.defaultHints}function _glfwDestroyWindow(e){return GLFW.destroyWindow(e)}function _glfwGetPrimaryMonitor(){return 1}function _glfwGetTime(){return GLFW.getTime()-GLFW.initialTime}function _glfwGetVideoModes(e,t){return HEAP32[t>>2]=0,0}function _emscripten_get_device_pixel_ratio(){return typeof devicePixelRatio=="number"&&devicePixelRatio||1}function _glfwInit(){return GLFW.windows||(GLFW.initialTime=GLFW.getTime(),GLFW.hints=GLFW.defaultHints,GLFW.windows=new Array,GLFW.active=null,GLFW.scale=_emscripten_get_device_pixel_ratio(),window.addEventListener("gamepadconnected",GLFW.onGamepadConnected,!0),window.addEventListener("gamepaddisconnected",GLFW.onGamepadDisconnected,!0),window.addEventListener("keydown",GLFW.onKeydown,!0),window.addEventListener("keypress",GLFW.onKeyPress,!0),window.addEventListener("keyup",GLFW.onKeyup,!0),window.addEventListener("blur",GLFW.onBlur,!0),function e(){window.matchMedia("(resolution: "+window.devicePixelRatio+"dppx)").addEventListener("change",e,{once:!0}),GLFW.onWindowContentScaleChanged(_emscripten_get_device_pixel_ratio())}(),Module.canvas.addEventListener("touchmove",GLFW.onMousemove,!0),Module.canvas.addEventListener("touchstart",GLFW.onMouseButtonDown,!0),Module.canvas.addEventListener("touchcancel",GLFW.onMouseButtonUp,!0),Module.canvas.addEventListener("touchend",GLFW.onMouseButtonUp,!0),Module.canvas.addEventListener("mousemove",GLFW.onMousemove,!0),Module.canvas.addEventListener("mousedown",GLFW.onMouseButtonDown,!0),Module.canvas.addEventListener("mouseup",GLFW.onMouseButtonUp,!0),Module.canvas.addEventListener("wheel",GLFW.onMouseWheel,!0),Module.canvas.addEventListener("mousewheel",GLFW.onMouseWheel,!0),Module.canvas.addEventListener("mouseenter",GLFW.onMouseenter,!0),Module.canvas.addEventListener("mouseleave",GLFW.onMouseleave,!0),Module.canvas.addEventListener("drop",GLFW.onDrop,!0),Module.canvas.addEventListener("dragover",GLFW.onDragover,!0),Browser.resizeListeners.push((e,t)=>{GLFW.onCanvasResize(e,t)})),1}function _glfwMakeContextCurrent(e){}function _glfwSetCharCallback(e,t){return GLFW.setCharCallback(e,t)}function _glfwSetCursorEnterCallback(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.cursorEnterFunc;return r.cursorEnterFunc=t,n}function _glfwSetCursorPosCallback(e,t){return GLFW.setCursorPosCallback(e,t)}function _glfwSetDropCallback(e,t){return GLFW.setDropCallback(e,t)}function _glfwSetErrorCallback(e){var t=GLFW.errorFunc;return GLFW.errorFunc=e,t}function _glfwSetKeyCallback(e,t){return GLFW.setKeyCallback(e,t)}function _glfwSetMouseButtonCallback(e,t){return GLFW.setMouseButtonCallback(e,t)}function _glfwSetScrollCallback(e,t){return GLFW.setScrollCallback(e,t)}function _glfwSetWindowFocusCallback(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.windowFocusFunc;return r.windowFocusFunc=t,n}function _glfwSetWindowIconifyCallback(e,t){var r=GLFW.WindowFromId(e);if(!r)return null;var n=r.windowIconifyFunc;return r.windowIconifyFunc=t,n}function _glfwSetWindowShouldClose(e,t){var r=GLFW.WindowFromId(e);r&&(r.shouldClose=t)}function _glfwSetWindowSize(e,t,r){GLFW.setWindowSize(e,t,r)}function _glfwSetWindowSizeCallback(e,t){return GLFW.setWindowSizeCallback(e,t)}function _glfwSwapBuffers(e){}function _glfwSwapInterval(e){e=Math.abs(e),e==0?_emscripten_set_main_loop_timing(0,0):_emscripten_set_main_loop_timing(1,e)}function _glfwTerminate(){window.removeEventListener("gamepadconnected",GLFW.onGamepadConnected,!0),window.removeEventListener("gamepaddisconnected",GLFW.onGamepadDisconnected,!0),window.removeEventListener("keydown",GLFW.onKeydown,!0),window.removeEventListener("keypress",GLFW.onKeyPress,!0),window.removeEventListener("keyup",GLFW.onKeyup,!0),window.removeEventListener("blur",GLFW.onBlur,!0),Module.canvas.removeEventListener("touchmove",GLFW.onMousemove,!0),Module.canvas.removeEventListener("touchstart",GLFW.onMouseButtonDown,!0),Module.canvas.removeEventListener("touchcancel",GLFW.onMouseButtonUp,!0),Module.canvas.removeEventListener("touchend",GLFW.onMouseButtonUp,!0),Module.canvas.removeEventListener("mousemove",GLFW.onMousemove,!0),Module.canvas.removeEventListener("mousedown",GLFW.onMouseButtonDown,!0),Module.canvas.removeEventListener("mouseup",GLFW.onMouseButtonUp,!0),Module.canvas.removeEventListener("wheel",GLFW.onMouseWheel,!0),Module.canvas.removeEventListener("mousewheel",GLFW.onMouseWheel,!0),Module.canvas.removeEventListener("mouseenter",GLFW.onMouseenter,!0),Module.canvas.removeEventListener("mouseleave",GLFW.onMouseleave,!0),Module.canvas.removeEventListener("drop",GLFW.onDrop,!0),Module.canvas.removeEventListener("dragover",GLFW.onDragover,!0),Module.canvas.width=Module.canvas.height=1,GLFW.windows=null,GLFW.active=null}function _glfwWindowHint(e,t){GLFW.hints[e]=t}function runAndAbortIfError(e){try{return e()}catch(t){abort(t)}}function runtimeKeepalivePush(){runtimeKeepaliveCounter+=1}function runtimeKeepalivePop(){assert(runtimeKeepaliveCounter>0),runtimeKeepaliveCounter-=1}var Asyncify={instrumentWasmImports:function(e){var t=["invoke_*","emscripten_wget","emscripten_wget_data","emscripten_idb_load","emscripten_idb_store","emscripten_idb_delete","emscripten_idb_exists","emscripten_idb_load_blob","emscripten_idb_store_blob","SDL_Delay","emscripten_scan_registers","emscripten_lazy_load_code","emscripten_fiber_swap","__load_secondary_module","fd_sync","__wasi_fd_sync","_emval_await","_dlopen_js","__asyncjs__*","emscripten_sleep","_load_secondary_module"];for(var r in e)(function(n){var o=e[n];if(o.sig,typeof o=="function"){var a=o.isAsync||t.indexOf(n)>=0||n.startsWith("__asyncjs__");e[n]=function(){var s=Asyncify.state;try{return o.apply(null,arguments)}finally{var l=s===Asyncify.State.Normal&&Asyncify.state===Asyncify.State.Disabled,c=n.startsWith("invoke_")&&!0;if(Asyncify.state!==s&&!a&&!l&&!c)throw new Error("import "+n+" was not in ASYNCIFY_IMPORTS, but changed the state")}}}})(r)},instrumentWasmExports:function(e){var t={};for(var r in e)(function(n){var o=e[n];typeof o=="function"?t[n]=function(){Asyncify.exportCallStack.push(n);try{return o.apply(null,arguments)}finally{if(!ABORT){var a=Asyncify.exportCallStack.pop();assert(a===n),Asyncify.maybeStopUnwind()}}}:t[n]=o})(r);return t},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId:function(e){var t=Asyncify.callStackNameToId[e];return t===void 0&&(t=Asyncify.callStackId++,Asyncify.callStackNameToId[e]=t,Asyncify.callStackIdToName[t]=e),t},maybeStopUnwind:function(){Asyncify.currData&&Asyncify.state===Asyncify.State.Unwinding&&Asyncify.exportCallStack.length===0&&(Asyncify.state=Asyncify.State.Normal,runAndAbortIfError(_asyncify_stop_unwind),typeof Fibers<"u"&&Fibers.trampoline())},whenDone:function(){return assert(Asyncify.currData,"Tried to wait for an async operation when none is in progress."),assert(!Asyncify.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((e,t)=>{Asyncify.asyncPromiseHandlers={resolve:e,reject:t}})},allocateData:function(){var e=_malloc(12+Asyncify.StackSize);return Asyncify.setDataHeader(e,e+12,Asyncify.StackSize),Asyncify.setDataRewindFunc(e),e},setDataHeader:function(e,t,r){HEAP32[e>>2]=t,HEAP32[e+4>>2]=t+r},setDataRewindFunc:function(e){var t=Asyncify.exportCallStack[0],r=Asyncify.getCallStackId(t);HEAP32[e+8>>2]=r},getDataRewindFunc:function(e){var t=HEAP32[e+8>>2],r=Asyncify.callStackIdToName[t],n=Module.asm[r];return n},doRewind:function(e){var t=Asyncify.getDataRewindFunc(e);return t()},handleSleep:function(e){if(assert(Asyncify.state!==Asyncify.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!ABORT){if(Asyncify.state===Asyncify.State.Normal){var t=!1,r=!1;e((n=0)=>{if(assert(!n||typeof n=="number"||typeof n=="boolean"),!ABORT&&(Asyncify.handleSleepReturnValue=n,t=!0,!!r)){assert(!Asyncify.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),Asyncify.state=Asyncify.State.Rewinding,runAndAbortIfError(()=>_asyncify_start_rewind(Asyncify.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var o,a=!1;try{o=Asyncify.doRewind(Asyncify.currData)}catch(c){o=c,a=!0}var s=!1;if(!Asyncify.currData){var l=Asyncify.asyncPromiseHandlers;l&&(Asyncify.asyncPromiseHandlers=null,(a?l.reject:l.resolve)(o),s=!0)}if(a&&!s)throw o}}),r=!0,t||(Asyncify.state=Asyncify.State.Unwinding,Asyncify.currData=Asyncify.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),runAndAbortIfError(()=>_asyncify_start_unwind(Asyncify.currData)))}else Asyncify.state===Asyncify.State.Rewinding?(Asyncify.state=Asyncify.State.Normal,runAndAbortIfError(_asyncify_stop_rewind),_free(Asyncify.currData),Asyncify.currData=null,Asyncify.sleepCallbacks.forEach(n=>callUserCallback(n))):abort("invalid state: "+Asyncify.state);return Asyncify.handleSleepReturnValue}},handleAsync:function(e){return Asyncify.handleSleep(t=>{e().then(t)})}};function getCFunc(e){var t=Module["_"+e];return assert(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function writeArrayToMemory(e,t){assert(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),HEAP8.set(e,t)}function stringToUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8(e,r,t),r}function ccall(e,t,r,n,o){var a={string:p=>{var g=0;return p!=null&&p!==0&&(g=stringToUTF8OnStack(p)),g},array:p=>{var g=stackAlloc(p.length);return writeArrayToMemory(p,g),g}};function s(p){return t==="string"?UTF8ToString(p):t==="boolean"?!!p:p}var l=getCFunc(e),c=[],u=0;if(assert(t!=="array",'Return type should not be "array".'),n)for(var f=0;f<n.length;f++){var d=a[r[f]];d?(u===0&&(u=stackSave()),c[f]=d(n[f])):c[f]=n[f]}var m=Asyncify.currData,_=l.apply(null,c);function v(p){return runtimeKeepalivePop(),u!==0&&stackRestore(u),s(p)}runtimeKeepalivePush();var E=o&&o.async;return Asyncify.currData!=m?(assert(!(m&&Asyncify.currData),"We cannot start an async operation when one is already flight"),assert(!(m&&!Asyncify.currData),"We cannot stop an async operation in flight"),assert(E,"The call to "+e+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),Asyncify.whenDone().then(v)):(_=v(_),E?Promise.resolve(_):_)}function cwrap(e,t,r,n){return function(){return ccall(e,t,r,arguments,n)}}var FSNode=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},readMode=365,writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(e){e?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(e){e?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}}),FS.FSNode=FSNode,FS.staticInit(),Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_unlink=FS.unlink,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createDevice=FS.createDevice,ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};for(var GLctx,i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));for(var miniTempWebGLFloatBuffersStorage=new Float32Array(288),i=0;i<288;++i)miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i+1);for(var miniTempWebGLIntBuffersStorage=new Int32Array(288),i=0;i<288;++i)miniTempWebGLIntBuffers[i]=miniTempWebGLIntBuffersStorage.subarray(0,i+1);Module.requestFullscreen=function e(t,r){Browser.requestFullscreen(t,r)},Module.requestFullScreen=function e(){Browser.requestFullScreen()},Module.requestAnimationFrame=function e(t){Browser.requestAnimationFrame(t)},Module.setCanvasSize=function e(t,r,n){Browser.setCanvasSize(t,r,n)},Module.pauseMainLoop=function e(){Browser.mainLoop.pause()},Module.resumeMainLoop=function e(){Browser.mainLoop.resume()},Module.getUserMedia=function e(){Browser.getUserMedia()},Module.createContext=function e(t,r,n,o){return Browser.createContext(t,r,n,o)};function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings")}var wasmImports={__assert_fail:___assert_fail,__cxa_throw:___cxa_throw,__syscall_chdir:___syscall_chdir,__syscall_fcntl64:___syscall_fcntl64,__syscall_getcwd:___syscall_getcwd,__syscall_ioctl:___syscall_ioctl,__syscall_openat:___syscall_openat,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_date_now:_emscripten_date_now,emscripten_get_element_css_size:_emscripten_get_element_css_size,emscripten_get_gamepad_status:_emscripten_get_gamepad_status,emscripten_get_now:_emscripten_get_now,emscripten_get_num_gamepads:_emscripten_get_num_gamepads,emscripten_glActiveTexture:_emscripten_glActiveTexture,emscripten_glAttachShader:_emscripten_glAttachShader,emscripten_glBeginQueryEXT:_emscripten_glBeginQueryEXT,emscripten_glBindAttribLocation:_emscripten_glBindAttribLocation,emscripten_glBindBuffer:_emscripten_glBindBuffer,emscripten_glBindFramebuffer:_emscripten_glBindFramebuffer,emscripten_glBindRenderbuffer:_emscripten_glBindRenderbuffer,emscripten_glBindTexture:_emscripten_glBindTexture,emscripten_glBindVertexArrayOES:_emscripten_glBindVertexArrayOES,emscripten_glBlendColor:_emscripten_glBlendColor,emscripten_glBlendEquation:_emscripten_glBlendEquation,emscripten_glBlendEquationSeparate:_emscripten_glBlendEquationSeparate,emscripten_glBlendFunc:_emscripten_glBlendFunc,emscripten_glBlendFuncSeparate:_emscripten_glBlendFuncSeparate,emscripten_glBufferData:_emscripten_glBufferData,emscripten_glBufferSubData:_emscripten_glBufferSubData,emscripten_glCheckFramebufferStatus:_emscripten_glCheckFramebufferStatus,emscripten_glClear:_emscripten_glClear,emscripten_glClearColor:_emscripten_glClearColor,emscripten_glClearDepthf:_emscripten_glClearDepthf,emscripten_glClearStencil:_emscripten_glClearStencil,emscripten_glColorMask:_emscripten_glColorMask,emscripten_glCompileShader:_emscripten_glCompileShader,emscripten_glCompressedTexImage2D:_emscripten_glCompressedTexImage2D,emscripten_glCompressedTexSubImage2D:_emscripten_glCompressedTexSubImage2D,emscripten_glCopyTexImage2D:_emscripten_glCopyTexImage2D,emscripten_glCopyTexSubImage2D:_emscripten_glCopyTexSubImage2D,emscripten_glCreateProgram:_emscripten_glCreateProgram,emscripten_glCreateShader:_emscripten_glCreateShader,emscripten_glCullFace:_emscripten_glCullFace,emscripten_glDeleteBuffers:_emscripten_glDeleteBuffers,emscripten_glDeleteFramebuffers:_emscripten_glDeleteFramebuffers,emscripten_glDeleteProgram:_emscripten_glDeleteProgram,emscripten_glDeleteQueriesEXT:_emscripten_glDeleteQueriesEXT,emscripten_glDeleteRenderbuffers:_emscripten_glDeleteRenderbuffers,emscripten_glDeleteShader:_emscripten_glDeleteShader,emscripten_glDeleteTextures:_emscripten_glDeleteTextures,emscripten_glDeleteVertexArraysOES:_emscripten_glDeleteVertexArraysOES,emscripten_glDepthFunc:_emscripten_glDepthFunc,emscripten_glDepthMask:_emscripten_glDepthMask,emscripten_glDepthRangef:_emscripten_glDepthRangef,emscripten_glDetachShader:_emscripten_glDetachShader,emscripten_glDisable:_emscripten_glDisable,emscripten_glDisableVertexAttribArray:_emscripten_glDisableVertexAttribArray,emscripten_glDrawArrays:_emscripten_glDrawArrays,emscripten_glDrawArraysInstancedANGLE:_emscripten_glDrawArraysInstancedANGLE,emscripten_glDrawBuffersWEBGL:_emscripten_glDrawBuffersWEBGL,emscripten_glDrawElements:_emscripten_glDrawElements,emscripten_glDrawElementsInstancedANGLE:_emscripten_glDrawElementsInstancedANGLE,emscripten_glEnable:_emscripten_glEnable,emscripten_glEnableVertexAttribArray:_emscripten_glEnableVertexAttribArray,emscripten_glEndQueryEXT:_emscripten_glEndQueryEXT,emscripten_glFinish:_emscripten_glFinish,emscripten_glFlush:_emscripten_glFlush,emscripten_glFramebufferRenderbuffer:_emscripten_glFramebufferRenderbuffer,emscripten_glFramebufferTexture2D:_emscripten_glFramebufferTexture2D,emscripten_glFrontFace:_emscripten_glFrontFace,emscripten_glGenBuffers:_emscripten_glGenBuffers,emscripten_glGenFramebuffers:_emscripten_glGenFramebuffers,emscripten_glGenQueriesEXT:_emscripten_glGenQueriesEXT,emscripten_glGenRenderbuffers:_emscripten_glGenRenderbuffers,emscripten_glGenTextures:_emscripten_glGenTextures,emscripten_glGenVertexArraysOES:_emscripten_glGenVertexArraysOES,emscripten_glGenerateMipmap:_emscripten_glGenerateMipmap,emscripten_glGetActiveAttrib:_emscripten_glGetActiveAttrib,emscripten_glGetActiveUniform:_emscripten_glGetActiveUniform,emscripten_glGetAttachedShaders:_emscripten_glGetAttachedShaders,emscripten_glGetAttribLocation:_emscripten_glGetAttribLocation,emscripten_glGetBooleanv:_emscripten_glGetBooleanv,emscripten_glGetBufferParameteriv:_emscripten_glGetBufferParameteriv,emscripten_glGetError:_emscripten_glGetError,emscripten_glGetFloatv:_emscripten_glGetFloatv,emscripten_glGetFramebufferAttachmentParameteriv:_emscripten_glGetFramebufferAttachmentParameteriv,emscripten_glGetIntegerv:_emscripten_glGetIntegerv,emscripten_glGetProgramInfoLog:_emscripten_glGetProgramInfoLog,emscripten_glGetProgramiv:_emscripten_glGetProgramiv,emscripten_glGetQueryObjecti64vEXT:_emscripten_glGetQueryObjecti64vEXT,emscripten_glGetQueryObjectivEXT:_emscripten_glGetQueryObjectivEXT,emscripten_glGetQueryObjectui64vEXT:_emscripten_glGetQueryObjectui64vEXT,emscripten_glGetQueryObjectuivEXT:_emscripten_glGetQueryObjectuivEXT,emscripten_glGetQueryivEXT:_emscripten_glGetQueryivEXT,emscripten_glGetRenderbufferParameteriv:_emscripten_glGetRenderbufferParameteriv,emscripten_glGetShaderInfoLog:_emscripten_glGetShaderInfoLog,emscripten_glGetShaderPrecisionFormat:_emscripten_glGetShaderPrecisionFormat,emscripten_glGetShaderSource:_emscripten_glGetShaderSource,emscripten_glGetShaderiv:_emscripten_glGetShaderiv,emscripten_glGetString:_emscripten_glGetString,emscripten_glGetTexParameterfv:_emscripten_glGetTexParameterfv,emscripten_glGetTexParameteriv:_emscripten_glGetTexParameteriv,emscripten_glGetUniformLocation:_emscripten_glGetUniformLocation,emscripten_glGetUniformfv:_emscripten_glGetUniformfv,emscripten_glGetUniformiv:_emscripten_glGetUniformiv,emscripten_glGetVertexAttribPointerv:_emscripten_glGetVertexAttribPointerv,emscripten_glGetVertexAttribfv:_emscripten_glGetVertexAttribfv,emscripten_glGetVertexAttribiv:_emscripten_glGetVertexAttribiv,emscripten_glHint:_emscripten_glHint,emscripten_glIsBuffer:_emscripten_glIsBuffer,emscripten_glIsEnabled:_emscripten_glIsEnabled,emscripten_glIsFramebuffer:_emscripten_glIsFramebuffer,emscripten_glIsProgram:_emscripten_glIsProgram,emscripten_glIsQueryEXT:_emscripten_glIsQueryEXT,emscripten_glIsRenderbuffer:_emscripten_glIsRenderbuffer,emscripten_glIsShader:_emscripten_glIsShader,emscripten_glIsTexture:_emscripten_glIsTexture,emscripten_glIsVertexArrayOES:_emscripten_glIsVertexArrayOES,emscripten_glLineWidth:_emscripten_glLineWidth,emscripten_glLinkProgram:_emscripten_glLinkProgram,emscripten_glPixelStorei:_emscripten_glPixelStorei,emscripten_glPolygonOffset:_emscripten_glPolygonOffset,emscripten_glQueryCounterEXT:_emscripten_glQueryCounterEXT,emscripten_glReadPixels:_emscripten_glReadPixels,emscripten_glReleaseShaderCompiler:_emscripten_glReleaseShaderCompiler,emscripten_glRenderbufferStorage:_emscripten_glRenderbufferStorage,emscripten_glSampleCoverage:_emscripten_glSampleCoverage,emscripten_glScissor:_emscripten_glScissor,emscripten_glShaderBinary:_emscripten_glShaderBinary,emscripten_glShaderSource:_emscripten_glShaderSource,emscripten_glStencilFunc:_emscripten_glStencilFunc,emscripten_glStencilFuncSeparate:_emscripten_glStencilFuncSeparate,emscripten_glStencilMask:_emscripten_glStencilMask,emscripten_glStencilMaskSeparate:_emscripten_glStencilMaskSeparate,emscripten_glStencilOp:_emscripten_glStencilOp,emscripten_glStencilOpSeparate:_emscripten_glStencilOpSeparate,emscripten_glTexImage2D:_emscripten_glTexImage2D,emscripten_glTexParameterf:_emscripten_glTexParameterf,emscripten_glTexParameterfv:_emscripten_glTexParameterfv,emscripten_glTexParameteri:_emscripten_glTexParameteri,emscripten_glTexParameteriv:_emscripten_glTexParameteriv,emscripten_glTexSubImage2D:_emscripten_glTexSubImage2D,emscripten_glUniform1f:_emscripten_glUniform1f,emscripten_glUniform1fv:_emscripten_glUniform1fv,emscripten_glUniform1i:_emscripten_glUniform1i,emscripten_glUniform1iv:_emscripten_glUniform1iv,emscripten_glUniform2f:_emscripten_glUniform2f,emscripten_glUniform2fv:_emscripten_glUniform2fv,emscripten_glUniform2i:_emscripten_glUniform2i,emscripten_glUniform2iv:_emscripten_glUniform2iv,emscripten_glUniform3f:_emscripten_glUniform3f,emscripten_glUniform3fv:_emscripten_glUniform3fv,emscripten_glUniform3i:_emscripten_glUniform3i,emscripten_glUniform3iv:_emscripten_glUniform3iv,emscripten_glUniform4f:_emscripten_glUniform4f,emscripten_glUniform4fv:_emscripten_glUniform4fv,emscripten_glUniform4i:_emscripten_glUniform4i,emscripten_glUniform4iv:_emscripten_glUniform4iv,emscripten_glUniformMatrix2fv:_emscripten_glUniformMatrix2fv,emscripten_glUniformMatrix3fv:_emscripten_glUniformMatrix3fv,emscripten_glUniformMatrix4fv:_emscripten_glUniformMatrix4fv,emscripten_glUseProgram:_emscripten_glUseProgram,emscripten_glValidateProgram:_emscripten_glValidateProgram,emscripten_glVertexAttrib1f:_emscripten_glVertexAttrib1f,emscripten_glVertexAttrib1fv:_emscripten_glVertexAttrib1fv,emscripten_glVertexAttrib2f:_emscripten_glVertexAttrib2f,emscripten_glVertexAttrib2fv:_emscripten_glVertexAttrib2fv,emscripten_glVertexAttrib3f:_emscripten_glVertexAttrib3f,emscripten_glVertexAttrib3fv:_emscripten_glVertexAttrib3fv,emscripten_glVertexAttrib4f:_emscripten_glVertexAttrib4f,emscripten_glVertexAttrib4fv:_emscripten_glVertexAttrib4fv,emscripten_glVertexAttribDivisorANGLE:_emscripten_glVertexAttribDivisorANGLE,emscripten_glVertexAttribPointer:_emscripten_glVertexAttribPointer,emscripten_glViewport:_emscripten_glViewport,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,emscripten_run_script:_emscripten_run_script,emscripten_sample_gamepad_data:_emscripten_sample_gamepad_data,emscripten_set_click_callback_on_thread:_emscripten_set_click_callback_on_thread,emscripten_set_fullscreenchange_callback_on_thread:_emscripten_set_fullscreenchange_callback_on_thread,emscripten_set_gamepadconnected_callback_on_thread:_emscripten_set_gamepadconnected_callback_on_thread,emscripten_set_gamepaddisconnected_callback_on_thread:_emscripten_set_gamepaddisconnected_callback_on_thread,emscripten_set_main_loop:_emscripten_set_main_loop,emscripten_set_touchcancel_callback_on_thread:_emscripten_set_touchcancel_callback_on_thread,emscripten_set_touchend_callback_on_thread:_emscripten_set_touchend_callback_on_thread,emscripten_set_touchmove_callback_on_thread:_emscripten_set_touchmove_callback_on_thread,emscripten_set_touchstart_callback_on_thread:_emscripten_set_touchstart_callback_on_thread,exit:_exit,fd_close:_fd_close,fd_read:_fd_read,fd_seek:_fd_seek,fd_write:_fd_write,glActiveTexture:_glActiveTexture,glAttachShader:_glAttachShader,glBindAttribLocation:_glBindAttribLocation,glBindBuffer:_glBindBuffer,glBindTexture:_glBindTexture,glBlendEquation:_glBlendEquation,glBlendEquationSeparate:_glBlendEquationSeparate,glBlendFunc:_glBlendFunc,glBlendFuncSeparate:_glBlendFuncSeparate,glBufferData:_glBufferData,glBufferSubData:_glBufferSubData,glClear:_glClear,glClearColor:_glClearColor,glClearDepthf:_glClearDepthf,glCompileShader:_glCompileShader,glCompressedTexImage2D:_glCompressedTexImage2D,glCreateProgram:_glCreateProgram,glCreateShader:_glCreateShader,glCullFace:_glCullFace,glDeleteBuffers:_glDeleteBuffers,glDeleteProgram:_glDeleteProgram,glDeleteShader:_glDeleteShader,glDeleteTextures:_glDeleteTextures,glDepthFunc:_glDepthFunc,glDetachShader:_glDetachShader,glDisable:_glDisable,glDisableVertexAttribArray:_glDisableVertexAttribArray,glDrawArrays:_glDrawArrays,glDrawElements:_glDrawElements,glEnable:_glEnable,glEnableVertexAttribArray:_glEnableVertexAttribArray,glFrontFace:_glFrontFace,glGenBuffers:_glGenBuffers,glGenTextures:_glGenTextures,glGetAttribLocation:_glGetAttribLocation,glGetFloatv:_glGetFloatv,glGetProgramInfoLog:_glGetProgramInfoLog,glGetProgramiv:_glGetProgramiv,glGetShaderInfoLog:_glGetShaderInfoLog,glGetShaderiv:_glGetShaderiv,glGetString:_glGetString,glGetUniformLocation:_glGetUniformLocation,glLinkProgram:_glLinkProgram,glPixelStorei:_glPixelStorei,glReadPixels:_glReadPixels,glShaderSource:_glShaderSource,glTexImage2D:_glTexImage2D,glTexParameterf:_glTexParameterf,glTexParameteri:_glTexParameteri,glUniform1fv:_glUniform1fv,glUniform1i:_glUniform1i,glUniform1iv:_glUniform1iv,glUniform2fv:_glUniform2fv,glUniform2iv:_glUniform2iv,glUniform3fv:_glUniform3fv,glUniform3iv:_glUniform3iv,glUniform4f:_glUniform4f,glUniform4fv:_glUniform4fv,glUniform4iv:_glUniform4iv,glUniformMatrix4fv:_glUniformMatrix4fv,glUseProgram:_glUseProgram,glVertexAttrib1fv:_glVertexAttrib1fv,glVertexAttrib2fv:_glVertexAttrib2fv,glVertexAttrib3fv:_glVertexAttrib3fv,glVertexAttrib4fv:_glVertexAttrib4fv,glVertexAttribPointer:_glVertexAttribPointer,glViewport:_glViewport,glfwCreateWindow:_glfwCreateWindow,glfwDefaultWindowHints:_glfwDefaultWindowHints,glfwDestroyWindow:_glfwDestroyWindow,glfwGetPrimaryMonitor:_glfwGetPrimaryMonitor,glfwGetTime:_glfwGetTime,glfwGetVideoModes:_glfwGetVideoModes,glfwInit:_glfwInit,glfwMakeContextCurrent:_glfwMakeContextCurrent,glfwSetCharCallback:_glfwSetCharCallback,glfwSetCursorEnterCallback:_glfwSetCursorEnterCallback,glfwSetCursorPosCallback:_glfwSetCursorPosCallback,glfwSetDropCallback:_glfwSetDropCallback,glfwSetErrorCallback:_glfwSetErrorCallback,glfwSetKeyCallback:_glfwSetKeyCallback,glfwSetMouseButtonCallback:_glfwSetMouseButtonCallback,glfwSetScrollCallback:_glfwSetScrollCallback,glfwSetWindowFocusCallback:_glfwSetWindowFocusCallback,glfwSetWindowIconifyCallback:_glfwSetWindowIconifyCallback,glfwSetWindowShouldClose:_glfwSetWindowShouldClose,glfwSetWindowSize:_glfwSetWindowSize,glfwSetWindowSizeCallback:_glfwSetWindowSizeCallback,glfwSwapBuffers:_glfwSwapBuffers,glfwSwapInterval:_glfwSwapInterval,glfwTerminate:_glfwTerminate,glfwWindowHint:_glfwWindowHint};Asyncify.instrumentWasmImports(wasmImports),createWasm(),Module._onResize=createExportWrapper("onResize"),Module._onActivate=createExportWrapper("onActivate"),Module._onDeactivate=createExportWrapper("onDeactivate");var _main=Module._main=createExportWrapper("main"),_malloc=Module._malloc=createExportWrapper("malloc"),_free=Module._free=createExportWrapper("free"),_fflush=Module._fflush=createExportWrapper("fflush"),___errno_location=createExportWrapper("__errno_location"),_emscripten_stack_init=function(){return(_emscripten_stack_init=Module.asm.emscripten_stack_init).apply(null,arguments)},_emscripten_stack_get_end=function(){return(_emscripten_stack_get_end=Module.asm.emscripten_stack_get_end).apply(null,arguments)},stackSave=createExportWrapper("stackSave"),stackRestore=createExportWrapper("stackRestore"),stackAlloc=createExportWrapper("stackAlloc"),_emscripten_stack_get_current=function(){return(_emscripten_stack_get_current=Module.asm.emscripten_stack_get_current).apply(null,arguments)},___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type"),dynCall_v=Module.dynCall_v=createExportWrapper("dynCall_v");Module.dynCall_ii=createExportWrapper("dynCall_ii");var dynCall_vi=Module.dynCall_vi=createExportWrapper("dynCall_vi"),dynCall_vii=Module.dynCall_vii=createExportWrapper("dynCall_vii"),dynCall_viii=Module.dynCall_viii=createExportWrapper("dynCall_viii"),dynCall_viiiii=Module.dynCall_viiiii=createExportWrapper("dynCall_viiiii"),dynCall_viiii=Module.dynCall_viiii=createExportWrapper("dynCall_viiii"),dynCall_vidd=Module.dynCall_vidd=createExportWrapper("dynCall_vidd"),dynCall_iiii=Module.dynCall_iiii=createExportWrapper("dynCall_iiii");Module.dynCall_iii=createExportWrapper("dynCall_iii"),Module.dynCall_iiiiii=createExportWrapper("dynCall_iiiiii"),Module.dynCall_vffff=createExportWrapper("dynCall_vffff"),Module.dynCall_vf=createExportWrapper("dynCall_vf"),Module.dynCall_viiiiiiii=createExportWrapper("dynCall_viiiiiiii"),Module.dynCall_viiiiiiiii=createExportWrapper("dynCall_viiiiiiiii"),Module.dynCall_i=createExportWrapper("dynCall_i"),Module.dynCall_vff=createExportWrapper("dynCall_vff"),Module.dynCall_viiiiiii=createExportWrapper("dynCall_viiiiiii"),Module.dynCall_vfi=createExportWrapper("dynCall_vfi"),Module.dynCall_viif=createExportWrapper("dynCall_viif"),Module.dynCall_vif=createExportWrapper("dynCall_vif");var dynCall_viff=Module.dynCall_viff=createExportWrapper("dynCall_viff");Module.dynCall_vifff=createExportWrapper("dynCall_vifff"),Module.dynCall_viffff=createExportWrapper("dynCall_viffff"),Module.dynCall_viiiiii=createExportWrapper("dynCall_viiiiii"),Module.dynCall_jiji=createExportWrapper("dynCall_jiji"),Module.dynCall_iidiiii=createExportWrapper("dynCall_iidiiii");var _asyncify_start_unwind=createExportWrapper("asyncify_start_unwind"),_asyncify_stop_unwind=createExportWrapper("asyncify_stop_unwind"),_asyncify_start_rewind=createExportWrapper("asyncify_start_rewind"),_asyncify_stop_rewind=createExportWrapper("asyncify_stop_rewind");Module.___start_em_js=40128,Module.___stop_em_js=40203,Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,Module.ccall=ccall,Module.cwrap=cwrap;var missingLibrarySymbols=["isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","traverseStack","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","getWasmTableEntry","asmjsMangle","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","convertI32PairToI53","convertU32PairToI53","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","getSocketFromFD","getSocketAddress","registerKeyEventCallback","findCanvasEventTarget","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","makePromiseCallback","exception_addRef","exception_decRef","_setNetworkCallback","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","FS_createFolder","FS_createLink","out","err","callMain","abort","keepRuntimeAlive","wasmMemory","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","ptrToString","zeroMemory","exitJS","getHeapMax","emscripten_realloc_buffer","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","setErrNo","DNS","Protocols","Sockets","initRandomFill","randomFill","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_q","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asyncLoad","alignMemory","mmapAlloc","writeI53ToI64","readI53FromI64","readI53FromU64","convertI32PairToI53Checked","getCFunc","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","UTF16Decoder","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","SYSCALLS","JSEvents","specialHTMLTargets","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","currentFullscreenStrategy","restoreOldWindowedStyle","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","demangle","demangleAll","ExitStatus","doReadv","doWritev","dlopenMissingError","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","setMainLoop","wget","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","GL","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","GLFW_Window","GLFW","allocateUTF8","allocateUTF8OnStack"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)};function callMain(){assert(runDependencies==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),assert(__ATPRERUN__.length==0,"cannot call main when preRun functions remain to be called");var e=_main,t=0,r=0;try{var n=e(t,r);return exitJS(n,!0),n}catch(o){return handleException(o)}}function stackCheckInit(){_emscripten_stack_init(),writeStackCookie()}function run(){if(runDependencies>0||(stackCheckInit(),preRun(),runDependencies>0))return;function e(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),readyPromiseResolve(Module),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e(),checkStackCookie()}function checkUnflushedContent(){var e=out,t=err,r=!1;out=err=n=>{r=!0};try{_fflush(0),["stdout","stderr"].forEach(function(n){var o=FS.analyzePath("/dev/"+n);if(o){var a=o.object,s=a.rdev,l=TTY.ttys[s];l&&l.output&&l.output.length&&(r=!0)}})}catch{}out=e,err=t,r&&warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;return Module.noInitialRun&&(shouldRunNow=!1),run(),PtackModule.ready}})();function makeMap(e,t){const r=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return t?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const EMPTY_OBJ={},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hasChanged=(e,t)=>e!==t&&(e===e||t===t),targetMap=new WeakMap,effectStack=[];let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function isEffect(e){return e&&e._isEffect===!0}function effect$1(e,t=EMPTY_OBJ){isEffect(e)&&(e=e.raw);const r=createReactiveEffect(e,t);return t.lazy||r(),r}function stop(e){e.active&&(cleanup(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let uid=0;function createReactiveEffect(e,t){const r=function(){if(!r.active)return e();if(!effectStack.includes(r)){cleanup(r);try{return enableTracking(),effectStack.push(r),activeEffect=r,e()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return r.id=uid++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}function cleanup(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(!shouldTrack||activeEffect===void 0)return;let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=new Set),o.has(activeEffect)||(o.add(activeEffect),activeEffect.deps.push(o))}function trigger(e,t,r,n,o,a){const s=targetMap.get(e);if(!s)return;const l=new Set,c=f=>{f&&f.forEach(d=>{(d!==activeEffect||d.allowRecurse)&&l.add(d)})};if(t==="clear")s.forEach(c);else if(r==="length"&&isArray(e))s.forEach((f,d)=>{(d==="length"||d>=n)&&c(f)});else switch(r!==void 0&&c(s.get(r)),t){case"add":isArray(e)?isIntegerKey(r)&&c(s.get("length")):(c(s.get(ITERATE_KEY)),isMap(e)&&c(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(c(s.get(ITERATE_KEY)),isMap(e)&&c(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&c(s.get(ITERATE_KEY));break}const u=f=>{f.options.scheduler?f.options.scheduler(f):f()};l.forEach(u)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=toRaw(this);for(let a=0,s=this.length;a<s;a++)track(n,"get",a+"");const o=n[t](...r);return o===-1||o===!1?n[t](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const n=toRaw(this)[t].apply(this,r);return resetTracking(),n}}),e}function createGetter(e=!1,t=!1){return function(n,o,a){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_raw"&&a===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(n))return n;const s=isArray(n);if(!e&&s&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,a);const l=Reflect.get(n,o,a);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(n,"get",o),t)?l:isRef(l)?!s||!isIntegerKey(o)?l.value:l:isObject(l)?e?readonly(l):reactive$1(l):l}}const set$1=createSetter();function createSetter(e=!1){return function(r,n,o,a){let s=r[n];if(!e&&(o=toRaw(o),s=toRaw(s),!isArray(r)&&isRef(s)&&!isRef(o)))return s.value=o,!0;const l=isArray(r)&&isIntegerKey(n)?Number(n)<r.length:hasOwn(r,n),c=Reflect.set(r,n,o,a);return r===toRaw(a)&&(l?hasChanged(o,s)&&trigger(r,"set",n,o):trigger(r,"add",n,o)),c}}function deleteProperty(e,t){const r=hasOwn(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&trigger(e,"delete",t,void 0),n}function has(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},toReactive=e=>isObject(e)?reactive$1(e):e,toReadonly=e=>isObject(e)?readonly(e):e,toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1$1(e,t,r=!1,n=!1){e=e.__v_raw;const o=toRaw(e),a=toRaw(t);t!==a&&!r&&track(o,"get",t),!r&&track(o,"get",a);const{has:s}=getProto(o),l=n?toShallow:r?toReadonly:toReactive;if(s.call(o,t))return l(e.get(t));if(s.call(o,a))return l(e.get(a));e!==o&&e.get(t)}function has$1(e,t=!1){const r=this.__v_raw,n=toRaw(r),o=toRaw(e);return e!==o&&!t&&track(n,"has",e),!t&&track(n,"has",o),e===o?r.has(e):r.has(e)||r.has(o)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1$1(e,t){t=toRaw(t);const r=toRaw(this),{has:n,get:o}=getProto(r);let a=n.call(r,e);a||(e=toRaw(e),a=n.call(r,e));const s=o.call(r,e);return r.set(e,t),a?hasChanged(t,s)&&trigger(r,"set",e,t):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:n}=getProto(t);let o=r.call(t,e);o||(e=toRaw(e),o=r.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return o&&trigger(t,"delete",e,void 0),a}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(n,o){const a=this,s=a.__v_raw,l=toRaw(s),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),s.forEach((u,f)=>n.call(o,c(u),c(f),a))}}function createIterableMethod(e,t,r){return function(...n){const o=this.__v_raw,a=toRaw(o),s=isMap(a),l=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,u=o[e](...n),f=r?toShallow:t?toReadonly:toReactive;return!t&&track(a,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:l?[f(d[0]),f(d[1])]:f(d),done:m}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(a){return get$1$1(this,a)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(a){return get$1$1(this,a,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(a){return get$1$1(this,a,!0)},get size(){return size(this,!0)},has(a){return has$1.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(a){return get$1$1(this,a,!0,!0)},get size(){return size(this,!0)},has(a){return has$1.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=createIterableMethod(a,!1,!1),r[a]=createIterableMethod(a,!0,!1),t[a]=createIterableMethod(a,!1,!0),n[a]=createIterableMethod(a,!0,!0)}),[e,r,t,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(n,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(hasOwn(r,o)&&o in n?r:n,o,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive$1(e){return e&&e.__v_isReadonly?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,n,o){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const s=getTargetType(e);if(s===0)return e;const l=new Proxy(e,s===2?n:r);return o.set(e,l),l}function toRaw(e){return e&&toRaw(e.__v_raw)||e}function isRef(e){return!!(e&&e.__v_isRef===!0)}var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(e){queueJob(e)}function queueJob(e){queue.includes(e)||queue.push(e),queueFlush()}function dequeueJob(e){let t=queue.indexOf(e);t!==-1&&t>lastFlushedIndex&&queue.splice(t,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let e=0;e<queue.length;e++)queue[e](),lastFlushedIndex=e;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release,raw,shouldSchedule=!0;function disableEffectScheduling(e){shouldSchedule=!1,e(),shouldSchedule=!0}function setReactivityEngine(e){reactive=e.reactive,release=e.release,effect=t=>e.effect(t,{scheduler:r=>{shouldSchedule?scheduler(r):r()}}),raw=e.raw}function overrideEffect(e){effect=e}function elementBoundEffect(e){let t=()=>{};return[n=>{let o=effect(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(a=>a())}),e._x_effects.add(o),t=()=>{o!==void 0&&(e._x_effects.delete(o),release(o))},o},()=>{t()}]}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(e){onElAddeds.push(e)}function onElRemoved(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,onElRemoveds.push(t))}function onAttributesAdded(e){onAttributeAddeds.push(e)}function onAttributeRemoved(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}function cleanupAttributes(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([r,n])=>{(t===void 0||t.includes(r))&&(n.forEach(o=>o()),delete e._x_attributeCleanups[r])})}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){recordQueue=recordQueue.concat(observer.takeRecords()),recordQueue.length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask(()=>{processRecordQueue(),willProcessRecordQueue=!1}))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(e){if(!currentlyObserving)return e();stopObservingMutations();let t=e();return startObservingMutations(),t}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(e){if(isCollecting){deferredMutations=deferredMutations.concat(e);return}let t=[],r=[],n=new Map,o=new Map;for(let a=0;a<e.length;a++)if(!e[a].target._x_ignoreMutationObserver&&(e[a].type==="childList"&&(e[a].addedNodes.forEach(s=>s.nodeType===1&&t.push(s)),e[a].removedNodes.forEach(s=>s.nodeType===1&&r.push(s))),e[a].type==="attributes")){let s=e[a].target,l=e[a].attributeName,c=e[a].oldValue,u=()=>{n.has(s)||n.set(s,[]),n.get(s).push({name:l,value:s.getAttribute(l)})},f=()=>{o.has(s)||o.set(s,[]),o.get(s).push(l)};s.hasAttribute(l)&&c===null?u():s.hasAttribute(l)?(f(),u()):f()}o.forEach((a,s)=>{cleanupAttributes(s,a)}),n.forEach((a,s)=>{onAttributeAddeds.forEach(l=>l(s,a))});for(let a of r)if(!t.includes(a)&&(onElRemoveds.forEach(s=>s(a)),a._x_cleanups))for(;a._x_cleanups.length;)a._x_cleanups.pop()();t.forEach(a=>{a._x_ignoreSelf=!0,a._x_ignore=!0});for(let a of t)r.includes(a)||a.isConnected&&(delete a._x_ignoreSelf,delete a._x_ignore,onElAddeds.forEach(s=>s(a)),a._x_ignore=!0,a._x_ignoreSelf=!0);t.forEach(a=>{delete a._x_ignoreSelf,delete a._x_ignore}),t=null,r=null,n=null,o=null}function scope(e){return mergeProxies(closestDataStack(e))}function addScopeToNode(e,t,r){return e._x_dataStack=[t,...closestDataStack(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter(n=>n!==t)}}function closestDataStack(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?closestDataStack(e.host):e.parentNode?closestDataStack(e.parentNode):[]}function mergeProxies(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(r=>Object.keys(r)))),has:(r,n)=>e.some(o=>o.hasOwnProperty(n)),get:(r,n)=>(e.find(o=>{if(o.hasOwnProperty(n)){let a=Object.getOwnPropertyDescriptor(o,n);if(a.get&&a.get._x_alreadyBound||a.set&&a.set._x_alreadyBound)return!0;if((a.get||a.set)&&a.enumerable){let s=a.get,l=a.set,c=a;s=s&&s.bind(t),l=l&&l.bind(t),s&&(s._x_alreadyBound=!0),l&&(l._x_alreadyBound=!0),Object.defineProperty(o,n,{...c,get:s,set:l})}return!0}return!1})||{})[n],set:(r,n,o)=>{let a=e.find(s=>s.hasOwnProperty(n));return a?a[n]=o:e[e.length-1][n]=o,!0}});return t}function initInterceptors(e){let t=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,r=(n,o="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,{value:s,enumerable:l}])=>{if(l===!1||s===void 0)return;let c=o===""?a:`${o}.${a}`;typeof s=="object"&&s!==null&&s._x_interceptor?n[a]=s.initialize(e,c,a):t(s)&&s!==n&&!(s instanceof Element)&&r(s,c)})};return r(e)}function interceptor(e,t=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(n,o,a){return e(this.initialValue,()=>get(n,o),s=>set(n,o,s),o,a)}};return t(r),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let o=r.initialize.bind(r);r.initialize=(a,s,l)=>{let c=n.initialize(a,s,l);return r.initialValue=c,o(a,s,l)}}else r.initialValue=n;return r}}function get(e,t){return t.split(".").reduce((r,n)=>r[n],e)}function set(e,t,r){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=r;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),set(e[t[0]],t.slice(1),r)}}var magics={};function magic(e,t){magics[e]=t}function injectMagics(e,t){return Object.entries(magics).forEach(([r,n])=>{let o=null;function a(){if(o)return o;{let[s,l]=getElementBoundUtilities(t);return o={interceptor,...s},onElRemoved(t,l),o}}Object.defineProperty(e,`$${r}`,{get(){return n(t,a())},enumerable:!1})}),e}function tryCatch(e,t,r,...n){try{return r(...n)}catch(o){handleError(o,e,t)}}function handleError(e,t,r=void 0){Object.assign(e,{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}

${r?'Expression: "'+r+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(e){let t=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1,e(),shouldAutoEvaluateFunctions=t}function evaluate(e,t,r={}){let n;return evaluateLater(e,t)(o=>n=o,r),n}function evaluateLater(...e){return theEvaluatorFunction(...e)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(e){theEvaluatorFunction=e}function normalEvaluator(e,t){let r={};injectMagics(r,e);let n=[r,...closestDataStack(e)],o=typeof t=="function"?generateEvaluatorFromFunction(n,t):generateEvaluatorFromString(n,t,e);return tryCatch.bind(null,e,t,o)}function generateEvaluatorFromFunction(e,t){return(r=()=>{},{scope:n={},params:o=[]}={})=>{let a=t.apply(mergeProxies([n,...e]),o);runIfTypeOfFunction(r,a)}}var evaluatorMemo={};function generateFunctionFromString(e,t){if(evaluatorMemo[e])return evaluatorMemo[e];let r=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(async()=>{ ${e} })()`:e,a=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(s){return handleError(s,t,e),Promise.resolve()}})();return evaluatorMemo[e]=a,a}function generateEvaluatorFromString(e,t,r){let n=generateFunctionFromString(t,r);return(o=()=>{},{scope:a={},params:s=[]}={})=>{n.result=void 0,n.finished=!1;let l=mergeProxies([a,...e]);if(typeof n=="function"){let c=n(n,l).catch(u=>handleError(u,r,t));n.finished?(runIfTypeOfFunction(o,n.result,l,s,r),n.result=void 0):c.then(u=>{runIfTypeOfFunction(o,u,l,s,r)}).catch(u=>handleError(u,r,t)).finally(()=>n.result=void 0)}}}function runIfTypeOfFunction(e,t,r,n,o){if(shouldAutoEvaluateFunctions&&typeof t=="function"){let a=t.apply(r,n);a instanceof Promise?a.then(s=>runIfTypeOfFunction(e,s,r,n)).catch(s=>handleError(s,o,t)):e(a)}else typeof t=="object"&&t instanceof Promise?t.then(a=>e(a)):e(t)}var prefixAsString="x-";function prefix(e=""){return prefixAsString+e}function setPrefix(e){prefixAsString=e}var directiveHandlers={};function directive(e,t){return directiveHandlers[e]=t,{before(r){if(!directiveHandlers[r]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const n=directiveOrder.indexOf(r);directiveOrder.splice(n>=0?n:directiveOrder.indexOf("DEFAULT"),0,e)}}}function directives(e,t,r){if(t=Array.from(t),e._x_virtualDirectives){let a=Object.entries(e._x_virtualDirectives).map(([l,c])=>({name:l,value:c})),s=attributesOnly(a);a=a.map(l=>s.find(c=>c.name===l.name)?{name:`x-bind:${l.name}`,value:`"${l.value}"`}:l),t=t.concat(a)}let n={};return t.map(toTransformedAttributes((a,s)=>n[a]=s)).filter(outNonAlpineAttributes).map(toParsedDirectives(n,r)).sort(byPriority).map(a=>getDirectiveHandler(e,a))}function attributesOnly(e){return Array.from(e).map(toTransformedAttributes()).filter(t=>!outNonAlpineAttributes(t))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(e){isDeferringHandlers=!0;let t=Symbol();currentHandlerStackKey=t,directiveHandlerStacks.set(t,[]);let r=()=>{for(;directiveHandlerStacks.get(t).length;)directiveHandlerStacks.get(t).shift()();directiveHandlerStacks.delete(t)},n=()=>{isDeferringHandlers=!1,r()};e(r),n()}function getElementBoundUtilities(e){let t=[],r=l=>t.push(l),[n,o]=elementBoundEffect(e);return t.push(o),[{Alpine:alpine_default,effect:n,cleanup:r,evaluateLater:evaluateLater.bind(evaluateLater,e),evaluate:evaluate.bind(evaluate,e)},()=>t.forEach(l=>l())]}function getDirectiveHandler(e,t){let r=()=>{},n=directiveHandlers[t.type]||r,[o,a]=getElementBoundUtilities(e);onAttributeRemoved(e,t.original,a);let s=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,o),n=n.bind(n,e,t,o),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(n):n())};return s.runCleanups=a,s}var startingWith=(e,t)=>({name:r,value:n})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:n}),into=e=>e;function toTransformedAttributes(e=()=>{}){return({name:t,value:r})=>{let{name:n,value:o}=attributeTransformers.reduce((a,s)=>s(a),{name:t,value:r});return n!==t&&e(n,t),{name:n,value:o}}}var attributeTransformers=[];function mapAttributes(e){attributeTransformers.push(e)}function outNonAlpineAttributes({name:e}){return alpineAttributeRegex().test(e)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(e,t){return({name:r,value:n})=>{let o=r.match(alpineAttributeRegex()),a=r.match(/:([a-zA-Z0-9\-:]+)/),s=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],l=t||e[r]||r;return{type:o?o[1]:null,value:a?a[1]:null,modifiers:s.map(c=>c.replace(".","")),expression:n,original:l}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(e,t){let r=directiveOrder.indexOf(e.type)===-1?DEFAULT:e.type,n=directiveOrder.indexOf(t.type)===-1?DEFAULT:t.type;return directiveOrder.indexOf(r)-directiveOrder.indexOf(n)}function dispatch(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function walk(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(o=>walk(o,t));return}let r=!1;if(t(e,()=>r=!0),r)return;let n=e.firstElementChild;for(;n;)walk(n,t),n=n.nextElementSibling}function warn(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var started=!1;function start(){started&&warn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(t=>initTree(t,walk)),onElRemoved(t=>destroyTree(t)),onAttributesAdded((t,r)=>{directives(t,r).forEach(n=>n())});let e=t=>!closestRoot(t.parentElement,!0);Array.from(document.querySelectorAll(allSelectors())).filter(e).forEach(t=>{initTree(t)}),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(e=>e())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(e=>e())}function addRootSelector(e){rootSelectorCallbacks.push(e)}function addInitSelector(e){initSelectorCallbacks.push(e)}function closestRoot(e,t=!1){return findClosest(e,r=>{if((t?allSelectors():rootSelectors()).some(o=>r.matches(o)))return!0})}function findClosest(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return findClosest(e.parentElement,t)}}function isRoot(e){return rootSelectors().some(t=>e.matches(t))}var initInterceptors2=[];function interceptInit(e){initInterceptors2.push(e)}function initTree(e,t=walk,r=()=>{}){deferHandlingDirectives(()=>{t(e,(n,o)=>{r(n,o),initInterceptors2.forEach(a=>a(n,o)),directives(n,n.attributes).forEach(a=>a()),n._x_ignore&&o()})})}function destroyTree(e){walk(e,t=>cleanupAttributes(t))}var tickStack=[],isHolding=!1;function nextTick(e=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(t=>{tickStack.push(()=>{e(),t()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(e,t){return Array.isArray(t)?setClassesFromString(e,t.join(" ")):typeof t=="object"&&t!==null?setClassesFromObject(e,t):typeof t=="function"?setClasses(e,t()):setClassesFromString(e,t)}function setClassesFromString(e,t){let r=o=>o.split(" ").filter(a=>!e.classList.contains(a)).filter(Boolean),n=o=>(e.classList.add(...o),()=>{e.classList.remove(...o)});return t=t===!0?t="":t||"",n(r(t))}function setClassesFromObject(e,t){let r=l=>l.split(" ").filter(Boolean),n=Object.entries(t).flatMap(([l,c])=>c?r(l):!1).filter(Boolean),o=Object.entries(t).flatMap(([l,c])=>c?!1:r(l)).filter(Boolean),a=[],s=[];return o.forEach(l=>{e.classList.contains(l)&&(e.classList.remove(l),s.push(l))}),n.forEach(l=>{e.classList.contains(l)||(e.classList.add(l),a.push(l))}),()=>{s.forEach(l=>e.classList.add(l)),a.forEach(l=>e.classList.remove(l))}}function setStyles(e,t){return typeof t=="object"&&t!==null?setStylesFromObject(e,t):setStylesFromString(e,t)}function setStylesFromObject(e,t){let r={};return Object.entries(t).forEach(([n,o])=>{r[n]=e.style[n],n.startsWith("--")||(n=kebabCase(n)),e.style.setProperty(n,o)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{setStyles(e,r)}}function setStylesFromString(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}function kebabCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(e,t=()=>{}){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}directive("transition",(e,{value:t,modifiers:r,expression:n},{evaluate:o})=>{typeof n=="function"&&(n=o(n)),n!==!1&&(!n||typeof n=="boolean"?registerTransitionsFromHelper(e,r,t):registerTransitionsFromClassString(e,n,t))});function registerTransitionsFromClassString(e,t,r){registerTransitionObject(e,setClasses,""),{enter:o=>{e._x_transition.enter.during=o},"enter-start":o=>{e._x_transition.enter.start=o},"enter-end":o=>{e._x_transition.enter.end=o},leave:o=>{e._x_transition.leave.during=o},"leave-start":o=>{e._x_transition.leave.start=o},"leave-end":o=>{e._x_transition.leave.end=o}}[r](t)}function registerTransitionsFromHelper(e,t,r){registerTransitionObject(e,setStyles);let n=!t.includes("in")&&!t.includes("out")&&!r,o=n||t.includes("in")||["enter"].includes(r),a=n||t.includes("out")||["leave"].includes(r);t.includes("in")&&!n&&(t=t.filter((g,h)=>h<t.indexOf("out"))),t.includes("out")&&!n&&(t=t.filter((g,h)=>h>t.indexOf("out")));let s=!t.includes("opacity")&&!t.includes("scale"),l=s||t.includes("opacity"),c=s||t.includes("scale"),u=l?0:1,f=c?modifierValue(t,"scale",95)/100:1,d=modifierValue(t,"delay",0)/1e3,m=modifierValue(t,"origin","center"),_="opacity, transform",v=modifierValue(t,"duration",150)/1e3,E=modifierValue(t,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:m,transitionDelay:`${d}s`,transitionProperty:_,transitionDuration:`${v}s`,transitionTimingFunction:p},e._x_transition.enter.start={opacity:u,transform:`scale(${f})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),a&&(e._x_transition.leave.during={transformOrigin:m,transitionDelay:`${d}s`,transitionProperty:_,transitionDuration:`${E}s`,transitionTimingFunction:p},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${f})`})}function registerTransitionObject(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(n=()=>{},o=()=>{}){transition(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,o)},out(n=()=>{},o=()=>{}){transition(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,o)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,n){const o=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let a=()=>o(r);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):a():e._x_transition?e._x_transition.in(r):a();return}e._x_hidePromise=e._x_transition?new Promise((s,l)=>{e._x_transition.out(()=>{},()=>s(n)),e._x_transitioning.beforeCancel(()=>l({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let s=closestHide(e);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(e)):o(()=>{let l=c=>{let u=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(l)]).then(([f])=>f());return delete c._x_hidePromise,delete c._x_hideChildren,u};l(e).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function closestHide(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:closestHide(t)}function transition(e,t,{during:r,start:n,end:o}={},a=()=>{},s=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(n).length===0&&Object.keys(o).length===0){a(),s();return}let l,c,u;performTransition(e,{start(){l=t(e,n)},during(){c=t(e,r)},before:a,end(){l(),u=t(e,o)},after:s,cleanup(){c(),u()}})}function performTransition(e,t){let r,n,o,a=once(()=>{mutateDom(()=>{r=!0,n||t.before(),o||(t.end(),releaseNextTicks()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();a()}),finish:a},mutateDom(()=>{t.start(),t.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(r)return;let s=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,l=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),mutateDom(()=>{t.before()}),n=!0,requestAnimationFrame(()=>{r||(mutateDom(()=>{t.end()}),releaseNextTicks(),setTimeout(e._x_transitioning.finish,s+l),o=!0)})})}function modifierValue(e,t,r){if(e.indexOf(t)===-1)return r;const n=e[e.indexOf(t)+1];if(!n||t==="scale"&&isNaN(n))return r;if(t==="duration"||t==="delay"){let o=n.match(/([0-9]+)ms/);if(o)return o[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[n,e[e.indexOf(t)+2]].join(" "):n}var isCloning=!1;function skipDuringClone(e,t=()=>{}){return(...r)=>isCloning?t(...r):e(...r)}function onlyDuringClone(e){return(...t)=>isCloning&&e(...t)}function clone(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),isCloning=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(t)}),isCloning=!1}function cloneTree(e){let t=!1;initTree(e,(n,o)=>{walk(n,(a,s)=>{if(t&&isRoot(a))return s();t=!0,o(a,s)})})}function dontRegisterReactiveSideEffects(e){let t=effect;overrideEffect((r,n)=>{let o=t(r);return release(o),()=>{}}),e(),overrideEffect(t)}function bind(e,t,r,n=[]){switch(e._x_bindings||(e._x_bindings=reactive({})),e._x_bindings[t]=r,t=n.includes("camel")?camelCase(t):t,t){case"value":bindInputValue(e,r);break;case"style":bindStyles(e,r);break;case"class":bindClasses(e,r);break;case"selected":case"checked":bindAttributeAndProperty(e,t,r);break;default:bindAttribute(e,t,r);break}}function bindInputValue(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(e.checked=checkedAttrLooseCompare(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(r=>checkedAttrLooseCompare(r,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")updateSelect(e,t);else{if(e.value===t)return;e.value=t}}function bindClasses(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=setClasses(e,t)}function bindStyles(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=setStyles(e,t)}function bindAttributeAndProperty(e,t,r){bindAttribute(e,t,r),setPropertyIfChanged(e,t,r)}function bindAttribute(e,t,r){[null,void 0,!1].includes(r)&&attributeShouldntBePreservedIfFalsy(t)?e.removeAttribute(t):(isBooleanAttr(t)&&(r=t),setIfChanged(e,t,r))}function setIfChanged(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}function setPropertyIfChanged(e,t,r){e[t]!==r&&(e[t]=r)}function updateSelect(e,t){const r=[].concat(t).map(n=>n+"");Array.from(e.options).forEach(n=>{n.selected=r.includes(n.value)})}function camelCase(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function checkedAttrLooseCompare(e,t){return e==t}function isBooleanAttr(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function attributeShouldntBePreservedIfFalsy(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function getBinding(e,t,r){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];let n=e.getAttribute(t);return n===null?typeof r=="function"?r():r:n===""?!0:isBooleanAttr(t)?!![t,"true"].includes(n):n}function debounce(e,t){var r;return function(){var n=this,o=arguments,a=function(){r=null,e.apply(n,o)};clearTimeout(r),r=setTimeout(a,t)}}function throttle(e,t){let r;return function(){let n=this,o=arguments;r||(e.apply(n,o),r=!0,setTimeout(()=>r=!1,t))}}function plugin(e){(Array.isArray(e)?e:[e]).forEach(r=>r(alpine_default))}var stores={},isReactive=!1;function store(e,t){if(isReactive||(stores=reactive(stores),isReactive=!0),t===void 0)return stores[e];stores[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&stores[e].init(),initInterceptors(stores[e])}function getStores(){return stores}var binds={};function bind2(e,t){let r=typeof t!="function"?()=>t:t;e instanceof Element?applyBindingsObject(e,r()):binds[e]=r}function injectBindingProviders(e){return Object.entries(binds).forEach(([t,r])=>{Object.defineProperty(e,t,{get(){return(...n)=>r(...n)}})}),e}function applyBindingsObject(e,t,r){let n=[];for(;n.length;)n.pop()();let o=Object.entries(t).map(([s,l])=>({name:s,value:l})),a=attributesOnly(o);o=o.map(s=>a.find(l=>l.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),directives(e,o,r).map(s=>{n.push(s.runCleanups),s()})}var datas={};function data(e,t){datas[e]=t}function injectDataProviders(e,t){return Object.entries(datas).forEach(([r,n])=>{Object.defineProperty(e,r,{get(){return(...o)=>n.bind(t)(...o)},enumerable:!1})}),e}var Alpine={get reactive(){return reactive},get release(){return release},get effect(){return effect},get raw(){return raw},version:"3.12.1",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,findClosest,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,throttle,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start,clone,bound:getBinding,$data:scope,walk,data,bind:bind2},alpine_default=Alpine;magic("nextTick",()=>nextTick);magic("dispatch",e=>dispatch.bind(dispatch,e));magic("watch",(e,{evaluateLater:t,effect:r})=>(n,o)=>{let a=t(n),s=!0,l,c=r(()=>a(u=>{JSON.stringify(u),s?l=u:queueMicrotask(()=>{o(u,l),l=u}),s=!1}));e._x_effects.delete(c)});magic("store",getStores);magic("data",e=>scope(e));magic("root",e=>closestRoot(e));magic("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=mergeProxies(getArrayOfRefObject(e))),e._x_refs_proxy));function getArrayOfRefObject(e){let t=[],r=e;for(;r;)r._x_refs&&t.push(r._x_refs),r=r.parentNode;return t}var globalIdMemo={};function findAndIncrementId(e){return globalIdMemo[e]||(globalIdMemo[e]=0),++globalIdMemo[e]}function closestIdRoot(e,t){return findClosest(e,r=>{if(r._x_ids&&r._x_ids[t])return!0})}function setIdRoot(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=findAndIncrementId(t))}magic("id",e=>(t,r=null)=>{let n=closestIdRoot(e,t),o=n?n._x_ids[t]:findAndIncrementId(t);return r?`${t}-${o}-${r}`:`${t}-${o}`});magic("el",e=>e);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(e,t,r){magic(t,n=>warn(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}function entangle({get:e,set:t},{get:r,set:n}){let o=!0,a,s,l=effect(()=>{let c,u;o?(c=e(),n(c),u=r(),o=!1):(c=e(),u=r(),s=JSON.stringify(c),JSON.stringify(u),s!==a?(u=r(),n(c),u=c):(t(u),c=u)),a=JSON.stringify(c),JSON.stringify(u)});return()=>{release(l)}}directive("modelable",(e,{expression:t},{effect:r,evaluateLater:n,cleanup:o})=>{let a=n(t),s=()=>{let f;return a(d=>f=d),f},l=n(`${t} = __placeholder`),c=f=>l(()=>{},{scope:{__placeholder:f}}),u=s();c(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let f=e._x_model.get,d=e._x_model.set,m=entangle({get(){return f()},set(_){d(_)}},{get(){return s()},set(_){c(_)}});o(m)})});var teleportContainerDuringClone=document.createElement("div");directive("teleport",(e,{modifiers:t,expression:r},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&warn("x-teleport can only be used on a <template> tag",e);let o=skipDuringClone(()=>document.querySelector(r),()=>teleportContainerDuringClone)();o||warn(`Cannot find x-teleport element for selector: "${r}"`);let a=e.content.cloneNode(!0).firstElementChild;e._x_teleport=a,a._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(s=>{a.addEventListener(s,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),addScopeToNode(a,{},e),mutateDom(()=>{t.includes("prepend")?o.parentNode.insertBefore(a,o):t.includes("append")?o.parentNode.insertBefore(a,o.nextSibling):o.appendChild(a),initTree(a),a._x_ignore=!0}),n(()=>a.remove())});var handler=()=>{};handler.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};directive("ignore",handler);directive("effect",(e,{expression:t},{effect:r})=>r(evaluateLater(e,t)));function on(e,t,r,n){let o=e,a=c=>n(c),s={},l=(c,u)=>f=>u(c,f);if(r.includes("dot")&&(t=dotSyntax(t)),r.includes("camel")&&(t=camelCase2(t)),r.includes("passive")&&(s.passive=!0),r.includes("capture")&&(s.capture=!0),r.includes("window")&&(o=window),r.includes("document")&&(o=document),r.includes("debounce")){let c=r[r.indexOf("debounce")+1]||"invalid-wait",u=isNumeric(c.split("ms")[0])?Number(c.split("ms")[0]):250;a=debounce(a,u)}if(r.includes("throttle")){let c=r[r.indexOf("throttle")+1]||"invalid-wait",u=isNumeric(c.split("ms")[0])?Number(c.split("ms")[0]):250;a=throttle(a,u)}return r.includes("prevent")&&(a=l(a,(c,u)=>{u.preventDefault(),c(u)})),r.includes("stop")&&(a=l(a,(c,u)=>{u.stopPropagation(),c(u)})),r.includes("self")&&(a=l(a,(c,u)=>{u.target===e&&c(u)})),(r.includes("away")||r.includes("outside"))&&(o=document,a=l(a,(c,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&c(u))})),r.includes("once")&&(a=l(a,(c,u)=>{c(u),o.removeEventListener(t,a,s)})),a=l(a,(c,u)=>{isKeyEvent(t)&&isListeningForASpecificKeyThatHasntBeenPressed(u,r)||c(u)}),o.addEventListener(t,a,s),()=>{o.removeEventListener(t,a,s)}}function dotSyntax(e){return e.replace(/-/g,".")}function camelCase2(e){return e.toLowerCase().replace(/-(\w)/g,(t,r)=>r.toUpperCase())}function isNumeric(e){return!Array.isArray(e)&&!isNaN(e)}function kebabCase2(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(e){return["keydown","keyup"].includes(e)}function isListeningForASpecificKeyThatHasntBeenPressed(e,t){let r=t.filter(a=>!["window","document","prevent","stop","once","capture"].includes(a));if(r.includes("debounce")){let a=r.indexOf("debounce");r.splice(a,isNumeric((r[a+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let a=r.indexOf("throttle");r.splice(a,isNumeric((r[a+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&keyToModifiers(e.key).includes(r[0]))return!1;const o=["ctrl","shift","alt","meta","cmd","super"].filter(a=>r.includes(a));return r=r.filter(a=>!o.includes(a)),!(o.length>0&&o.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),e[`${s}Key`])).length===o.length&&keyToModifiers(e.key).includes(r[0]))}function keyToModifiers(e){if(!e)return[];e=kebabCase2(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(r=>{if(t[r]===e)return r}).filter(r=>r)}directive("model",(e,{modifiers:t,expression:r},{effect:n,cleanup:o})=>{let a=e;t.includes("parent")&&(a=e.parentNode);let s=evaluateLater(a,r),l;typeof r=="string"?l=evaluateLater(a,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?l=evaluateLater(a,`${r()} = __placeholder`):l=()=>{};let c=()=>{let m;return s(_=>m=_),isGetterSetter(m)?m.get():m},u=m=>{let _;s(v=>_=v),isGetterSetter(_)?_.set(m):l(()=>{},{scope:{__placeholder:m}})};typeof r=="string"&&e.type==="radio"&&mutateDom(()=>{e.hasAttribute("name")||e.setAttribute("name",r)});var f=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let d=isCloning?()=>{}:on(e,f,t,m=>{u(getInputValue(e,t,m,c()))});if(t.includes("fill")&&[null,""].includes(c())&&e.dispatchEvent(new Event(f,{})),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,o(()=>e._x_removeModelListeners.default()),e.form){let m=on(e.form,"reset",[],_=>{nextTick(()=>e._x_model&&e._x_model.set(e.value))});o(()=>m())}e._x_model={get(){return c()},set(m){u(m)}},e._x_forceModelUpdate=m=>{m=m===void 0?c():m,m===void 0&&typeof r=="string"&&r.match(/\./)&&(m=""),window.fromModel=!0,mutateDom(()=>bind(e,"value",m)),delete window.fromModel},n(()=>{let m=c();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(m)})});function getInputValue(e,t,r,n){return mutateDom(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail??r.target.value;if(e.type==="checkbox")if(Array.isArray(n)){let o=t.includes("number")?safeParseNumber(r.target.value):r.target.value;return r.target.checked?n.concat([o]):n.filter(a=>!checkedAttrLooseCompare2(a,o))}else return r.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map(o=>{let a=o.value||o.text;return safeParseNumber(a)}):Array.from(r.target.selectedOptions).map(o=>o.value||o.text);{let o=r.target.value;return t.includes("number")?safeParseNumber(o):t.includes("trim")?o.trim():o}}})}function safeParseNumber(e){let t=e?parseFloat(e):null;return isNumeric2(t)?t:e}function checkedAttrLooseCompare2(e,t){return e==t}function isNumeric2(e){return!Array.isArray(e)&&!isNaN(e)}function isGetterSetter(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}directive("cloak",e=>queueMicrotask(()=>mutateDom(()=>e.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((e,{expression:t},{evaluate:r})=>typeof t=="string"?!!t.trim()&&r(t,{},!1):r(t,{},!1)));directive("text",(e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t);r(()=>{o(a=>{mutateDom(()=>{e.textContent=a})})})});directive("html",(e,{expression:t},{effect:r,evaluateLater:n})=>{let o=n(t);r(()=>{o(a=>{mutateDom(()=>{e.innerHTML=a,e._x_ignoreSelf=!0,initTree(e),delete e._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));directive("bind",(e,{value:t,modifiers:r,expression:n,original:o},{effect:a})=>{if(!t){let l={};injectBindingProviders(l),evaluateLater(e,n)(u=>{applyBindingsObject(e,u,o)},{scope:l});return}if(t==="key")return storeKeyForXFor(e,n);let s=evaluateLater(e,n);a(()=>s(l=>{l===void 0&&typeof n=="string"&&n.match(/\./)&&(l=""),mutateDom(()=>bind(e,t,l,r))}))});function storeKeyForXFor(e,t){e._x_keyExpression=t}addRootSelector(()=>`[${prefix("data")}]`);directive("data",skipDuringClone((e,{expression:t},{cleanup:r})=>{t=t===""?"{}":t;let n={};injectMagics(n,e);let o={};injectDataProviders(o,n);let a=evaluate(e,t,{scope:o});(a===void 0||a===!0)&&(a={}),injectMagics(a,e);let s=reactive(a);initInterceptors(s);let l=addScopeToNode(e,s);s.init&&evaluate(e,s.init),r(()=>{s.destroy&&evaluate(e,s.destroy),l()})}));directive("show",(e,{modifiers:t,expression:r},{effect:n})=>{let o=evaluateLater(e,r);e._x_doHide||(e._x_doHide=()=>{mutateDom(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{mutateDom(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let a=()=>{e._x_doHide(),e._x_isShown=!1},s=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(s),c=once(d=>d?s():a(),d=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,d,s,a):d?l():a()}),u,f=!0;n(()=>o(d=>{!f&&d===u||(t.includes("immediate")&&(d?l():a()),c(d),u=d,f=!1)}))});directive("for",(e,{expression:t},{effect:r,cleanup:n})=>{let o=parseForExpression(t),a=evaluateLater(e,o.items),s=evaluateLater(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r(()=>loop(e,o,a,s)),n(()=>{Object.values(e._x_lookup).forEach(l=>l.remove()),delete e._x_prevKeys,delete e._x_lookup})});function loop(e,t,r,n){let o=s=>typeof s=="object"&&!Array.isArray(s),a=e;r(s=>{isNumeric3(s)&&s>=0&&(s=Array.from(Array(s).keys(),p=>p+1)),s===void 0&&(s=[]);let l=e._x_lookup,c=e._x_prevKeys,u=[],f=[];if(o(s))s=Object.entries(s).map(([p,g])=>{let h=getIterationScopeVariables(t,g,p,s);n(y=>f.push(y),{scope:{index:p,...h}}),u.push(h)});else for(let p=0;p<s.length;p++){let g=getIterationScopeVariables(t,s[p],p,s);n(h=>f.push(h),{scope:{index:p,...g}}),u.push(g)}let d=[],m=[],_=[],v=[];for(let p=0;p<c.length;p++){let g=c[p];f.indexOf(g)===-1&&_.push(g)}c=c.filter(p=>!_.includes(p));let E="template";for(let p=0;p<f.length;p++){let g=f[p],h=c.indexOf(g);if(h===-1)c.splice(p,0,g),d.push([E,p]);else if(h!==p){let y=c.splice(p,1)[0],b=c.splice(h-1,1)[0];c.splice(p,0,b),c.splice(h,0,y),m.push([y,b])}else v.push(g);E=g}for(let p=0;p<_.length;p++){let g=_[p];l[g]._x_effects&&l[g]._x_effects.forEach(dequeueJob),l[g].remove(),l[g]=null,delete l[g]}for(let p=0;p<m.length;p++){let[g,h]=m[p],y=l[g],b=l[h],F=document.createElement("div");mutateDom(()=>{b||warn('x-for ":key" is undefined or invalid',a),b.after(F),y.after(b),b._x_currentIfEl&&b.after(b._x_currentIfEl),F.before(y),y._x_currentIfEl&&y.after(y._x_currentIfEl),F.remove()}),b._x_refreshXForScope(u[f.indexOf(h)])}for(let p=0;p<d.length;p++){let[g,h]=d[p],y=g==="template"?a:l[g];y._x_currentIfEl&&(y=y._x_currentIfEl);let b=u[h],F=f[h],S=document.importNode(a.content,!0).firstElementChild,w=reactive(b);addScopeToNode(S,w,a),S._x_refreshXForScope=A=>{Object.entries(A).forEach(([T,P])=>{w[T]=P})},mutateDom(()=>{y.after(S),initTree(S)}),typeof F=="object"&&warn("x-for key cannot be an object, it must be a string or an integer",a),l[F]=S}for(let p=0;p<v.length;p++)l[v[p]]._x_refreshXForScope(u[f.indexOf(v[p])]);a._x_prevKeys=f})}function parseForExpression(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,o=e.match(n);if(!o)return;let a={};a.items=o[2].trim();let s=o[1].replace(r,"").trim(),l=s.match(t);return l?(a.item=s.replace(t,"").trim(),a.index=l[1].trim(),l[2]&&(a.collection=l[2].trim())):a.item=s,a}function getIterationScopeVariables(e,t,r,n){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,l)=>{o[s]=t[l]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{o[s]=t[s]}):o[e.item]=t,e.index&&(o[e.index]=r),e.collection&&(o[e.collection]=n),o}function isNumeric3(e){return!Array.isArray(e)&&!isNaN(e)}function handler2(){}handler2.inline=(e,{expression:t},{cleanup:r})=>{let n=closestRoot(e);n._x_refs||(n._x_refs={}),n._x_refs[t]=e,r(()=>delete n._x_refs[t])};directive("ref",handler2);directive("if",(e,{expression:t},{effect:r,cleanup:n})=>{let o=evaluateLater(e,t),a=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let l=e.content.cloneNode(!0).firstElementChild;return addScopeToNode(l,{},e),mutateDom(()=>{e.after(l),initTree(l)}),e._x_currentIfEl=l,e._x_undoIf=()=>{walk(l,c=>{c._x_effects&&c._x_effects.forEach(dequeueJob)}),l.remove(),delete e._x_currentIfEl},l},s=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};r(()=>o(l=>{l?a():s()})),n(()=>e._x_undoIf&&e._x_undoIf())});directive("id",(e,{expression:t},{evaluate:r})=>{r(t).forEach(o=>setIdRoot(e,o))});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((e,{value:t,modifiers:r,expression:n},{cleanup:o})=>{let a=n?evaluateLater(e,n):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=on(e,t,r,l=>{a(()=>{},{scope:{$event:l},params:[l]})});o(()=>s())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(e,t,r){directive(t,n=>warn(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive$1,effect:effect$1,release:stop,raw:toRaw});var src_default=alpine_default,module_default=src_default;const dataBody=()=>({current:null,navItems:[],observer:null,isNavigating:!1,timeOut:null,ptackModal:!1,stackPhaze:0,music:!1,sectionToVideos:{},init(){const e=document.querySelectorAll("section");this.navItems=Array.from(e).map(t=>({slug:t.dataset.sectionSlug,name:t.dataset.sectionName,element:t})),this.navItems.forEach(t=>{const r=Array.from(t.element.querySelectorAll("video"));this.sectionToVideos[t.slug]=r}),this.current=this.navItems[0].slug,addEventListener("scroll",t=>{clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isNavigating=!1},200)}),this.$watch("current",t=>{window.hasOwnProperty("deactivatePtack")&&window.hasOwnProperty("activatePtack")&&(t!=="animation"?window.deactivatePtack():window.activatePtack()),Object.entries(this.sectionToVideos).forEach(r=>{const[n,o]=r;o.length&&o.forEach(a=>{a.pause()})}),this.sectionToVideos[t].length&&this.sectionToVideos[t].forEach(r=>{r.play()})}),this.observer=new IntersectionObserver(t=>{for(const r of t)if(r.isIntersecting&&!this.isNavigating){const n=r.target.dataset.sectionSlug;this.current=n}},{rootMargin:"-50% 0px"});for(const t of e)this.observer.observe(t)},navClick(e){this.isNavigating=!0;const t=`[data-section-slug=${e}]`,r=document.querySelector(t);r==null||r.scrollIntoView({behavior:"auto",block:"start"}),this.current=e}});window.resizeRaylibCanvas=null;window.Alpine=module_default;module_default.data("dataBody",dataBody);module_default.start();const elements={canvasPtack:null,canvasPtackGrid:null};function scanElements(){elements.canvasPtack=document.querySelector("#canvas"),elements.canvasPtackGrid=document.querySelector("[data-canvas-ptack-grid]")}function getCanvasPtackSize(){return{width:elements.canvasPtack.offsetWidth,height:elements.canvasPtack.offsetHeight}}function attachShaderToContainer(e,t,r){const n=document.getElementById(e),o=document.createElement("shader-doodle");o.setAttribute("shadertoy",""),o.classList.add(...t);const a=document.createElement("script");a.setAttribute("type","x-shader/x-fragment"),a.textContent=r,o.appendChild(a),n.appendChild(o)}let resizeHandler=()=>{const e=getCanvasPtackSize(),t=elements.canvasPtack.width=e.width,r=elements.canvasPtack.height=e.height;window==null||window.resizeRaylibCanvas(t,r)};function attachPtackAnimation(){PtackModule({print:function(e){},canvas:elements.canvasPtack}).then(e=>{window.resizeRaylibCanvas=e.cwrap("onResize",null,["number","number"]),window.activatePtack=e.cwrap("onActivate",null,null),window.deactivatePtack=e.cwrap("onDeactivate",null,null),resizeHandler()}),window.addEventListener("resize",resizeHandler,!0)}document.addEventListener("DOMContentLoaded",()=>{scanElements(),attachShaderToContainer("circlz_shader_container",["w-full","h-auto","aspect-square","lg:aspect-video","lg:w-1/2"],shaderString),attachShaderToContainer("falka_shader_container",["w-full","h-full"],falkaShaderString)});window.onload=()=>{attachPtackAnimation()};
